<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_Jz5U0N7IEeWfkMH0esag_A" name="a1">
    <eAnnotations xmi:id="_K4flYN7IEeWfkMH0esag_A" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_K4flYd7IEeWfkMH0esag_A" source="codegen">
        <details xmi:id="_K4flYt7IEeWfkMH0esag_A" key="codegenDirectory" value="/entitlement-service/service/src/main/java"/>
        <details xmi:id="_LmbCYN7IEeWfkMH0esag_A" key="AssociatedSourceCode" value="/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/GetActiveOnlyWarrantyEntitlementOperation.java;576131953/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/GetWarrantyEntitlementOperation.java;2692804646/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/WorkingType.java;3608886481/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/MultipleInstanceIntegration.java;1644531341/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/SingleInstanceIntegration.java;3045418555/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/WarrantyIntegration.java;1612105625/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/DeliverableMapper.java;1540295153/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/ErrorMapper.java;1424517475/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/LocationMasterMapper.java;2852747671/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroDeliverableMapper.java;4121701991/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroErrorMapper.java;2815293177/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroLocationMasterMapper.java;3402681103/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroModifierMapper.java;4060842230/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroOfferMapper.java;1838230462/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroOosMapper.java;2445024475/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroProductMapper.java;2706952706/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroRequestMapper.java;2989296100/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroSparePartMapper.java;970270783/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroUnitListMapper.java;2269399806/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroWarningMapper.java;3404313959/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroWarrantyEntitlementMapper.java;2869535376/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroWarrantyMapper.java;2550094372/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/MetroWorkingMapper.java;500360021/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/ModifierMapper.java;4050245751/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/OfferMapper.java;900807839/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/OosMapper.java;95239546/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/ProductMapper.java;870280648/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/RequestMapper.java;122790434/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/SparePartMapper.java;2689041294/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/UnitListMapper.java;335942691/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/WarningMapper.java;4207419688/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/WarrantyEntitlementMapper.java;3265778137/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/WarrantyHeaderMapper.java;244223638/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/WarrantyMapper.java;3931298135/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/integration/mapping/WorkingMapper.java;2350421881/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyDeterminationCode.java;176550084/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyDeterminationCodeTest.java;1875667600/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyRoutingInformation.java;2029990452/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyErrorsProcessingTest.java;18597809/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyOrchestration.java;926510136/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyErrorsProcessing.java;3018281851/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyTransaction.java;583193399/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyTransactionComposition.java;520464228/1;/entitlement-service/service/src/main/java/com/hp/es/service/warrantyEntitlement/orchestration/WarrantyTransactionCompositionTest.java;508022646/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_K4gzgN7IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_K4gzgd7IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_K4gzgt7IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_K4gzg97IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_K4hakN7IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_K4hakd7IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_K4hakt7IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_K4hak97IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_K4iBoN7IEeWfkMH0esag_A">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_KnqUEN7IEeWfkMH0esag_A" name="com">
      <packagedElement xmi:type="uml:Package" xmi:id="_Knq7IN7IEeWfkMH0esag_A" name="hp">
        <packagedElement xmi:type="uml:Package" xmi:id="_Knq7Id7IEeWfkMH0esag_A" name="es">
          <packagedElement xmi:type="uml:Package" xmi:id="_Knq7It7IEeWfkMH0esag_A" name="service">
            <packagedElement xmi:type="uml:Class" xmi:id="_LFsT4N7IEeWfkMH0esag_A" name="ProductNumberValidator"/>
            <packagedElement xmi:type="uml:Package" xmi:id="_KnsJQN7IEeWfkMH0esag_A" name="operations">
              <packagedElement xmi:type="uml:Class" xmi:id="_LFuwId7IEeWfkMH0esag_A" name="EsOperation"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LFxMYd7IEeWfkMH0esag_A" name="Operation"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LFzBkd7IEeWfkMH0esag_A" name="OperationContext"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_KnsJQd7IEeWfkMH0esag_A" name="util">
              <packagedElement xmi:type="uml:Class" xmi:id="_LF0Psd7IEeWfkMH0esag_A" name="Configuration"/>
              <packagedElement xmi:type="uml:Package" xmi:id="_KpVvEN7IEeWfkMH0esag_A" name="exception">
                <packagedElement xmi:type="uml:Class" xmi:id="_LGj2kd7IEeWfkMH0esag_A" name="MappingException"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_LF1d0N7IEeWfkMH0esag_A" name="ESLog"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LF2r8N7IEeWfkMH0esag_A" name="ErrorFactory"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LG500N7IEeWfkMH0esag_A" name="XMLIdGenerator"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LG_UYN7IEeWfkMH0esag_A" name="MappingUtils"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LHuUMN7IEeWfkMH0esag_A" name="DateHelper"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_KoD8sN7IEeWfkMH0esag_A" name="warrantyEntitlement">
              <packagedElement xmi:type="uml:Class" xmi:id="_K4e-UN7IEeWfkMH0esag_A" name="GetActiveOnlyWarrantyEntitlementOperation">
                <ownedComment xmi:id="_LQX54N7IEeWfkMH0esag_A">
                  <body>Calls the &lt;code>GetWarrantyEntitlementOperation&lt;/code> and filters out the inactive warranties&#xD;
from the reply of this operation.&#xD;
@author Thorsten Koevi&#xD;
 *</body>
                </ownedComment>
                <generalization xmi:id="_LKO1oN7IEeWfkMH0esag_A" general="_LFuwId7IEeWfkMH0esag_A"/>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOmYQN7IEeWfkMH0esag_A" name="execute" specification="_LKNAcN7IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_LOmYQd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LOmYQt7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LOmYQ97IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LOmYRN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  <language>java</language>
                  <body>Operation _weOperation = getOperationManager().getPublicOperation(&quot;getWarrantyEntitlement&quot;);&#xD;
&#xD;
     EsReply esReply = null;&#xD;
     try { &#xD;
         esReply = (EsReply)_weOperation.processRequest(request, context,metricsHandler);&#xD;
     }&#xD;
     catch (ClassCastException e) {&#xD;
         SifException ex = ErrorFactory.getSifException(&#xD;
             ErrorFactory.id9999_INTERNAL_ERROR, &#xD;
             &quot;The Operation '&quot; + _weOperation.toString() + &quot;'&quot; +&#xD;
             &quot; didn't return an EsReply as expected&quot;);&#xD;
         throw ex;&#xD;
     }&#xD;
&#xD;
     // If the reply contains a unit list simply return the EsReply, no further&#xD;
     // processing necessary.&#xD;
     UnitListComplexType unitList = esReply.getEsReplyChoice().getUnitList();&#xD;
     if(unitList != null) {&#xD;
         return esReply;&#xD;
     }&#xD;
&#xD;
     WarrantyEntitlementComplexType weComplexType = esReply.getEsReplyChoice().getWarrantyEntitlement();&#xD;
     WarrantyComplexType[] warranties = weComplexType.getWarranty();&#xD;
     WarrantyComplexType warranty = null;&#xD;
     // Iterate over all warranties&#xD;
     for(int i = 0; i &lt; warranties.length; i++) {&#xD;
         warranty = warranties[i];&#xD;
          // Iterate over all offers of this warranty to find out which one is active&#xD;
         OfferComplexType[] offers = warranty.getOffer();&#xD;
         OfferComplexType offer = null;&#xD;
         for(int j=0; j&lt;offers.length; j++) {&#xD;
             offer = offers[j];&#xD;
             StatusType status = offer.getAppliesTo(0).getStatus();&#xD;
             if(!status.equals(StatusType.A)) {&#xD;
                 // Delete offer if it is not active&#xD;
                 warranty.removeOffer(offer);&#xD;
             }&#xD;
         }&#xD;
         // check if all offers were removed, if yes remove also the warranty&#xD;
         if (warranty.getOffer().length == 0) {&#xD;
             weComplexType.removeWarranty(warranty);&#xD;
             if ((context.getCatsWarrantyEntitlement() != null) &amp;&amp; (context.getCatsWarrantyEntitlement().getWarranty() != null)&#xD;
                     &amp;&amp; (warranty == context.getCatsWarrantyEntitlement().getWarranty(0))) {&#xD;
                 //Cats Warranty is removed because of inactive warranty&#xD;
                 ESLog.debug(&quot;Cats Warranty is removed because of inactive warranty.&quot;);&#xD;
                 context.setCatsWarrantyEntitlement(null);&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
&#xD;
     return esReply;&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOm_UN7IEeWfkMH0esag_A" name="verifyRequest" specification="_LKOOkN7IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_LOm_Ud7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LOm_Ut7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                  <language>java</language>
                  <body>// This cannot be working well as the request need to be cleanup&#xD;
		WarrantyRequest wr = request.getEsRequestComplexTypeChoice()&#xD;
				.getWarrantyRequest();&#xD;
		&#xD;
		if (wr == null) {&#xD;
			throw ErrorFactory&#xD;
					.getSifException(ErrorFactory.id120_INVALID_REQUEST,&#xD;
							&quot;The GetWarrantyEntitlement operation requires a Warranty request.&quot;);&#xD;
		}&#xD;
		// We first check ISO country code&#xD;
		checkMandatoryParameter(wr.getIsoCountryCd(), &quot;IsoCountryCd()&quot;,&#xD;
				&quot;The parameter IsoCountryCd is missing in GetWarrantyEntitlementOperation&quot;);&#xD;
&#xD;
		// If there is a proof of purchase date. It needs to be NOT in future.&#xD;
		if (wr.getProofPurchaseDate() != null) {&#xD;
			Date d = wr.getProofPurchaseDate().toDate();&#xD;
			if (d.after(new Date())) {&#xD;
				throw ErrorFactory&#xD;
						.getSifException(&#xD;
								ErrorFactory.id201_PARAMETER_HAS_INVALID_DATA,&#xD;
								&quot;The parameter ProofOfPurchaseDate must NOT be a date in future.&quot;);&#xD;
			}&#xD;
&#xD;
		}&#xD;
&#xD;
		// If we have a spare part number we must have ProofPurchaseDate, unit&#xD;
		// Serial Number or DateCode is required&#xD;
		if (wr.getSparePartNumber() != null&#xD;
				&amp;&amp; wr.getSparePartNumber().trim().length() > 0) {&#xD;
			if (wr.getProofPurchaseDate() == null&#xD;
					&amp;&amp; (wr.getSerialNumber() == null || wr.getSerialNumber()&#xD;
							.trim().length() == 0)&#xD;
					&amp;&amp; (wr.getDateCode() == null || wr.getDateCode().trim()&#xD;
							.length() == 0)) {&#xD;
				throw ErrorFactory&#xD;
						.getSifException(ErrorFactory.id200_MISSING_PARAMETER,&#xD;
								&quot;SparePartNumber requires proof of Purchase Date or serial number or date code&quot;);&#xD;
			}&#xD;
		}&#xD;
&#xD;
		// If we have a spare part number we must have ProofPurchaseDate, unit&#xD;
		// Serial Number or DateCode is required&#xD;
		if ((wr.getSparePartNumber() == null || wr.getSparePartNumber().trim()&#xD;
				.length() == 0)&#xD;
				&amp;&amp; (wr.getSerialNumber() == null || wr.getSerialNumber().trim()&#xD;
						.length() == 0)&#xD;
				&amp;&amp; (wr.getProductID() == null || wr.getProductID().trim()&#xD;
						.length() == 0)) {&#xD;
			throw ErrorFactory&#xD;
					.getSifException(&#xD;
							ErrorFactory.id200_MISSING_PARAMETER,&#xD;
							&quot;Warranty entitlement requires SparePartNumber, proof Of Purchase Date or serial number or date code&quot;);&#xD;
		}&#xD;
		int minLength = Configuration.getInstance().getProperties()&#xD;
				.getIntegerProperty(EsConstants.ES_SN_MINLENGTH);&#xD;
		SerialNumberValidator.verifySerialNumberLessThan(wr.getSerialNumber(),&#xD;
				minLength);&#xD;
		SerialNumberValidator.verifyInvalidSerialNumber(wr&#xD;
				.getSerialNumber());&#xD;
		SerialNumberValidator.verifyInvalidSerialNumberPrefix(wr&#xD;
				.getSerialNumber());&#xD;
		SerialNumberValidator.verifyInvalidSerialNumberSuffix(wr.getSerialNumber());&#xD;
		&#xD;
		if( (wr.getProductID()!=null) &amp;&amp; (wr.getProductID().trim().length()!=0)){&#xD;
			int maximum=Configuration.getInstance().getProperties().getIntegerProperty(EsConstants.ES_PN_MAXLENGTH,20);&#xD;
			ProductNumberValidator.verifyProductNumberGreaterThan(wr.getProductID(), maximum);&#xD;
		}&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_K4iosN7IEeWfkMH0esag_A" name="init" visibility="protected"/>
                <ownedOperation xmi:id="_LKNAcN7IEeWfkMH0esag_A" name="execute" visibility="protected" method="_LOmYQN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_LKNAcd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LKNngN7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LKNngd7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LKNngt7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_LKOOkN7IEeWfkMH0esag_A" name="verifyRequest" visibility="protected" method="_LOm_UN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_LKOOkd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LKOOkt7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_KoHAAt7IEeWfkMH0esag_A" name="orchestration">
                <packagedElement xmi:type="uml:Class" xmi:id="_LApb0N7IEeWfkMH0esag_A" name="WarrantyDeterminationCode">
                  <ownedAttribute xmi:id="_LNe98N7IEeWfkMH0esag_A" name="_defaultPriority" visibility="private">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNflAN7IEeWfkMH0esag_A" value="100"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNgMEd7IEeWfkMH0esag_A" name="_mappingProperties" visibility="package" type="_LJE_EN7IEeWfkMH0esag_A" association="_LSXd8d7IEeWfkMH0esag_A">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNgzIN7IEeWfkMH0esag_A" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNhaMd7IEeWfkMH0esag_A" name="_priorityProperties" visibility="package" type="_LJE_EN7IEeWfkMH0esag_A" association="_LSYsEN7IEeWfkMH0esag_A">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNiBQN7IEeWfkMH0esag_A" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNioUd7IEeWfkMH0esag_A" name="_instance" visibility="private" isStatic="true" type="_LApb0N7IEeWfkMH0esag_A" association="_LSYsE97IEeWfkMH0esag_A">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNjPYN7IEeWfkMH0esag_A" value="new WarrantyDeterminationCode()"/>
                  </ownedAttribute>
                  <interfaceRealization xmi:id="_LL2mQN7IEeWfkMH0esag_A" client="_LApb0N7IEeWfkMH0esag_A" supplier="_LJEYAd7IEeWfkMH0esag_A" contract="_LJEYAd7IEeWfkMH0esag_A"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPiMYN7IEeWfkMH0esag_A" name="WarrantyDeterminationCode" specification="_LAr4EN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPiMYd7IEeWfkMH0esag_A" type="_LApb0N7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		// add the class to the config listener to watch the files WarrantyDeterminationCodeTable.properties and WarrantyDeterminationCodePriority.properties&#xD;
     Configuration.getInstance().addConfigChangeListener(EsConstants.WARRANTY_DETERMINATION_CODE_TABLE_PROPERTIES_FILENAME, this);&#xD;
     Configuration.getInstance().addConfigChangeListener(EsConstants.WARRANTY_DETERMINATION_CODE_PRIORITY_PROPERTIES_FILENAME, this);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPizcN7IEeWfkMH0esag_A" name="getInstance" specification="_LAsfId7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPizcd7IEeWfkMH0esag_A" type="_LApb0N7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>return _instance;&#xD;
		&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPizct7IEeWfkMH0esag_A" name="getHighestPriority" specification="_LL30YN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPizc97IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPizdN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPizdd7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>/*&#xD;
		 * When a single unit is found, &#xD;
		 * ES picks up the IB warranty response &#xD;
		 * with the determination code of highest priority and returns it. &#xD;
		 * If all IB warranty responses have the same determination code, ES picks up one randomly. If more than one IB warranty responses are associated to the same unit, &#xD;
		 * the warning 435: �this unit is tracked in multiple SWOP instances� is generated.&#xD;
		 */ &#xD;
		&#xD;
		if(replies == null || replies.size() == 0)&#xD;
		{&#xD;
			ESLog.info(&quot;No valid transaction found&quot;);&#xD;
			throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &quot;Incorrect usage of getHigestPriority&quot;);&#xD;
		}&#xD;
		&#xD;
		// if size=1, use it.&#xD;
		if(replies.size() == 1)&#xD;
		{&#xD;
			Transaction tr = (Transaction)replies.get(0);&#xD;
			if((tr != null &amp;&amp; tr.getMappedReply() != null) &amp;&amp;&#xD;
					(tr.getMappedReply().getEsReplyChoice() != null) &amp;&amp; &#xD;
					(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement() != null) &amp;&amp;&#xD;
					(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS() != null) &amp;&amp; &#xD;
					(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getWarranty().length > 0) &amp;&amp;&#xD;
					(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getWarranty(0)) != null) {&#xD;
				if (tr instanceof WarrantyTransaction)&#xD;
					((WarrantyTransaction)tr).setEsReplyChoice(true);&#xD;
				return tr.getMappedReply();&#xD;
			} else {&#xD;
				ESLog.info(&quot;No valid transaction found&quot;);&#xD;
				throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &quot;Incorrect usage of getHigestPriority&quot;);&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		List&lt;Transaction> transListWithOOSKey = new ArrayList&lt;Transaction>();&#xD;
		List&lt;Transaction> transListWithReqCountryCode = new ArrayList&lt;Transaction>();&#xD;
&#xD;
		Iterator iter = replies.iterator();&#xD;
		while(iter.hasNext()) {&#xD;
			Transaction tr = (Transaction)iter.next();&#xD;
			if((tr != null &amp;&amp; tr.getMappedReply() != null) &amp;&amp;&#xD;
			(tr.getMappedReply().getEsReplyChoice() != null) &amp;&amp; &#xD;
			(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement() != null) &amp;&amp;&#xD;
			(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS() != null)) {&#xD;
				if(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS().getOOSKey() != null &amp;&amp; !&quot;&quot;.equals(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS().getOOSKey())) {&#xD;
					transListWithOOSKey.add(tr);&#xD;
					&#xD;
					if((tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS().getShipToCountry() != null) &amp;&amp;&#xD;
						(request != null &amp;&amp; request.getEsRequestComplexTypeChoice() != null) &amp;&amp; &#xD;
						(request.getEsRequestComplexTypeChoice().getWarrantyRequest() != null) &amp;&amp;&#xD;
						(request.getEsRequestComplexTypeChoice().getWarrantyRequest().getIsoCountryCd() != null)) {&#xD;
						if(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS().getShipToCountry().equalsIgnoreCase(request.getEsRequestComplexTypeChoice().getWarrantyRequest().getIsoCountryCd())) {&#xD;
							transListWithReqCountryCode.add(tr);&#xD;
						}&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		// if 1 warranty response with OOS key, use it.&#xD;
		boolean includeWarning = false;&#xD;
		if(transListWithOOSKey != null &amp;&amp; transListWithOOSKey.size() == 1) {&#xD;
			Transaction tr = (Transaction)transListWithOOSKey.get(0);&#xD;
			if (tr instanceof WarrantyTransaction)&#xD;
	            ((WarrantyTransaction)tr).setEsReplyChoice(true);&#xD;
			return tr.getMappedReply();&#xD;
		} else if(transListWithOOSKey != null &amp;&amp; transListWithOOSKey.size() > 1) {&#xD;
			// if multiple responses with OOS key, warning message 435&#xD;
			includeWarning = true;&#xD;
		}&#xD;
		&#xD;
		// if 1 warranty response (with OOSKey) with requested ship-to ctry code, use it&#xD;
		if(transListWithReqCountryCode != null &amp;&amp; transListWithReqCountryCode.size() == 1) {&#xD;
			Transaction tr = (Transaction)transListWithReqCountryCode.get(0);&#xD;
			if (tr instanceof WarrantyTransaction)&#xD;
	            ((WarrantyTransaction)tr).setEsReplyChoice(true);&#xD;
			&#xD;
			EsReply reply = tr.getMappedReply();&#xD;
			if(includeWarning) {&#xD;
				if(reply.getEsHeader().getWarnings() == null) {&#xD;
					reply.getEsHeader().setWarnings(new Warnings());&#xD;
				}&#xD;
				reply.getEsHeader().getWarnings().addEIAError(ErrorFactory.getEIAError(ErrorFactory.id435_UNIT_TRACKED_IN_SEVERAL_SWOP));&#xD;
			}&#xD;
			return reply;&#xD;
		}&#xD;
		&#xD;
		// if multiple responses with correct ship-to ctry code, remove response with incorrect ship-to ctry code&#xD;
		if(transListWithReqCountryCode != null &amp;&amp; transListWithReqCountryCode.size() > 1) {&#xD;
			for(Iterator&lt;Transaction> it = replies.iterator(); it.hasNext();) {&#xD;
				Transaction tr = (Transaction)it.next();&#xD;
				if(!((tr != null &amp;&amp; tr.getMappedReply() != null) &amp;&amp;&#xD;
					(tr.getMappedReply().getEsReplyChoice() != null) &amp;&amp; &#xD;
					(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement() != null) &amp;&amp;&#xD;
					(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS() != null) &amp;&amp;&#xD;
					(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS().getShipToCountry() != null) &amp;&amp;&#xD;
					(request != null &amp;&amp; request.getEsRequestComplexTypeChoice() != null) &amp;&amp;&#xD;
					(request.getEsRequestComplexTypeChoice().getWarrantyRequest() != null) &amp;&amp;&#xD;
					(request.getEsRequestComplexTypeChoice().getWarrantyRequest().getIsoCountryCd() != null) &amp;&amp;&#xD;
					(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS().getShipToCountry().equalsIgnoreCase(request.getEsRequestComplexTypeChoice().getWarrantyRequest().getIsoCountryCd())))) {&#xD;
					it.remove();&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		int currentPriority = 1000;&#xD;
		Transaction highestPriorityTransaction = null;&#xD;
		boolean duplicatePriority = false;&#xD;
		ESLog.debug(&quot;Will try to find highest priority&quot;);&#xD;
		if(replies != null) {&#xD;
			Iterator it = replies.iterator();&#xD;
			&#xD;
			while(it.hasNext()) {&#xD;
				Transaction tr = (Transaction)it.next();&#xD;
				if((tr != null) &amp;&amp; (tr.getMappedReply() != null) &amp;&amp;&#xD;
				(tr.getMappedReply().getEsReplyChoice() != null) &amp;&amp; &#xD;
				(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement() != null) &amp;&amp;&#xD;
				(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getWarranty() != null) &amp;&amp;&#xD;
				(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getWarranty().length > 0)) {&#xD;
					//We take the first warranty record&#xD;
					if((tr.getMappedReply()).getEsReplyChoice().getWarrantyEntitlement().getWarranty(0) != null &amp;&amp; tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS() != null) {&#xD;
						&#xD;
						&#xD;
						String detCode = (tr.getMappedReply()).getEsReplyChoice().getWarrantyEntitlement().getWarranty(0).getWarrantyDeterminationCode();&#xD;
						ESLog.debug(&quot;Using determnination code: &quot; + detCode);&#xD;
                     //the determination code is checked only for != null, but it should also be checked for an empty string.&#xD;
						if (detCode != null &amp;&amp; detCode.trim().length() != 0) {&#xD;
							// set the current priority to DEFAULT&#xD;
							int retrievedPriority = _defaultPriority;&#xD;
							if (_priorityProperties != null &amp;&amp; _priorityProperties.getIntegerProperty(detCode.trim()) != null) {&#xD;
                             retrievedPriority = _priorityProperties.getIntegerProperty(detCode.trim()).intValue();&#xD;
                         } &#xD;
							ESLog.debug(&quot;Using priority '&quot; + retrievedPriority + &quot;' for determnination code: &quot; + detCode);&#xD;
							// getting the highest priority&#xD;
							// Note the highest priority is 1 and the lowest priority is _defaultPriority&#xD;
							if(currentPriority > retrievedPriority) {&#xD;
								// the retrieved priority is higher then the current priority and&#xD;
								// store the transaction&#xD;
								currentPriority = retrievedPriority;&#xD;
								highestPriorityTransaction = tr;&#xD;
							}&#xD;
							else if(currentPriority == retrievedPriority) {&#xD;
								// if we have the same priority then we just set the flag&#xD;
								// that we have duplicates&#xD;
								duplicatePriority = true;&#xD;
							} &#xD;
						} &#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
//		ESLog.debug(&quot;We found the highest priority: &quot; + currentPriority + &quot;, this is a duplicate id: &quot; + duplicatePriority);&#xD;
		ESLog.debug(&quot;We found the highest priority: &quot; + currentPriority);&#xD;
		if(highestPriorityTransaction == null ) {&#xD;
			ESLog.info(&quot;No highest priority transaction found&quot;);&#xD;
			throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &quot;Incorrect usage of getHigestPriority&quot;);&#xD;
		}&#xD;
		EsReply reply = highestPriorityTransaction.getMappedReply();&#xD;
		&#xD;
     // set the esReplyChoice with true to indicate this tranasction is selected as final es reply.&#xD;
     if (highestPriorityTransaction instanceof WarrantyTransaction)&#xD;
         ((WarrantyTransaction) highestPriorityTransaction).setEsReplyChoice(true);&#xD;
     &#xD;
		// If we have duplicate, we need to create a warning 435&#xD;
		if(includeWarning || duplicatePriority) {	&#xD;
			if(reply.getEsHeader().getWarnings() == null) {&#xD;
				reply.getEsHeader().setWarnings(new Warnings());&#xD;
			}&#xD;
			reply.getEsHeader().getWarnings().addEIAError(ErrorFactory.getEIAError(ErrorFactory.id435_UNIT_TRACKED_IN_SEVERAL_SWOP));&#xD;
		}&#xD;
		&#xD;
		return reply;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPjagN7IEeWfkMH0esag_A" name="configChanged" specification="_LL5pkN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPjagd7IEeWfkMH0esag_A" name="event" type="_LJDw8N7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>if (event != null &amp;&amp; event.getNewConfig() != null) {&#xD;
         ESLog.info(&quot;(Re-)load configuration&quot;);&#xD;
         if (EsConstants.WARRANTY_DETERMINATION_CODE_TABLE_PROPERTIES_FILENAME.equals(event.getConfigName()))&#xD;
             _mappingProperties = event.getNewConfig();&#xD;
         else if (EsConstants.WARRANTY_DETERMINATION_CODE_PRIORITY_PROPERTIES_FILENAME.equals(event.getConfigName())) {&#xD;
             _priorityProperties = event.getNewConfig();                &#xD;
             if (_priorityProperties != null &amp;&amp; _priorityProperties.getIntegerProperty(&quot;default&quot;) != null)&#xD;
                 _defaultPriority = _priorityProperties.getIntegerProperty(&quot;default&quot;).intValue();&#xD;
         }&#xD;
     }&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPkBkN7IEeWfkMH0esag_A" name="getWarrantyDeterminationCode" specification="_LAuUUN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPkBkd7IEeWfkMH0esag_A" name="sourceDateForWarrantyStart">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LPkBkt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(_mappingProperties == null) {&#xD;
         return &quot;&quot;;&#xD;
		} else { &#xD;
			if(_mappingProperties.getProperty(sourceDateForWarrantyStart) == null) {&#xD;
				return &quot;&quot;;&#xD;
			} else {&#xD;
				return _mappingProperties.getProperty(sourceDateForWarrantyStart);&#xD;
			}&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPkBk97IEeWfkMH0esag_A" name="getWarrantyDeterminationDescription" specification="_LAu7YN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPkBlN7IEeWfkMH0esag_A" name="sourceDateForWarrantyStart">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LPkBld7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>if(_mappingProperties == null) {&#xD;
         return &quot;&quot;;&#xD;
		} else {&#xD;
			if(_mappingProperties.getProperty(sourceDateForWarrantyStart + &quot;.description&quot;) == null) {&#xD;
				return &quot;&quot;;&#xD;
			} else { &#xD;
				return _mappingProperties.getProperty(sourceDateForWarrantyStart + &quot;.description&quot;);&#xD;
			}&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LAr4EN7IEeWfkMH0esag_A" name="WarrantyDeterminationCode" visibility="private" method="_LPiMYN7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LAr4Ed7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LAr4Et7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LAsfIN7IEeWfkMH0esag_A" type="_LApb0N7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LAsfId7IEeWfkMH0esag_A" name="getInstance" isStatic="true" method="_LPizcN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQnxgN7IEeWfkMH0esag_A">
                      <body>A method returning the skeleton&#xD;
	 *</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LJFmIN7IEeWfkMH0esag_A" type="_LApb0N7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LAuUUN7IEeWfkMH0esag_A" name="getWarrantyDeterminationCode" method="_LPkBkN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQnxgd7IEeWfkMH0esag_A">
                      <body>getWarrantyDeterminationCode&#xD;
	 * @param sourceDateForWarrantyStart&#xD;
	 * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LAuUUd7IEeWfkMH0esag_A" name="sourceDateForWarrantyStart">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LAuUUt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LAu7YN7IEeWfkMH0esag_A" name="getWarrantyDeterminationDescription" method="_LPkBk97IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQoYkN7IEeWfkMH0esag_A">
                      <body>getWarrantyDeterminationDescription&#xD;
	 * @param sourceDateForWarrantyStart&#xD;
	 * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LAvicN7IEeWfkMH0esag_A" name="sourceDateForWarrantyStart">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LAvicd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LL30YN7IEeWfkMH0esag_A" name="getHighestPriority" method="_LPizct7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LL4bcN7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LL4bcd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LL5CgN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LL5pkN7IEeWfkMH0esag_A" name="configChanged" method="_LPjagN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LL5pkd7IEeWfkMH0esag_A" name="event" type="_LJDw8N7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LA3eQN7IEeWfkMH0esag_A" name="WarrantyDeterminationCodeTest">
                  <generalization xmi:id="_LL7ewN7IEeWfkMH0esag_A" general="_LJJQgd7IEeWfkMH0esag_A"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPlPsN7IEeWfkMH0esag_A" name="main" specification="_LA4sYN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPlPsd7IEeWfkMH0esag_A" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LPlPst7IEeWfkMH0esag_A" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>junit.textui.TestRunner.run(WarrantyDeterminationCodeTest.class);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPlPs97IEeWfkMH0esag_A" name="WarrantyDeterminationCodeTest" specification="_LA6hkN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPlPtN7IEeWfkMH0esag_A" name="arg0">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LPlPtd7IEeWfkMH0esag_A" type="_LA3eQN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super(arg0);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPl2wN7IEeWfkMH0esag_A" name="suite" specification="_LA8WwN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPl2wd7IEeWfkMH0esag_A" type="_LJIpcd7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>// discover test*() methods via reflection:&#xD;
     return new TestSuite(WarrantyDeterminationCodeTest.class);&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPl2wt7IEeWfkMH0esag_A" name="testGetHigestPriorityWithNullReplies" specification="_LA890N7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList&lt;Transaction> replies = null;&#xD;
		EsRequestComplexType request = null;&#xD;
		try {&#xD;
			WarrantyDeterminationCode.getInstance().getHighestPriority(replies, request);&#xD;
			fail();&#xD;
		} catch(Exception e) {&#xD;
			assertTrue(true);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPl2w97IEeWfkMH0esag_A" name="testGetHigestPriorityWithEmptyReplies" specification="_LA9k4N7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList&lt;Transaction> replies = new ArrayList&lt;Transaction>(10);&#xD;
		EsRequestComplexType request = null;&#xD;
		try {&#xD;
			WarrantyDeterminationCode.getInstance().getHighestPriority(replies, request);&#xD;
			fail();&#xD;
		} catch(Exception e) {&#xD;
			assertTrue(true);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPl2xN7IEeWfkMH0esag_A" name="testGetHigestPriorityWithOnlyException" specification="_LA-L8N7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList&lt;Transaction> replies = new ArrayList&lt;Transaction>(10);&#xD;
		EsRequestComplexType request = null;&#xD;
		for(int i= 0;i&lt;10;i++) {&#xD;
			Transaction reply = new ErrorTransaction(null, false, new Throwable(), &quot;Error &quot;+ i,true);&#xD;
			replies.add(reply);&#xD;
		}&#xD;
		&#xD;
		try {&#xD;
			WarrantyDeterminationCode.getInstance().getHighestPriority(replies, request);&#xD;
			fail();&#xD;
		} catch(Exception e) {&#xD;
			assertTrue(true);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPmd0N7IEeWfkMH0esag_A" name="testGetHigestPriorityWithRepliesAndException" specification="_LA-zAN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList&lt;Transaction> replies = new ArrayList&lt;Transaction>(10);&#xD;
		EsRequestComplexType request = null;&#xD;
		for(int i= 0;i&lt;10;i++) {&#xD;
			&#xD;
			if(i%2 == 0) {&#xD;
				Transaction reply = new ErrorTransaction(null, false, ErrorFactory.getSifException(ErrorFactory.id100_SERVICE_UNREACHABLE), &quot;Region &quot;+i, true);&#xD;
				replies.add(reply);&#xD;
			} else {&#xD;
				Transaction reply = new WarrantyTransaction(null, false, null, &quot;&quot;,&quot;REPLY&quot;+i, true);&#xD;
				reply.setSourceSystemThrowable(null);&#xD;
				EsReply esReply = new EsReply();&#xD;
				esReply.setEsHeader(new EsHeader());&#xD;
				esReply.setEsReplyChoice(new EsReplyChoice());&#xD;
				esReply.getEsReplyChoice().setWarrantyEntitlement(new WarrantyEntitlementComplexType());&#xD;
				WarrantyComplexType war = new WarrantyComplexType();&#xD;
				esReply.getEsReplyChoice().getWarrantyEntitlement().addWarranty(war);&#xD;
				war.setWarrantyDeterminationCode(&quot;33&quot;);&#xD;
				reply.setMappedReply(esReply);&#xD;
				replies.add(reply);&#xD;
			}&#xD;
		}&#xD;
		&#xD;
		try {&#xD;
			WarrantyDeterminationCode.getInstance().getHighestPriority(replies, request);&#xD;
			assertTrue(true);&#xD;
		} catch (SifException e1) {&#xD;
			assertTrue(true);&#xD;
		} catch(Exception e) {&#xD;
			System.out.println(&quot;Error&quot;+e.getMessage());&#xD;
			e.printStackTrace();&#xD;
			fail();&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPmd0d7IEeWfkMH0esag_A" name="testWarrantyDeterminationCode" specification="_LA_aEN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>assertEquals(&quot;03&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;01&quot;));&#xD;
		assertEquals(&quot;02&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;02&quot;));&#xD;
		assertEquals(&quot;04&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;04&quot;));&#xD;
		assertEquals(&quot;09&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;09&quot;));&#xD;
		assertEquals(&quot;14&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;14&quot;));&#xD;
		assertEquals(&quot;30&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;06&quot;));&#xD;
		assertEquals(&quot;31&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;03&quot;));&#xD;
		assertEquals(&quot;32&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;05&quot;));&#xD;
		assertEquals(&quot;36&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;07&quot;));&#xD;
		//assertEquals(&quot;33&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;10&quot;));&#xD;
		assertEquals(&quot;33&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;33&quot;));&#xD;
		assertEquals(&quot;&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;88&quot;));&#xD;
		//tests added for TIBET 11		&#xD;
		assertEquals(&quot;20&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;20&quot;));&#xD;
		assertEquals(&quot;21&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;21&quot;));&#xD;
		assertEquals(&quot;22&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;22&quot;));&#xD;
		assertEquals(&quot;23&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;23&quot;));&#xD;
		assertEquals(&quot;24&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;24&quot;));&#xD;
		assertEquals(&quot;25&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;25&quot;));&#xD;
		assertEquals(&quot;26&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;26&quot;));&#xD;
		assertEquals(&quot;27&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;27&quot;));&#xD;
		assertEquals(&quot;28&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(&quot;28&quot;));		&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPnE4N7IEeWfkMH0esag_A" name="testWarrantyDeterminationDescription" specification="_LBABIN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>assertEquals(&quot;Serial Number decode&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;01&quot;));&#xD;
		assertEquals(&quot;Ship date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;02&quot;));&#xD;
		assertEquals(&quot;Sales receipt Purchase date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;04&quot;));&#xD;
		assertEquals(&quot;Manufacturing date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;09&quot;));&#xD;
		assertEquals(&quot;Option warranty&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;14&quot;));&#xD;
		assertEquals(&quot;Factory Restart&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;06&quot;));&#xD;
		assertEquals(&quot;Install Date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;03&quot;));&#xD;
		assertEquals(&quot;Born On Date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;05&quot;));&#xD;
		assertEquals(&quot;Introduction&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;07&quot;));&#xD;
		assertEquals(&quot;&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;55&quot;));&#xD;
		//tests added for TIBET 11&#xD;
		assertEquals(&quot;Factory restart&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;20&quot;));&#xD;
		assertEquals(&quot;Install Date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;21&quot;));&#xD;
		assertEquals(&quot;Born On Date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;22&quot;));&#xD;
		assertEquals(&quot;Sales receipt Purchase date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;23&quot;));&#xD;
		assertEquals(&quot;Out of Warranty&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;24&quot;));&#xD;
		assertEquals(&quot;Dealer Sold Date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;25&quot;));&#xD;
		assertEquals(&quot;Ship date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;26&quot;));&#xD;
		assertEquals(&quot;Ship date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;27&quot;));&#xD;
		assertEquals(&quot;SNR Manufacturing Date&quot;, WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(&quot;28&quot;));&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LA4sYN7IEeWfkMH0esag_A" name="main" isStatic="true" method="_LPlPsN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LA5TcN7IEeWfkMH0esag_A" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LA56gN7IEeWfkMH0esag_A" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LA6hkN7IEeWfkMH0esag_A" name="WarrantyDeterminationCodeTest" method="_LPlPs97IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LA7Iod7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LA7Iot7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LA7IoN7IEeWfkMH0esag_A" name="arg0">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LA7vsN7IEeWfkMH0esag_A" type="_LA3eQN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LA8WwN7IEeWfkMH0esag_A" name="suite" isStatic="true" method="_LPl2wN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LL63sN7IEeWfkMH0esag_A" type="_LJIpcd7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LA890N7IEeWfkMH0esag_A" name="testGetHigestPriorityWithNullReplies" method="_LPl2wt7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LA9k4N7IEeWfkMH0esag_A" name="testGetHigestPriorityWithEmptyReplies" method="_LPl2w97IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LA-L8N7IEeWfkMH0esag_A" name="testGetHigestPriorityWithOnlyException" method="_LPl2xN7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LA-zAN7IEeWfkMH0esag_A" name="testGetHigestPriorityWithRepliesAndException" method="_LPmd0N7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LA_aEN7IEeWfkMH0esag_A" name="testWarrantyDeterminationCode" method="_LPmd0d7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBABIN7IEeWfkMH0esag_A" name="testWarrantyDeterminationDescription" method="_LPnE4N7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LBDrgN7IEeWfkMH0esag_A" name="WarrantyRoutingInformation">
                  <ownedComment xmi:id="_LQo_oN7IEeWfkMH0esag_A">
                    <body>@author JUHANK&#xD;
 *</body>
                  </ownedComment>
                  <ownedAttribute xmi:id="_LNm5wN7IEeWfkMH0esag_A" name="INVALID_ROUTING" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNm5wd7IEeWfkMH0esag_A" value="-1"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNng0N7IEeWfkMH0esag_A" name="SINGLE_INSTANCE_ROUTING" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNng0d7IEeWfkMH0esag_A" value="1"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNoH4N7IEeWfkMH0esag_A" name="MULTIPLE_INSTANCE_ROUTING" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNoH4d7IEeWfkMH0esag_A" value="2"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPnr8N7IEeWfkMH0esag_A" name="WarrantyRoutingInformation" specification="_LBGHwN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPnr8d7IEeWfkMH0esag_A" type="_LBDrgN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		// not needed&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPnr8t7IEeWfkMH0esag_A" name="determineWarrantyRouting" specification="_LL8F0N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPnr897IEeWfkMH0esag_A" name="request" type="_LF_O0d7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPnr9N7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>// SN tag available and not empty&#xD;
		if(request.getSerialNumber() != null &amp;&amp; request.getSerialNumber().trim().length() > 0 ) {&#xD;
			return MULTIPLE_INSTANCE_ROUTING;&#xD;
		}&#xD;
		&#xD;
		// SN tag available and but empty&#xD;
		if(request.getSerialNumber() != null &amp;&amp; request.getSerialNumber().trim().length() == 0 ) {&#xD;
			return SINGLE_INSTANCE_ROUTING;&#xD;
		}&#xD;
&#xD;
		// SN == null&#xD;
		if(request.getSerialNumber() == null) {&#xD;
			return SINGLE_INSTANCE_ROUTING;&#xD;
		}&#xD;
		&#xD;
		// If we reach here we have an invalid request => invalid routing&#xD;
		return INVALID_ROUTING;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LBGHwN7IEeWfkMH0esag_A" name="WarrantyRoutingInformation" visibility="private" method="_LPnr8N7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LBGu0N7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LBGu0d7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LBGu0t7IEeWfkMH0esag_A" type="_LBDrgN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LL8F0N7IEeWfkMH0esag_A" name="determineWarrantyRouting" isStatic="true" method="_LPnr8t7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LL8F0d7IEeWfkMH0esag_A" name="request" type="_LF_O0d7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LL8s4N7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LBJyIN7IEeWfkMH0esag_A" name="WarrantyErrorsProcessingTest">
                  <ownedComment xmi:id="_LQo_od7IEeWfkMH0esag_A">
                    <body>@author ANVOI&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="_LL97AN7IEeWfkMH0esag_A" general="_LJJQgd7IEeWfkMH0esag_A"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPoTAN7IEeWfkMH0esag_A" name="WarrantyErrorsProcessingTest" specification="_LBLAQN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPoTAd7IEeWfkMH0esag_A" type="_LBJyIN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPo6EN7IEeWfkMH0esag_A" name="WarrantyErrorsProcessingTest" specification="_LBLnUN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPo6Ed7IEeWfkMH0esag_A" name="arg0">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LPo6Et7IEeWfkMH0esag_A" type="_LBJyIN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super(arg0);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPo6E97IEeWfkMH0esag_A" name="suite" specification="_LBMOY97IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPo6FN7IEeWfkMH0esag_A" type="_LJIpcd7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>// discover test*() methods via reflection:&#xD;
     return new TestSuite(WarrantyErrorsProcessingTest.class);&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPphIN7IEeWfkMH0esag_A" name="main" specification="_LBNcgN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPphId7IEeWfkMH0esag_A" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LPphIt7IEeWfkMH0esag_A" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>junit.textui.TestRunner.run(suite());&#xD;
&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPphI97IEeWfkMH0esag_A" name="testCountSifExceptionWithNullOrchestrationReplies" specification="_LBODkN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = null;&#xD;
		&#xD;
		int count = WarrantyErrorsProcessing.getInstance().countSifException(replies);&#xD;
		assertEquals(&quot;its should have been 0&quot;,0,count);&#xD;
		&#xD;
		&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPphJN7IEeWfkMH0esag_A" name="testCountSifExceptionWithEmptyOrchestrationReplies" specification="_LBOqoN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = new ArrayList(10);&#xD;
		&#xD;
		int count = WarrantyErrorsProcessing.getInstance().countSifException(replies);&#xD;
		assertEquals(&quot;its should have been 0&quot;,0,count);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPphJd7IEeWfkMH0esag_A" name="testCountSifExceptionWithOnlyException" specification="_LBPRsN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = new ArrayList(10);&#xD;
		for(int i=0;i&lt;10;i++) {&#xD;
			Transaction reply = new ErrorTransaction(null, true, new RuntimeException(),&quot;Error&quot; +i, true);&#xD;
			replies.add(reply);&#xD;
		}&#xD;
		int count = WarrantyErrorsProcessing.getInstance().countSifException(replies);&#xD;
		assertEquals(&quot;its should have been 10&quot;,10,count);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPqIMN7IEeWfkMH0esag_A" name="testCountSifExceptionWithnotOnlyException" specification="_LBP4wN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = new ArrayList(10);&#xD;
		for(int i=0;i&lt;10;i++) {&#xD;
			Transaction reply = new ErrorTransaction(null, true, new RuntimeException(),&quot;Error&quot; +i, true);&#xD;
			if(i%2 != 0) {&#xD;
				reply.setSourceSystemResponse(null);&#xD;
				reply.setSourceSystemThrowable(null);&#xD;
			}&#xD;
			&#xD;
			replies.add(reply);&#xD;
		}&#xD;
		int count = WarrantyErrorsProcessing.getInstance().countSifException(replies);&#xD;
		assertEquals(&quot;its should have been 10&quot;,10, count);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPqIMd7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithNullOrchestrationReplies" specification="_LBQf0N7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = null;&#xD;
		&#xD;
		SifException e = WarrantyErrorsProcessing.getInstance().getHighestPriorityException(replies);&#xD;
		&#xD;
		assertEquals(&quot;its should have been a 9999&quot;,&quot;9999&quot;,e.getErrorID());&#xD;
		&#xD;
		&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPqIMt7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithEmptyOrchestrationReplies" specification="_LBRG4N7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = new ArrayList(10);&#xD;
		&#xD;
		SifException e = WarrantyErrorsProcessing.getInstance().getHighestPriorityException(replies);&#xD;
		&#xD;
		assertEquals(&quot;its should have been a 9999&quot;,&quot;9999&quot;,e.getErrorID());&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPqvQN7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithOneException" specification="_LBRt8N7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = new ArrayList(10);&#xD;
		SifException e1 = ErrorFactory.getSifException(ErrorFactory.id300_NO_DATA_FOUND);&#xD;
		Transaction reply = new ErrorTransaction(null, true, e1,&quot;Error&quot;,true);&#xD;
		replies.add(reply);&#xD;
		&#xD;
		&#xD;
		SifException e2 = WarrantyErrorsProcessing.getInstance().getHighestPriorityException(replies);&#xD;
		&#xD;
		assertEquals(&quot;its should have been a 300&quot;,&quot;300&quot;,e2.getErrorID());&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPqvQd7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithSomeException" specification="_LBSVAN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = new ArrayList(10);&#xD;
		for(int i=0;i&lt;10;i++) {&#xD;
			Transaction reply = null;&#xD;
			if(i%2 != 0) {&#xD;
				SifException e1 =ErrorFactory.getSifException(ErrorFactory.id214_PRODUCT_PART_NOT_ELIGIBLE);&#xD;
				reply = new ErrorTransaction(null, true, e1,&quot;Error&quot; +i, true);&#xD;
			}else {&#xD;
				SifException e1 =ErrorFactory.getSifException(ErrorFactory.id200_MISSING_PARAMETER,&quot;Id&quot;);&#xD;
				reply = new ErrorTransaction(null, true, e1,&quot;Error&quot; +i, true);&#xD;
			}&#xD;
			&#xD;
			replies.add(reply);&#xD;
		}&#xD;
		SifException e2 = WarrantyErrorsProcessing.getInstance().getHighestPriorityException(replies);&#xD;
		&#xD;
		assertEquals(&quot;its should have been a 214&quot;,&quot;214&quot;,e2.getErrorID());&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPqvQt7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithSomeExceptionToRefine" specification="_LBS8EN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = new ArrayList(10);&#xD;
		for(int i = 0; i &lt; 10; i++) {&#xD;
			Transaction reply = null;&#xD;
			if (i == 0) {&#xD;
				SifException e1 = ErrorFactory.getSifException(210, &quot;12345&quot;);&#xD;
				reply = new ErrorTransaction(null, true, e1, &quot;Error&quot; +i, true);&#xD;
			}else if(i%2 != 0) {&#xD;
				SifException e1 = ErrorFactory.getSifException(8000, &quot;AP&quot; + i);&#xD;
				reply = new ErrorTransaction(null, true, e1, &quot;AP&quot; + i, true);&#xD;
			}else {&#xD;
				SifException e1 = ErrorFactory.getSifException(234, &quot;AP&quot; + i);&#xD;
				reply = new ErrorTransaction(null, true, e1, &quot;AP&quot; + i, true);			&#xD;
				&#xD;
			}&#xD;
			&#xD;
			replies.add(reply);&#xD;
		}&#xD;
		SifException e2 = WarrantyErrorsProcessing.getInstance().getHighestPriorityException(replies);&#xD;
		&#xD;
		assertEquals(&quot;its should have been a 234&quot;,&quot;234&quot;,e2.getErrorID());&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LBLAQN7IEeWfkMH0esag_A" name="WarrantyErrorsProcessingTest" method="_LPoTAN7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LBLAQd7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LBLAQt7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LBLAQ97IEeWfkMH0esag_A" type="_LBJyIN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LBLnUN7IEeWfkMH0esag_A" name="WarrantyErrorsProcessingTest" method="_LPo6EN7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LBMOYN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LBMOYd7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LBLnUd7IEeWfkMH0esag_A" name="arg0">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LBMOYt7IEeWfkMH0esag_A" type="_LBJyIN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LBMOY97IEeWfkMH0esag_A" name="suite" isStatic="true" method="_LPo6E97IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LL9T8N7IEeWfkMH0esag_A" type="_LJIpcd7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LBNcgN7IEeWfkMH0esag_A" name="main" isStatic="true" method="_LPphIN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LBNcgd7IEeWfkMH0esag_A" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LBNcgt7IEeWfkMH0esag_A" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LBODkN7IEeWfkMH0esag_A" name="testCountSifExceptionWithNullOrchestrationReplies" method="_LPphI97IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBOqoN7IEeWfkMH0esag_A" name="testCountSifExceptionWithEmptyOrchestrationReplies" method="_LPphJN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBPRsN7IEeWfkMH0esag_A" name="testCountSifExceptionWithOnlyException" method="_LPphJd7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBP4wN7IEeWfkMH0esag_A" name="testCountSifExceptionWithnotOnlyException" method="_LPqIMN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBQf0N7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithNullOrchestrationReplies" method="_LPqIMd7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBRG4N7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithEmptyOrchestrationReplies" method="_LPqIMt7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBRt8N7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithOneException" method="_LPqvQN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBSVAN7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithSomeException" method="_LPqvQd7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LBS8EN7IEeWfkMH0esag_A" name="testGetHighestPriorityExceptionWithSomeExceptionToRefine" method="_LPqvQt7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LBYboN7IEeWfkMH0esag_A" name="WarrantyOrchestration">
                  <generalization xmi:id="_LMI6IN7IEeWfkMH0esag_A" general="_LJP-Md7IEeWfkMH0esag_A"/>
                  <ownedAttribute xmi:id="_LNpWAN7IEeWfkMH0esag_A" name="_instance" visibility="protected" isLeaf="true" isStatic="true" type="_LBYboN7IEeWfkMH0esag_A" isReadOnly="true" association="_LSZTId7IEeWfkMH0esag_A">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNpWAd7IEeWfkMH0esag_A" value="new WarrantyOrchestration()"/>
                  </ownedAttribute>
                  <interfaceRealization xmi:id="_LL-iEN7IEeWfkMH0esag_A" client="_LBYboN7IEeWfkMH0esag_A" supplier="_LJEYAd7IEeWfkMH0esag_A" contract="_LJEYAd7IEeWfkMH0esag_A"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPrWUN7IEeWfkMH0esag_A" name="WarrantyOrchestration" specification="_LBaQ0N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPrWUd7IEeWfkMH0esag_A" type="_LBYboN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
     Configuration.getInstance().addConfigChangeListener(this);&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPr9YN7IEeWfkMH0esag_A" name="getInstance" specification="_LBa34N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPr9Yd7IEeWfkMH0esag_A" type="_LBYboN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>return _instance;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPskcN7IEeWfkMH0esag_A" name="init" specification="_LBbe8N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPskcd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>// nothing to do anymore after changing to country of service&#xD;
     return 0;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPskct7IEeWfkMH0esag_A" name="receiveFromSingleInstance" specification="_LL_wMN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPskc97IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPskdN7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPskdd7IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>Transaction reply = null;&#xD;
     ESLog.debug(&quot;Starting single instance access&quot;);&#xD;
&#xD;
     // create a single integration object for product / spare part calculatiopn&#xD;
     SingleInstanceIntegration singleInstanceIntegration = new SingleInstanceIntegration(request.getEsRequestComplexTypeChoice()&#xD;
             .getWarrantyRequest().getIsoCountryCd());&#xD;
&#xD;
     // start threads for the received access objects w/ timeout&#xD;
     OrchestrationWorker integrationLayerThread = new OrchestrationWorker(request, singleInstanceIntegration, metricsHandler);&#xD;
     ESLog.debug(&quot;Starting 1 thread&quot;);&#xD;
     try {&#xD;
         reply = startOneThreadAndWaitForReply(integrationLayerThread);&#xD;
     } finally {&#xD;
         integrationLayerThread = null;&#xD;
     }&#xD;
&#xD;
     return reply;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPtLgN7IEeWfkMH0esag_A" name="receiveFromMultipleInstances" specification="_LMA-UN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPtLgd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPtLgt7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPtLg97IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPtLhN7IEeWfkMH0esag_A" type="_LGdv8N7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ArrayList replies = null;&#xD;
     // access objects from factory&#xD;
     ESLog.debug(&quot;Starting multiple instance access&quot;);&#xD;
     ArrayList threadList = new ArrayList();&#xD;
     ArrayList listOfRegionName = RegionFactory.getInstance().getAvailableRegionsName();&#xD;
     ManufacturingInstalledBaseHeaderType manufacturingInstalledBaseServiceReply = null;&#xD;
     SifException manufacturingInstalledBaseServiceSE = null;&#xD;
     &#xD;
     &#xD;
     if(context != null) {&#xD;
	        if (context.getManufacturingInstalledBaseServicEsReply() != null &#xD;
	        		&amp;&amp; context.getManufacturingInstalledBaseServicEsReply().getEsReplyChoice() != null &#xD;
	        		&amp;&amp; context.getManufacturingInstalledBaseServicEsReply().getEsReplyChoice().getManufacturingInstalledBaseHeader() != null) {&#xD;
	        	 manufacturingInstalledBaseServiceReply = context.getManufacturingInstalledBaseServicEsReply().getEsReplyChoice().getManufacturingInstalledBaseHeader();&#xD;
	        }&#xD;
&#xD;
     	manufacturingInstalledBaseServiceSE = context.getManufacturingInstalledBaseServiceSifException();&#xD;
     }&#xD;
&#xD;
     // We need to create the integration layers.&#xD;
     for (int i = 0; i &lt; listOfRegionName.size(); i++) {&#xD;
         String regionName = (String) listOfRegionName.get(i);&#xD;
         MultipleInstanceIntegration currentUnitWarrantyIntegrationObject = new MultipleInstanceIntegration(regionName, request&#xD;
                 .getEsRequestComplexTypeChoice().getWarrantyRequest().getIsoCountryCd(), manufacturingInstalledBaseServiceReply,manufacturingInstalledBaseServiceSE);&#xD;
         ESLog.debug(&quot;Prepraring thread for region: &quot; + currentUnitWarrantyIntegrationObject.getRegionName());&#xD;
         Thread integrationLayerThread = new OrchestrationWorker(request, currentUnitWarrantyIntegrationObject, metricsHandler);&#xD;
         threadList.add(integrationLayerThread);&#xD;
     }&#xD;
     // start threads for the received access objects w/ timeout&#xD;
     ESLog.debug(&quot;Starting threads&quot;);&#xD;
&#xD;
     try {&#xD;
         ESLog.debug(&quot;Start SWOP access threads&quot;);&#xD;
         long startTime = startWorkerThreads(threadList);&#xD;
         ESLog.debug(&quot;Wait for the SWOP access threads&quot;);&#xD;
         replies = waitForWorkerThreads(threadList, startTime);&#xD;
     } finally {&#xD;
         threadList.clear();&#xD;
     }&#xD;
&#xD;
     return replies;&#xD;
&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPtykN7IEeWfkMH0esag_A" name="mergeMultipleWarrantyReplies" specification="_LMCzgN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPtykd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPtykt7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPtyk97IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPtylN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPtyld7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Warranty merging is beginning&quot;);&#xD;
&#xD;
	        if (WarrantyErrorsProcessing.getInstance().countSifException(replies) == replies.size()) {&#xD;
	&#xD;
	            // We only got exception.&#xD;
	        	// we need to check if SNR has a Unit list if so, we'll return it&#xD;
	        	if (context.getManufacturingInstalledBaseServicEsReply() != null ) {&#xD;
	        		EsReply esReplyFromMIBService =context.getManufacturingInstalledBaseServicEsReply();&#xD;
					if(esReplyFromMIBService != null &amp;&amp; esReplyFromMIBService.getEsReplyChoice() !=null &amp;&amp; esReplyFromMIBService.getEsReplyChoice().getUnitList() != null) {&#xD;
						ESLog.info(&quot;SNR have returned a unit list, we are not looking at SWOP error here&quot;);&#xD;
						return esReplyFromMIBService;&#xD;
					}&#xD;
	        	}&#xD;
	            ESLog.debug(&quot;We only got execption so , First we try to prioritize errors&quot;);&#xD;
	&#xD;
	            SifException composedError = WarrantyErrorsProcessing.getInstance().getHighestPriorityException(replies);&#xD;
	            if (composedError != null) {&#xD;
	                ESLog.debug(&quot;Warranty merging was having only exception&quot;);&#xD;
	                throw composedError;&#xD;
	            }&#xD;
	        }&#xD;
	        // We are getting a reply how of it&#xD;
	        ESLog.debug(&quot;A composed reply will be generated&quot;);&#xD;
&#xD;
	        return WarrantyTransactionComposition.getInstance().getComposedReply(replies, request);&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPuZoN7IEeWfkMH0esag_A" name="cleanWarrantyReplies" specification="_LMEosN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPuZod7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Cleaning up orchestration&quot;);&#xD;
		try {&#xD;
			if(replies != null) {&#xD;
				Iterator it = replies.iterator();&#xD;
				// go through all replies &#xD;
				while(it.hasNext()) {&#xD;
					Transaction tr= (Transaction)it.next();&#xD;
					tr.destroy();&#xD;
				}&#xD;
			}&#xD;
		}catch(Exception e)  {&#xD;
			ESLog.debug(&quot;Found an exception while cleaning up&quot;,e);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPvAsN7IEeWfkMH0esag_A" name="execute" specification="_LMFPwN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPvAsd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPvAst7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPvAs97IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPvAtN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>String methodId = &quot;WarrantyOrchestration.execute()&quot;;&#xD;
     MetricsEntry overallTime = null;&#xD;
     if (metricsHandler != null)&#xD;
         overallTime = metricsHandler.startEntry(methodId);&#xD;
&#xD;
     EsReply esReply = null;&#xD;
     ESLog.debug(&quot;execute starting&quot;);&#xD;
     Transaction reply = null;&#xD;
     ArrayList replies = null;&#xD;
     try {&#xD;
&#xD;
         // We check what kind of warranty request we have&#xD;
         switch (WarrantyRoutingInformation.determineWarrantyRouting(request.getEsRequestComplexTypeChoice().getWarrantyRequest())) {&#xD;
         case WarrantyRoutingInformation.MULTIPLE_INSTANCE_ROUTING:&#xD;
             ESLog.debug(&quot;execute MULTIPLE_INSTANCE_ROUTING&quot;);&#xD;
             replies = receiveFromMultipleInstances(request,context, metricsHandler);&#xD;
             esReply = mergeMultipleWarrantyReplies(replies,context, metricsHandler, request);&#xD;
             ESLog.debug(&quot;Starting calculateHeaderFields with esReply: &quot; + esReply + &quot; and replies: &quot; + replies);&#xD;
             esReply = calculateHeaderFields(esReply, replies);&#xD;
&#xD;
             // calculate support line to fill the context&#xD;
             Iterator iterator = replies.iterator();&#xD;
             boolean flagFound=false;&#xD;
             while (iterator.hasNext() &amp;&amp; flagFound == false) {&#xD;
                 // check esReplyChoice to determine which swop warranty transaction will be used&#xD;
                 // to get production line&#xD;
                 Object transaction = iterator.next();&#xD;
                 if (transaction instanceof WarrantyTransaction) {&#xD;
                     WarrantyTransaction wt = (WarrantyTransaction) transaction;&#xD;
                     if (wt.isEsReplyChoice()) {&#xD;
                         String swopProductLine = wt.getProductLine();&#xD;
                         ESLog.debug(&quot;In SWOP warranty, the WarrantyInfo.SupportLine is: &quot; + swopProductLine);&#xD;
                         context.setSupportLineFromSwop(swopProductLine);&#xD;
                         flagFound = true;&#xD;
                     }&#xD;
                 }&#xD;
             }&#xD;
&#xD;
             break;&#xD;
&#xD;
         case WarrantyRoutingInformation.SINGLE_INSTANCE_ROUTING:&#xD;
             ESLog.debug(&quot;execute SINGLE_INSTANCE_ROUTING&quot;);&#xD;
             reply = receiveFromSingleInstance(request, metricsHandler);&#xD;
             if (reply.getMappedErrors() != null &amp;&amp; reply.getMappedErrors().size() != 0) {&#xD;
                 ArrayList list = new ArrayList();&#xD;
                 list.add(reply);&#xD;
&#xD;
                 throw WarrantyErrorsProcessing.getInstance().getHighestPriorityException(list);&#xD;
             }&#xD;
&#xD;
             esReply = reply.getMappedReply();&#xD;
             esReply = calculateHeaderFields(esReply);&#xD;
&#xD;
             // calculate support line to fill the context&#xD;
             if (reply instanceof WarrantyTransaction) {&#xD;
                 WarrantyTransaction wt = (WarrantyTransaction) reply;&#xD;
                 if (wt != null)&#xD;
                     context.setSupportLineFromSwop(((WarrantyTransaction) reply).getProductLine());&#xD;
             }&#xD;
&#xD;
             break;&#xD;
&#xD;
         case WarrantyRoutingInformation.INVALID_ROUTING:&#xD;
         default:&#xD;
             ESLog.info(&quot;Invalid Warranty Scenario&quot;);&#xD;
             throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &quot;This is not a valid warranty scenario&quot;);&#xD;
         }&#xD;
&#xD;
         return esReply;&#xD;
&#xD;
     } finally {&#xD;
         if (overallTime != null)&#xD;
             overallTime.actionDone();&#xD;
        if(replies != null)&#xD;
     	   this.cleanWarrantyReplies(replies);&#xD;
        if (reply != null) {&#xD;
     	   reply.destroy();&#xD;
        }&#xD;
     }&#xD;
&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPvnwN7IEeWfkMH0esag_A" name="calculateHeaderFields" specification="_LMHE8N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPvnwd7IEeWfkMH0esag_A" name="esReply" type="_LF36Ed7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPvnwt7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPvnw97IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Start calculation&quot;);&#xD;
     // We are adding the system not available warning&#xD;
     // if this is not a unit list&#xD;
&#xD;
     ESLog.debug(&quot;get unavailable regions&quot;);&#xD;
     String listOfUnavailableRegion = WarrantyErrorsProcessing.getInstance().getUnavailableRegionList(replies);&#xD;
&#xD;
     if (!&quot;&quot;.equalsIgnoreCase(listOfUnavailableRegion)) {&#xD;
         ESLog.debug(&quot;Some regions were not available: &quot; + listOfUnavailableRegion);&#xD;
         EIAError eiaError = ErrorFactory.getEIAError(ErrorFactory.id400_SYSTEM_NOT_AVAILABLE, listOfUnavailableRegion);&#xD;
         Warnings warnings = null;&#xD;
         ESLog.debug(&quot;Check for warnings&quot;);&#xD;
         ESLog.debug(&quot;esReply: &quot; + esReply);&#xD;
         if (esReply.getEsHeader().getWarnings() == null) {&#xD;
             ESLog.debug(&quot;Create new warnings&quot;);&#xD;
             warnings = new Warnings();&#xD;
             esReply.getEsHeader().setWarnings(warnings);&#xD;
         }&#xD;
         warnings = esReply.getEsHeader().getWarnings();&#xD;
         ESLog.debug(&quot;Add a new error to the warnings: &quot; + warnings);&#xD;
         warnings.addEIAError(eiaError);&#xD;
     }&#xD;
     ESLog.debug(&quot;Exit&quot;);&#xD;
     return esReply;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPvnxN7IEeWfkMH0esag_A" name="calculateHeaderFields" specification="_LMHsAN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPvnxd7IEeWfkMH0esag_A" name="esReply" type="_LF36Ed7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LPvnxt7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>// Those fields are already calculated, this the last chance to add them, so let's keep this&#xD;
     // method&#xD;
     ESLog.debug(&quot;Nothing is done - because the fields are already calculated&quot;);&#xD;
     return esReply;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPwO0N7IEeWfkMH0esag_A" name="configChanged" specification="_LMITEd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPwO0d7IEeWfkMH0esag_A" name="event" type="_LJDw8N7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>String threadTimeoutEnable = event.getNewConfig().getProperty(&quot;es.sap.integration.thread.timeout.enable&quot;);&#xD;
     String threadTimeout = event.getNewConfig().getProperty(&quot;es.sap.integration.thread.timeout&quot;);&#xD;
&#xD;
     if ((threadTimeoutEnable != null) &amp;&amp; (threadTimeoutEnable.trim().equalsIgnoreCase(&quot;true&quot;))) {&#xD;
         _threadTimeoutEnable = true;&#xD;
     }&#xD;
     if ((threadTimeout != null) &amp;&amp; (threadTimeout.trim().length() > 0)) {&#xD;
         _threadTimeout = Long.parseLong(threadTimeout);&#xD;
     }&#xD;
&#xD;
 </body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LBaQ0N7IEeWfkMH0esag_A" name="WarrantyOrchestration" visibility="private" method="_LPrWUN7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LBaQ0d7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LBaQ0t7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedComment xmi:id="_LQpmsN7IEeWfkMH0esag_A">
                      <body>Default Constructor. It will do initializatiuon at the same time</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LBaQ097IEeWfkMH0esag_A" type="_LBYboN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LBa34N7IEeWfkMH0esag_A" name="getInstance" isStatic="true" method="_LPr9YN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQpmsd7IEeWfkMH0esag_A">
                      <body>Instance Method</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LJRMUN7IEeWfkMH0esag_A" type="_LBYboN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LBbe8N7IEeWfkMH0esag_A" name="init" visibility="protected" method="_LPskcN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQqNwN7IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.SourceSystemsOrchestration#init()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LBbe8d7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LL_wMN7IEeWfkMH0esag_A" name="receiveFromSingleInstance" visibility="protected" method="_LPskct7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQqNwd7IEeWfkMH0esag_A">
                      <body>receiveFromSingleInstance is used for sending the request to a single instance for product /&#xD;
     * spare part calculation @param request @param metricsHandler</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LL_wMd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMAXQN7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMAXQd7IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMA-UN7IEeWfkMH0esag_A" name="receiveFromMultipleInstances" visibility="protected" method="_LPtLgN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQqNwt7IEeWfkMH0esag_A">
                      <body>receiveFromMultipleInstances is used for sending the request to a all instances for unit&#xD;
     * warranty and product / spare part calculation @param request @param metricsHandler</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMBlYN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMBlYd7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMBlYt7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMCMcN7IEeWfkMH0esag_A" type="_LGdv8N7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMCzgN7IEeWfkMH0esag_A" name="mergeMultipleWarrantyReplies" visibility="protected" method="_LPtykN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQqNw97IEeWfkMH0esag_A">
                      <body>@param metricsHandler</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMDakN7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMDakd7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMDakt7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMDak97IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMEBoN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMEosN7IEeWfkMH0esag_A" name="cleanWarrantyReplies" visibility="private" method="_LPuZoN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LMEosd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMFPwN7IEeWfkMH0esag_A" name="execute" method="_LPvAsN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQq00N7IEeWfkMH0esag_A">
                      <body>The public interface It execute to get warranty @param The request @param metrics handler to&#xD;
     * track time @throws SifException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMF20N7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMF20d7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMF20t7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMGd4N7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMHE8N7IEeWfkMH0esag_A" name="calculateHeaderFields" visibility="private" method="_LPvnwN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQq00d7IEeWfkMH0esag_A">
                      <body>EsReply the reply to calculate header field.&#xD;
     *</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMHE8d7IEeWfkMH0esag_A" name="esReply" type="_LF36Ed7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMHE8t7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMHE897IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMHsAN7IEeWfkMH0esag_A" name="calculateHeaderFields" visibility="private" method="_LPvnxN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQrb4N7IEeWfkMH0esag_A">
                      <body>Calculate header fields @param reply @return reply&#xD;
     *</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMHsAd7IEeWfkMH0esag_A" name="esReply" type="_LF36Ed7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMITEN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMITEd7IEeWfkMH0esag_A" name="configChanged" method="_LPwO0N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LMITEt7IEeWfkMH0esag_A" name="event" type="_LJDw8N7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LB1uoN7IEeWfkMH0esag_A" name="WarrantyErrorsProcessing" visibility="package">
                  <ownedComment xmi:id="_LQrb4d7IEeWfkMH0esag_A">
                    <body>This class represents warranty error priority processing.&#xD;
It encapsulates any rule to manipulates SifExecption related to warranty processing</body>
                  </ownedComment>
                  <generalization xmi:id="_LML9cN7IEeWfkMH0esag_A" general="_LJa9UN7IEeWfkMH0esag_A"/>
                  <ownedAttribute xmi:id="_LNsZUN7IEeWfkMH0esag_A" name="PRIORITY_1_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNsZUd7IEeWfkMH0esag_A" value="1"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNtAYd7IEeWfkMH0esag_A" name="PRIORITY_1_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNtncN7IEeWfkMH0esag_A" value="214"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNu1kN7IEeWfkMH0esag_A" name="PRIORITY_1_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNvcoN7IEeWfkMH0esag_A" value="214"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNwDsd7IEeWfkMH0esag_A" name="PRIORITY_2_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNwqwN7IEeWfkMH0esag_A" value="2"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNx44N7IEeWfkMH0esag_A" name="PRIORITY_2_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNx44d7IEeWfkMH0esag_A" value="200"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LNzHAN7IEeWfkMH0esag_A" name="PRIORITY_2_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNzuEN7IEeWfkMH0esag_A" value="200"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN0VIN7IEeWfkMH0esag_A" name="PRIORITY_3_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN08MN7IEeWfkMH0esag_A" value="3"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN2KUN7IEeWfkMH0esag_A" name="PRIORITY_3_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN2KUd7IEeWfkMH0esag_A" value="201"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN3YcN7IEeWfkMH0esag_A" name="PRIORITY_3_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN3_gN7IEeWfkMH0esag_A" value="201"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN4mkN7IEeWfkMH0esag_A" name="PRIORITY_4_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN5NoN7IEeWfkMH0esag_A" value="4"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN6bwN7IEeWfkMH0esag_A" name="PRIORITY_4_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN7C0N7IEeWfkMH0esag_A" value="202"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN7p4N7IEeWfkMH0esag_A" name="PRIORITY_4_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN8Q8N7IEeWfkMH0esag_A" value="232"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN84Ad7IEeWfkMH0esag_A" name="PRIORITY_5_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN9fEN7IEeWfkMH0esag_A" value="5"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN-tMN7IEeWfkMH0esag_A" name="PRIORITY_5_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN-tMd7IEeWfkMH0esag_A" value="212"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LN_7UN7IEeWfkMH0esag_A" name="PRIORITY_5_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LN_7Ud7IEeWfkMH0esag_A" value="233"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOAiYd7IEeWfkMH0esag_A" name="PRIORITY_6_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOBJcN7IEeWfkMH0esag_A" value="6"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOBwgN7IEeWfkMH0esag_A" name="PRIORITY_6_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOBwgd7IEeWfkMH0esag_A" value="210"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOCXkd7IEeWfkMH0esag_A" name="PRIORITY_6_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOC-oN7IEeWfkMH0esag_A" value="234"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LODlsN7IEeWfkMH0esag_A" name="PRIORITY_7_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LODlsd7IEeWfkMH0esag_A" value="7"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOEMwd7IEeWfkMH0esag_A" name="PRIORITY_7_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOEz0N7IEeWfkMH0esag_A" value="213"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOFa4d7IEeWfkMH0esag_A" name="PRIORITY_7_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOGB8N7IEeWfkMH0esag_A" value="235"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOGpAd7IEeWfkMH0esag_A" name="PRIORITY_8_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOHQEN7IEeWfkMH0esag_A" value="8"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOH3Id7IEeWfkMH0esag_A" name="PRIORITY_8_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOIeMN7IEeWfkMH0esag_A" value="300"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOJFQd7IEeWfkMH0esag_A" name="PRIORITY_8_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOJsUN7IEeWfkMH0esag_A" value="301"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOKTYN7IEeWfkMH0esag_A" name="PRIORITY_9_ID_VALUE" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOKTYd7IEeWfkMH0esag_A" value="9"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOK6cd7IEeWfkMH0esag_A" name="PRIORITY_9_ID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOLhgN7IEeWfkMH0esag_A" value="224"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LOMIkN7IEeWfkMH0esag_A" name="PRIORITY_9_NID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOMvoN7IEeWfkMH0esag_A" value="224"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LONWsd7IEeWfkMH0esag_A" name="_instance" visibility="private" isStatic="true" type="_LB1uoN7IEeWfkMH0esag_A" association="_LSZ6Md7IEeWfkMH0esag_A">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LON9wN7IEeWfkMH0esag_A" value="new WarrantyErrorsProcessing()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPz5MN7IEeWfkMH0esag_A" name="WarrantyErrorsProcessing" specification="_LCFmQN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LPz5Md7IEeWfkMH0esag_A" type="_LB1uoN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP0gQN7IEeWfkMH0esag_A" name="getInstance" specification="_LCG0YN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP0gQd7IEeWfkMH0esag_A" type="_LB1uoN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>// Get a singleton instance&#xD;
&#xD;
		return _instance;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP0gQt7IEeWfkMH0esag_A" name="getRedefinedSifException" specification="_LMKIQN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP0gQ97IEeWfkMH0esag_A" name="composedException" type="_LGC5Md7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LP0gRN7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LP0gRd7IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>int refinedId = 0;&#xD;
		int composedId = 0;&#xD;
		SifException refinedException = composedException;&#xD;
		&#xD;
		try {&#xD;
			composedId =Integer.valueOf(composedException.getErrorID()).intValue();&#xD;
		}catch (NumberFormatException nfe) {&#xD;
			ESLog.debug(&quot;Incorrect SifException error Id &quot; + composedException.getErrorID());&#xD;
			composedId = -1;&#xD;
		}		&#xD;
		&#xD;
&#xD;
		refinedId = getRefinedIdForSifException(composedId);&#xD;
		//In that case we may need to have a list of down region&#xD;
		//We need to get the string concanetion of the region that were down or unavailable&#xD;
		String unaivalableRegionList=&quot;&quot;;&#xD;
		unaivalableRegionList = getUnavailableRegionList(replies);&#xD;
		if((composedId != refinedId)  &amp;&amp; (unaivalableRegionList.trim().length() != 0)){&#xD;
				refinedException = ErrorFactory.getSifException(refinedId,unaivalableRegionList);&#xD;
		}&#xD;
		return refinedException;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP1HUN7IEeWfkMH0esag_A" name="getPriorityForSifException" specification="_LMLWYN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP1HUd7IEeWfkMH0esag_A" name="e" type="_LGC5Md7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LP1HUt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Enter&quot;);&#xD;
		int priority = MAX_PRIORITY;&#xD;
		int errorId;&#xD;
		try {&#xD;
			errorId =Integer.valueOf(e.getErrorID()).intValue();&#xD;
		} catch (NumberFormatException nfe) {&#xD;
			ESLog.debug(&quot;Incorrect SifException error Id &quot; + e.getErrorID());&#xD;
			errorId = -1;&#xD;
		}&#xD;
		&#xD;
		if(errorId == PRIORITY_1_ID) {&#xD;
			priority = PRIORITY_1_ID_VALUE;&#xD;
		}else if(errorId == PRIORITY_2_ID){&#xD;
			priority = PRIORITY_2_ID_VALUE;&#xD;
		}else if(errorId == PRIORITY_3_ID){&#xD;
			priority = PRIORITY_3_ID_VALUE;&#xD;
		}else if(errorId == PRIORITY_4_ID){&#xD;
			priority = PRIORITY_4_ID_VALUE;&#xD;
		}else if(errorId == PRIORITY_5_ID){&#xD;
			priority = PRIORITY_5_ID_VALUE;&#xD;
		}else if(errorId == PRIORITY_6_ID){&#xD;
			priority = PRIORITY_6_ID_VALUE;&#xD;
		}else if(errorId == PRIORITY_7_ID){&#xD;
			priority = PRIORITY_7_ID_VALUE;&#xD;
		}else if(errorId == PRIORITY_8_ID){&#xD;
			priority = PRIORITY_8_ID_VALUE;&#xD;
		}else if(errorId == PRIORITY_9_ID){&#xD;
			priority = PRIORITY_9_ID_VALUE;&#xD;
		}&#xD;
		ESLog.debug(&quot;Exit - The priority is: &quot; + priority);&#xD;
		return priority;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP1uYN7IEeWfkMH0esag_A" name="getRefinedIdForSifException" specification="_LCJQoN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP1uYd7IEeWfkMH0esag_A" name="errorId">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LP1uYt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Enter&quot;);&#xD;
&#xD;
		int refinedId = errorId;&#xD;
		&#xD;
		if(errorId == PRIORITY_1_ID) {&#xD;
			refinedId = PRIORITY_1_NID;&#xD;
		}else if(errorId == PRIORITY_2_ID){&#xD;
			refinedId = PRIORITY_2_NID;&#xD;
		}else if(errorId == PRIORITY_3_ID){&#xD;
			refinedId = PRIORITY_3_NID;&#xD;
		}else if(errorId == PRIORITY_4_ID){&#xD;
			refinedId = PRIORITY_4_NID;&#xD;
		}else if(errorId == PRIORITY_5_ID){&#xD;
			refinedId = PRIORITY_5_NID;&#xD;
		}else if(errorId == PRIORITY_6_ID){&#xD;
			refinedId = PRIORITY_6_NID;&#xD;
		}else if(errorId == PRIORITY_7_ID){&#xD;
			refinedId = PRIORITY_7_NID;&#xD;
		}else if(errorId == PRIORITY_8_ID){&#xD;
			refinedId = PRIORITY_8_NID;&#xD;
		}else if(errorId == PRIORITY_9_ID){&#xD;
			refinedId = PRIORITY_9_NID;&#xD;
		}&#xD;
		&#xD;
		ESLog.debug(&quot;Exit - The RefinedId is: &quot; + refinedId);&#xD;
		return refinedId;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LCFmQN7IEeWfkMH0esag_A" name="WarrantyErrorsProcessing" visibility="protected" method="_LPz5MN7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LCGNUN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LCGNUd7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LCGNUt7IEeWfkMH0esag_A" type="_LB1uoN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCG0YN7IEeWfkMH0esag_A" name="getInstance" visibility="package" isStatic="true" method="_LP0gQN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQtREN7IEeWfkMH0esag_A">
                      <body>Get the instance&#xD;
	 * @return the singleton</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LJdZkN7IEeWfkMH0esag_A" type="_LB1uoN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCJQoN7IEeWfkMH0esag_A" name="getRefinedIdForSifException" visibility="private" method="_LP1uYN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQt4Id7IEeWfkMH0esag_A">
                      <body>We will assign a priority to the SifException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCJQod7IEeWfkMH0esag_A" name="errorId">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LCJQot7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMKIQN7IEeWfkMH0esag_A" name="getRedefinedSifException" visibility="protected" method="_LP0gQt7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LMKIQd7IEeWfkMH0esag_A" name="composedException" type="_LGC5Md7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMKvUN7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMKvUd7IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMLWYN7IEeWfkMH0esag_A" name="getPriorityForSifException" visibility="protected" method="_LP1HUN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQt4IN7IEeWfkMH0esag_A">
                      <body>We will assign a priority to the SifException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMLWYd7IEeWfkMH0esag_A" name="e" type="_LGC5Md7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMLWYt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LCWE8N7IEeWfkMH0esag_A" name="WarrantyTransaction">
                  <ownedComment xmi:id="_LQufMN7IEeWfkMH0esag_A">
                    <body>@author juhank</body>
                  </ownedComment>
                  <generalization xmi:id="_LMRdAd7IEeWfkMH0esag_A" general="_LGVNEN7IEeWfkMH0esag_A"/>
                  <ownedAttribute xmi:id="_LOTdUN7IEeWfkMH0esag_A" name="_esReplyChoice" visibility="private">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOUEYN7IEeWfkMH0esag_A" value="false"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP4xsN7IEeWfkMH0esag_A" name="WarrantyTransaction" specification="_LMPAwd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP4xsd7IEeWfkMH0esag_A" name="config" type="_LGjPgd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LP4xst7IEeWfkMH0esag_A" name="failoverMode">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LP4xs97IEeWfkMH0esag_A" name="sourceReply" type="_LMOZsN7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LP4xtN7IEeWfkMH0esag_A" name="functionName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LP4xtd7IEeWfkMH0esag_A" name="displayName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LP4xtt7IEeWfkMH0esag_A" name="isLocal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LP4xt97IEeWfkMH0esag_A" type="_LCWE8N7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super(config, failoverMode, sourceReply, functionName, displayName, isLocal);&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP5YwN7IEeWfkMH0esag_A" name="isSourceSystemUnitList" specification="_LCX6IN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP5Ywd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Checking for SourceSystemUnitList&quot;);&#xD;
&#xD;
&#xD;
     SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     if (out.getZWTYLOOKUP().getPRODLIST() != null) {&#xD;
         if (out.getZWTYLOOKUP().getPRODLIST().getItem().size() > 1) {&#xD;
             return true;&#xD;
         }&#xD;
     }&#xD;
     return false;&#xD;
&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP5Ywt7IEeWfkMH0esag_A" name="getSourceSystemUnitList" specification="_LCYhMN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP5Yw97IEeWfkMH0esag_A" type="_LMOZsN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Getting for SourceSystemUnitList&quot;);&#xD;
     SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     return out.getZWTYLOOKUP().getPRODLIST();&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP5YxN7IEeWfkMH0esag_A" name="isSourceSystemStandardReply" specification="_LCYhMd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP5Yxd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Checking for SourceSystemStandardReply&quot;);&#xD;
     SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     return (out.getZWTYLOOKUP()!=null &amp;&amp; out.getZWTYLOOKUP().getWTYENTITLEMENT() != null);&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP5_0N7IEeWfkMH0esag_A" name="getSourceSystemStandardReply" specification="_LCZIQd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP5_0d7IEeWfkMH0esag_A" type="_LMOZsN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Getting for SourceSystemStandardReply&quot;);&#xD;
     SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     return out.getZWTYLOOKUP().getWTYENTITLEMENT();&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP6m4N7IEeWfkMH0esag_A" name="isSourceSystemError" specification="_LCZvUN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP6m4d7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Checking for SourceSystemError&quot;);&#xD;
     ESLog.debug(&quot;SOAP_SAPACCESS_METRO isSourceSystemError CHECK&quot;);&#xD;
&#xD;
        SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
         ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     &#xD;
  &#xD;
         // if we have a message list at this point, we have errors&#xD;
     if (out.getZWTYLOOKUP()!=null &amp;&amp; out.getZWTYLOOKUP().getWTYMESSAGE() != null) {&#xD;
         ESLog.debug(&quot;SOAP_SAPACCESS_METRO out.getZWTYLOOKUP()!=null &amp;&amp; out.getZWTYLOOKUP().getWTYMESSAGE() != null::TRUE&quot;);&#xD;
         ESLog.debug(&quot;SOAP_SAPACCESS_METRO out.getZWTYLOOKUP().getWTYMESSAGE().getItem().size()=&quot;+out.getZWTYLOOKUP().getWTYMESSAGE().getItem().size());&#xD;
&#xD;
             if (out.getZWTYLOOKUP().getWTYMESSAGE().getItem().size() > 0) {&#xD;
  &#xD;
                 // we need to go through all wty messages, since we can get errors and warnings&#xD;
             List&lt;com.hp.es.service.warrantyEntitlement.adapters.metrogenerated.Z_WARRANTY_LOOKUP_PARALLEL_BSU.ZWTYERROR> msgList = out.getZWTYLOOKUP().getWTYMESSAGE().getItem();&#xD;
             if(msgList != null) {&#xD;
                 Iterator it= msgList.iterator();&#xD;
                 while(it.hasNext()) {&#xD;
                 	Object tmp = it.next();&#xD;
                 	if (tmp instanceof com.hp.es.service.warrantyEntitlement.adapters.metrogenerated.Z_WARRANTY_LOOKUP_PARALLEL_BSU.ZWTYERROR) {&#xD;
                 		com.hp.es.service.warrantyEntitlement.adapters.metrogenerated.Z_WARRANTY_LOOKUP_PARALLEL_BSU.ZWTYERROR error = (com.hp.es.service.warrantyEntitlement.adapters.metrogenerated.Z_WARRANTY_LOOKUP_PARALLEL_BSU.ZWTYERROR) tmp; &#xD;
	                    	&#xD;
	                        ESLog.debug(&quot;SOAP_SAPACCESS_METRO::: error.getID() returned::ID=&quot;+error.getID());&#xD;
	                        ESLog.debug(&quot;SOAP_SAPACCESS_METRO::: error.getID() returned::MSG=&quot;+error.getMESSAGE());&#xD;
	&#xD;
	                    	// if the ID starts doesn't start with a 0 or 1, it is an error&#xD;
	                        // all warnings start with a 1 and 0000 is the successful message&#xD;
	                        if (!error.getID().startsWith(&quot;1&quot;) &amp;&amp; !error.getID().startsWith(&quot;0&quot;)  &amp;&amp; !error.getID().startsWith(&quot;3&quot;)) {&#xD;
	                            return true;&#xD;
	                        }&#xD;
                 	}else {&#xD;
                 		//we have a classcast exception, this is a major erro&#xD;
                 		ESLog.error(&quot;Object is not of right type: &quot; + tmp.toString() +&quot; ;&quot;+tmp.getClass().getPackage()+tmp.getClass().getName());&#xD;
                 		return true;&#xD;
                 	}&#xD;
                 }&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
     /*&#xD;
      * We also need to check if we are not in the case of an empty reply&#xD;
      */&#xD;
     if (isSwopEmptyReply()) {&#xD;
         ESLog.debug(&quot;SWOP returned an empty reply, this need to be mapped to a no data found error.&quot;);&#xD;
         return true;&#xD;
     }&#xD;
&#xD;
     // at this point, we just return false&#xD;
     return false;&#xD;
&#xD;
&#xD;
&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP6m4t7IEeWfkMH0esag_A" name="isSwopEmptyReply" specification="_LCZvUt7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP6m497IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
&#xD;
     // check if 1 of the higher levels are already empty&#xD;
     if (out == null || out.getZWTYLOOKUP()==null) {&#xD;
         return true;&#xD;
     }&#xD;
&#xD;
     // check if productlist or wtyentitlement is empty&#xD;
     if (out.getZWTYLOOKUP().getPRODLIST() == null &amp;&amp; out.getZWTYLOOKUP().getWTYENTITLEMENT() == null) {&#xD;
         return true;&#xD;
     }&#xD;
&#xD;
     // check if we have wtymessage&#xD;
     if (out.getZWTYLOOKUP().getWTYMESSAGE() == null) {&#xD;
         return true;&#xD;
     }&#xD;
&#xD;
     // if we have no message at all, the reply is empty&#xD;
     if (out.getZWTYLOOKUP().getWTYMESSAGE().getItem().size() == 0) {&#xD;
         return true;&#xD;
     }&#xD;
&#xD;
     // SWOP reply is NOT empty&#xD;
     return false;&#xD;
&#xD;
&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP7N8N7IEeWfkMH0esag_A" name="getSourceSystemErrors" specification="_LCaWYN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP7N8d7IEeWfkMH0esag_A" type="_LGwq4N7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Getting for SourceSystemError&quot;);&#xD;
&#xD;
     SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out =(ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     if (isSourceSystemError()) {&#xD;
         return out.getZWTYLOOKUP().getWTYMESSAGE().getItem();&#xD;
     } else {&#xD;
         return new ArrayList();&#xD;
     }&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP7N8t7IEeWfkMH0esag_A" name="isSourceSystemWarnings" specification="_LCaWYd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP7N897IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Checking for SourceSystemWarnings&quot;);&#xD;
     SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     // check if we have a warranty entitlement and messages&#xD;
     if (out.getZWTYLOOKUP()!=null &amp;&amp; out.getZWTYLOOKUP().getWTYENTITLEMENT() != null &amp;&amp; out.getZWTYLOOKUP().getWTYMESSAGE() != null) {&#xD;
         if (out.getZWTYLOOKUP().getWTYMESSAGE().getItem().size() > 0) {&#xD;
             return containsWarnings(out.getZWTYLOOKUP());&#xD;
         }&#xD;
     }&#xD;
&#xD;
     // check if we have a product list and messages&#xD;
     if (out.getZWTYLOOKUP()!=null &amp;&amp; out.getZWTYLOOKUP().getPRODLIST() != null &amp;&amp; out.getZWTYLOOKUP().getWTYMESSAGE() != null) {&#xD;
         if (out.getZWTYLOOKUP().getPRODLIST().getItem().size() > 0) {&#xD;
             if (out.getZWTYLOOKUP().getWTYMESSAGE().getItem().size() > 0) {&#xD;
                 return containsWarnings(out.getZWTYLOOKUP());&#xD;
             }&#xD;
         }&#xD;
     }&#xD;
&#xD;
     // at this point we checked the valid combination for warning, so if we are&#xD;
     // here we don't have warnings&#xD;
     return false;&#xD;
&#xD;
&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP71AN7IEeWfkMH0esag_A" name="containsWarnings" specification="_LJl8cd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP71Ad7IEeWfkMH0esag_A" name="out" type="_LJlVYN7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LP71At7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>// go through all errors&#xD;
     List&lt;com.hp.es.service.warrantyEntitlement.adapters.metrogenerated.Z_WARRANTY_LOOKUP_PARALLEL_BSU.ZWTYERROR> msgList = out&#xD;
             .getWTYMESSAGE().getItem();&#xD;
     for (com.hp.es.service.warrantyEntitlement.adapters.metrogenerated.Z_WARRANTY_LOOKUP_PARALLEL_BSU.ZWTYERROR error : msgList) {&#xD;
         // if the ID starts doesn't start with a 0 or 2, it is a warning&#xD;
         // all errors start with a 2 and 0000 is the successful message&#xD;
         if (!error.getID().startsWith(&quot;2&quot;) &amp;&amp; !error.getID().startsWith(&quot;0&quot;)) {&#xD;
             return true;&#xD;
         }&#xD;
     }&#xD;
     return false;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP71A97IEeWfkMH0esag_A" name="getSourceSystemWarnings" specification="_LCa9cd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP71BN7IEeWfkMH0esag_A" type="_LGwq4N7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Getting for SourceSystemWarnings&quot;);&#xD;
&#xD;
         SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
         ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
         if (isSourceSystemWarnings()) {&#xD;
             return out.getZWTYLOOKUP().getWTYMESSAGE().getItem();&#xD;
         } else {&#xD;
             return new ArrayList();&#xD;
         }&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP8cEN7IEeWfkMH0esag_A" name="isSwopWarningMessageReturned" specification="_LCbkgN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP8cEd7IEeWfkMH0esag_A" name="warningIdToCheck">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LP8cEt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Checking for warning id &quot; + warningIdToCheck);&#xD;
     // check if we have warnings at all&#xD;
     Collection warnings = getSourceSystemWarnings();&#xD;
     if (warnings.size() == 0) {&#xD;
         ESLog.debug(&quot;No warnings at all in the reply&quot;);&#xD;
         return false;&#xD;
     }&#xD;
     // go trough all the warnings&#xD;
     Iterator iterator = warnings.iterator();&#xD;
     while (iterator.hasNext()) {&#xD;
         com.hp.es.service.warrantyEntitlement.adapters.metrogenerated.Z_WARRANTY_LOOKUP_PARALLEL_BSU.ZWTYERROR warning = (com.hp.es.service.warrantyEntitlement.adapters.metrogenerated.Z_WARRANTY_LOOKUP_PARALLEL_BSU.ZWTYERROR) iterator&#xD;
                 .next();&#xD;
         int swopWarningId = 0;&#xD;
         try {&#xD;
             swopWarningId = Integer.parseInt(warning.getID());&#xD;
         } catch (NumberFormatException nfe) {&#xD;
             ESLog.error(&quot;A number format Exception occurred with received ID: &quot; + warning.getID() + &quot;. This ID will be ignored.&quot;);&#xD;
             swopWarningId = 0;&#xD;
         }&#xD;
         if (swopWarningId == warningIdToCheck) {&#xD;
             ESLog.debug(&quot;Found warning id &quot; + warningIdToCheck);&#xD;
             return true;&#xD;
         }&#xD;
     }&#xD;
     // if we are here we don't have the warning id&#xD;
     ESLog.debug(&quot;Warning id &quot; + warningIdToCheck + &quot; not availabe in the reply&quot;);&#xD;
     return false;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP8cE97IEeWfkMH0esag_A" name="getSwopSystemStatus" specification="_LCcLkd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP8cFN7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Checking the SWOP system status&quot;);&#xD;
     // check if everything was ok&#xD;
     if (isSourceSystemUnitList() || isSourceSystemStandardReply()) {&#xD;
         ESLog.debug(&quot;SWOP Status: &quot; + EsConstants.SWOP_STATUS_SUCCESSFULL);&#xD;
         return EsConstants.SWOP_STATUS_SUCCESSFULL;&#xD;
     }&#xD;
&#xD;
     // check for error 224 and other SWOP exception&#xD;
     if (isUnavailable()) {&#xD;
         ESLog.debug(&quot;SWOP Status: &quot; + EsConstants.SWOP_STATUS_SYSTEM_NOT_AVAILABLE);&#xD;
         return EsConstants.SWOP_STATUS_SYSTEM_NOT_AVAILABLE;&#xD;
     }&#xD;
&#xD;
     // check for error id 202 (SWOP error 2010 or 2008 or 2017)&#xD;
     if (isSwopWarningMessageReturned(2010) || isSwopWarningMessageReturned(2008) || isSwopWarningMessageReturned(2017)) {&#xD;
         ESLog.debug(&quot;SWOP Status: &quot; + EsConstants.SWOP_STATUS_NO_ENTRY_FOUND);&#xD;
         return EsConstants.SWOP_STATUS_NO_ENTRY_FOUND;&#xD;
     }&#xD;
&#xD;
     // check for error &lt; 224&#xD;
     // if no nothing above matched than we will return an error&#xD;
     ESLog.debug(&quot;SWOP Status: &quot; + EsConstants.SWOP_STATUS_ERROR);&#xD;
     return EsConstants.SWOP_STATUS_ERROR;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP9DIN7IEeWfkMH0esag_A" name="isSuccessfull" specification="_LCcyoN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP9DId7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Checking if the SWOP returned a successful message&quot;);&#xD;
&#xD;
     SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     // check if we have a warranty entitlement and messages&#xD;
     if (out.getZWTYLOOKUP().getWTYMESSAGE() != null) {&#xD;
         if (out.getZWTYLOOKUP().getWTYMESSAGE().getItem().size() == 0) {&#xD;
             return false;&#xD;
         } else {&#xD;
             return true;&#xD;
         }&#xD;
     } else {&#xD;
         return false;&#xD;
     }&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP9DIt7IEeWfkMH0esag_A" name="getProductLine" specification="_LCcyot7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP9DI97IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>ESLog.debug(&quot;getSUPPORTPRODUCTLINE()&quot;);&#xD;
&#xD;
     SapSOAPReply reply = (SapSOAPReply) getSourceSystemResponse();&#xD;
     ZWARRANTYLOOKUPPARALLELBSUResponse out = (ZWARRANTYLOOKUPPARALLELBSUResponse) reply.getSoapCastorReply();&#xD;
     if (out.getZWTYLOOKUP() != null &amp;&amp; out.getZWTYLOOKUP().getWTYENTITLEMENT() != null &amp;&amp; &#xD;
             out.getZWTYLOOKUP().getWTYENTITLEMENT().getWARRANTYINFO() != null)&#xD;
         return out.getZWTYLOOKUP().getWTYENTITLEMENT().getWARRANTYINFO().getSUPPORTPRODUCTLINE();&#xD;
&#xD;
     return null;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP9qMN7IEeWfkMH0esag_A" name="isEsReplyChoice" specification="_LCdZsN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP9qMd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return _esReplyChoice;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP9qMt7IEeWfkMH0esag_A" name="setEsReplyChoice" specification="_LCdZst7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LP9qM97IEeWfkMH0esag_A" name="replyChoice">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>_esReplyChoice = replyChoice;&#xD;
 </body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LP-RQN7IEeWfkMH0esag_A" name="destroy" specification="_LCeAwd7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>super.destroy();&#xD;
		&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LCX6IN7IEeWfkMH0esag_A" name="isSourceSystemUnitList" method="_LP5YwN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQufMt7IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.Transaction#isSourceSystemUnitList()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCX6Id7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCYhMN7IEeWfkMH0esag_A" name="getSourceSystemUnitList" method="_LP5Ywt7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvGQN7IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.Transaction#getSourceSystemUnitList()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMQ18N7IEeWfkMH0esag_A" type="_LMOZsN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCYhMd7IEeWfkMH0esag_A" name="isSourceSystemStandardReply" method="_LP5YxN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvGQd7IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.Transaction#isSourceSystemStandardReply()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCZIQN7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCZIQd7IEeWfkMH0esag_A" name="getSourceSystemStandardReply" method="_LP5_0N7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvGQt7IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.Transaction#getSourceSystemStandardReply()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMQ18d7IEeWfkMH0esag_A" type="_LMOZsN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCZvUN7IEeWfkMH0esag_A" name="isSourceSystemError" method="_LP6m4N7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvGQ97IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.Transaction#isSourceSystemError()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCZvUd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCZvUt7IEeWfkMH0esag_A" name="isSwopEmptyReply" method="_LP6m4t7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvtUN7IEeWfkMH0esag_A">
                      <body>check if the SWOP reply is empty&#xD;
     * &#xD;
     * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCZvU97IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCaWYN7IEeWfkMH0esag_A" name="getSourceSystemErrors" method="_LP7N8N7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvtUd7IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.Transaction#getSourceSystemError()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMQ18t7IEeWfkMH0esag_A" type="_LGwq4N7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCaWYd7IEeWfkMH0esag_A" name="isSourceSystemWarnings" method="_LP7N8t7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvtUt7IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.Transaction#isSourceSystemWarnings()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCa9cN7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCa9cd7IEeWfkMH0esag_A" name="getSourceSystemWarnings" method="_LP71A97IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvtVN7IEeWfkMH0esag_A">
                      <body>(non-Javadoc)&#xD;
     * &#xD;
     * @see com.hp.es.service.orchestration.Transaction#getSourceSystemWarnings()</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMRdAN7IEeWfkMH0esag_A" type="_LGwq4N7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCbkgN7IEeWfkMH0esag_A" name="isSwopWarningMessageReturned" method="_LP8cEN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQwUYN7IEeWfkMH0esag_A">
                      <body>isSwopWarningMessageReturned checks whether the defined warning id is included in the SWOP reply&#xD;
     * &#xD;
     * @param warningIdToCheck&#xD;
     * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCbkgd7IEeWfkMH0esag_A" name="warningIdToCheck">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LCcLkN7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCcLkd7IEeWfkMH0esag_A" name="getSwopSystemStatus" method="_LP8cE97IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQwUYd7IEeWfkMH0esag_A">
                      <body>getSwopSystemStatus checks the system status of SWOP depending on the retrieved errors and warnings from SWOP&#xD;
     * &#xD;
     * @return status message</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCcLkt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCcyoN7IEeWfkMH0esag_A" name="isSuccessfull" method="_LP9DIN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQwUYt7IEeWfkMH0esag_A">
                      <body>checks if the we have at least the successfull message from SWOP&#xD;
     * &#xD;
     * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCcyod7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCcyot7IEeWfkMH0esag_A" name="getProductLine" method="_LP9DIt7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQwUY97IEeWfkMH0esag_A">
                      <body>getSUPPORTPRODUCTLINE&#xD;
     * &#xD;
     * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCcyo97IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCdZsN7IEeWfkMH0esag_A" name="isEsReplyChoice" method="_LP9qMN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LCdZsd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCdZst7IEeWfkMH0esag_A" name="setEsReplyChoice" method="_LP9qMt7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LCeAwN7IEeWfkMH0esag_A" name="replyChoice">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCeAwd7IEeWfkMH0esag_A" name="destroy" method="_LP-RQN7IEeWfkMH0esag_A"/>
                  <ownedOperation xmi:id="_LJl8cd7IEeWfkMH0esag_A" name="containsWarnings" visibility="private" method="_LP71AN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQvtU97IEeWfkMH0esag_A">
                      <body>checks if a warning is available&#xD;
     * &#xD;
     * @param out&#xD;
     * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LJl8ct7IEeWfkMH0esag_A" name="out" type="_LJlVYN7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LJl8c97IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMPAwd7IEeWfkMH0esag_A" name="WarrantyTransaction" method="_LP4xsN7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LMQO4N7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LMQO4d7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedComment xmi:id="_LQufMd7IEeWfkMH0esag_A">
                      <body>@param config&#xD;
     * @param failoverMode&#xD;
     * @param sourceReply&#xD;
     * @param functionName</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMPAwt7IEeWfkMH0esag_A" name="config" type="_LGjPgd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMPn0N7IEeWfkMH0esag_A" name="failoverMode">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LMPn0d7IEeWfkMH0esag_A" name="sourceReply" type="_LMOZsN7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMPn0t7IEeWfkMH0esag_A" name="functionName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LMPn097IEeWfkMH0esag_A" name="displayName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LMPn1N7IEeWfkMH0esag_A" name="isLocal">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LMQO4t7IEeWfkMH0esag_A" type="_LCWE8N7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LChrIN7IEeWfkMH0esag_A" name="WarrantyTransactionComposition">
                  <ownedComment xmi:id="_LQw7cN7IEeWfkMH0esag_A">
                    <body>@author ANVOI&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="_LMZ_4N7IEeWfkMH0esag_A" general="_LJo_wN7IEeWfkMH0esag_A"/>
                  <ownedAttribute xmi:id="_LOXHsN7IEeWfkMH0esag_A" name="_instance" visibility="private" isStatic="true" type="_LChrIN7IEeWfkMH0esag_A" association="_LSahQd7IEeWfkMH0esag_A">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LOXHsd7IEeWfkMH0esag_A" value="new WarrantyTransactionComposition()"/>
                  </ownedAttribute>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQAGcN7IEeWfkMH0esag_A" name="WarrantyTransactionComposition" specification="_LCiSMN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQAGcd7IEeWfkMH0esag_A" type="_LChrIN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQAtgN7IEeWfkMH0esag_A" name="getInstance" specification="_LCjgUN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQAtgd7IEeWfkMH0esag_A" type="_LChrIN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>// Get a singleton instance&#xD;
		return _instance;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQAtgt7IEeWfkMH0esag_A" name="getComposedReply" specification="_LMSrIN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQAtg97IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQAthN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQAthd7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>EsReply composedReply = null;&#xD;
		&#xD;
		int nbUnitFound = 0;&#xD;
		&#xD;
		&#xD;
		// First let's check the number of reply we have &#xD;
		// we assume we have at least one warranty reply but let's first do a check&#xD;
		if(countWarrantyReply(replies) == 0) {&#xD;
			//throw &#xD;
			ESLog.debug(&quot;The replies array is not correct&quot;);&#xD;
			throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR,&quot;No reply to compose, and no swop error generated&quot;);&#xD;
		}&#xD;
		&#xD;
		nbUnitFound = countNbUnitFound(replies);&#xD;
		if(nbUnitFound == 0) {&#xD;
			//1.1.1.1.1	Compose product based warranty response&#xD;
			ESLog.debug(&quot;No Unit Found, we will compose product based warranty response &quot;);&#xD;
			composedReply = composeProductBasedWarranty(replies);&#xD;
		} else if(nbUnitFound == 1) {&#xD;
			//4.1.4.4.4	Compose IB based warranty response&#xD;
			ESLog.debug(&quot;One Unit Found, we will compose IB based warranty response &quot;);&#xD;
			composedReply = composeIBBasedWarranty(replies, request);&#xD;
		} else {&#xD;
			//4.1.4.4.3	Compose units list response&#xD;
			ESLog.debug(nbUnitFound + &quot; units found, we will compose IB based warranty response &quot;);&#xD;
			composedReply = composeUnitList(replies);&#xD;
			&#xD;
		}&#xD;
		ESLog.debug(&quot;returning the composed reply&quot;);&#xD;
		return composedReply;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQBUkN7IEeWfkMH0esag_A" name="composeUnitList" specification="_LMTSMN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQBUkd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQBUkt7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>// We need to compose a Unit list&#xD;
		EsReply reply = null;&#xD;
		ESLog.debug(&quot;In the process of generating the final unit list, by convention, we will take the local reply&quot;);&#xD;
		HashSet unitFound = new HashSet();&#xD;
		int productCounter = 0;&#xD;
		int MAX_PRODUCTS_PER_UNIT_LIST = 20;&#xD;
		&#xD;
		// If multiple units are found, a unit list response is generated. The OOS section is filled with the serial number.&#xD;
		// A product section is created for each different product numbers. The ProductID and the ProductDescription &#xD;
		// elements are filled from the SWOP responses. All other sections remain empty.&#xD;
		if(replies != null) {&#xD;
			Iterator it = replies.iterator();&#xD;
			// go through all replies &#xD;
			while(it.hasNext()) {&#xD;
				Transaction tr= (Transaction)it.next();&#xD;
				//So we will take the first reply that contain oos and take it to build other*&#xD;
				if((tr.getMappedReply() != null) &amp;&amp; &#xD;
						(((tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement() != null) &#xD;
								&amp;&amp; (tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS() != null)) &#xD;
								||  (tr.getMappedReply().getEsReplyChoice().getUnitList() != null)) &amp;&amp;&#xD;
									(reply == null)) {&#xD;
					ESLog.debug(&quot;we create the final reply object&quot;);&#xD;
					reply = new EsReply();&#xD;
					// retrieving the header from the reply&#xD;
					reply.setEsHeader(tr.getMappedReply().getEsHeader());&#xD;
					//we remove the warning if any.&#xD;
					reply.getEsHeader().setWarnings(null);&#xD;
					reply.setEsReplyChoice(new EsReplyChoice());&#xD;
					reply.getEsReplyChoice().setUnitList(new UnitListComplexType());&#xD;
				}&#xD;
				&#xD;
				// get all OOSs&#xD;
				if(tr.getMappedReply() != null ) {&#xD;
					// check if we just have a warranty reply with 1 OOS&#xD;
					if(tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement() != null &#xD;
							&amp;&amp; tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS() != null) {&#xD;
						// get the OOS&#xD;
						OOSComplexType oos_tmp = tr.getMappedReply().getEsReplyChoice().getWarrantyEntitlement().getOOS();&#xD;
						&#xD;
						// set the serial number&#xD;
						if(oos_tmp.getSerialNumber(0) != null &amp;&amp; oos_tmp.getSerialNumber(0).trim().length() != 0 &amp;&amp; &#xD;
								reply.getEsReplyChoice().getUnitList().getSerialNumber() == null) {&#xD;
							reply.getEsReplyChoice().getUnitList().setSerialNumber(oos_tmp.getSerialNumber(0));&#xD;
						}&#xD;
						&#xD;
						// get the product&#xD;
						if(oos_tmp.getProduct() != null) {&#xD;
							String pnStr = oos_tmp.getProduct().getProductID();&#xD;
							if(!unitFound.contains(pnStr)) {&#xD;
								ESLog.debug(&quot;adding a new product number&quot; + pnStr);&#xD;
								ProductComplexType pct = new ProductComplexType();&#xD;
								pct.setProductDescription(oos_tmp.getProduct().getProductDescription());&#xD;
								pct.setProductID(oos_tmp.getProduct().getProductID());&#xD;
								reply.getEsReplyChoice().getUnitList().addProduct(pct);&#xD;
								unitFound.add(pnStr);&#xD;
								// here we need to check immediately if we have reached&#xD;
								// already the max number of products per unit list.&#xD;
								productCounter++;&#xD;
								if(productCounter == MAX_PRODUCTS_PER_UNIT_LIST) {&#xD;
									// check if there are more replies. In this case the unit list is truncated&#xD;
									// and we generate the truncated warning message&#xD;
									if(it.hasNext()) {&#xD;
										addTruncatedListWarning(reply);&#xD;
									}&#xD;
									return reply;&#xD;
								}&#xD;
							}&#xD;
						}&#xD;
					&#xD;
					// check if we have a unit list&#xD;
					} else if(tr.getMappedReply().getEsReplyChoice().getUnitList() != null) {&#xD;
	&#xD;
						// get the serial number&#xD;
						if(tr.getMappedReply().getEsReplyChoice().getUnitList().getSerialNumber() != null &amp;&amp; &#xD;
								tr.getMappedReply().getEsReplyChoice().getUnitList().getSerialNumber().trim().length() != 0 &amp;&amp; &#xD;
								reply.getEsReplyChoice().getUnitList().getSerialNumber() == null) {&#xD;
							reply.getEsReplyChoice().getUnitList().setSerialNumber(tr.getMappedReply().getEsReplyChoice().getUnitList().getSerialNumber());&#xD;
						}&#xD;
						&#xD;
						// get all products&#xD;
						ProductComplexType[] pct = tr.getMappedReply().getEsReplyChoice().getUnitList().getProduct();&#xD;
						for(int iPct = 0; iPct &lt; pct.length; iPct++) {&#xD;
							String pnStr = pct[iPct].getProductID();&#xD;
							if(!unitFound.contains(pnStr)) {&#xD;
								ESLog.debug(&quot;adding a new product number&quot; +pnStr );&#xD;
								ProductComplexType pcType = new ProductComplexType();&#xD;
								pcType.setProductDescription(pct[iPct].getProductDescription());&#xD;
								pcType.setProductID(pct[iPct].getProductID());&#xD;
								reply.getEsReplyChoice().getUnitList().addProduct(pcType);&#xD;
								unitFound.add(pnStr);&#xD;
								// here we need to check immediately if we have reached&#xD;
								// already the max number of products per unit list.&#xD;
								productCounter++;&#xD;
								if(productCounter == MAX_PRODUCTS_PER_UNIT_LIST) {&#xD;
									// check if there are more products in the unit list or&#xD;
									// more replies. In this case the unit list is truncated&#xD;
									// and we generate the truncated warning message&#xD;
									if(((pct.length - iPct) > 1) || it.hasNext()) {&#xD;
										addTruncatedListWarning(reply);&#xD;
									}&#xD;
									return reply;&#xD;
								}&#xD;
							}&#xD;
						}&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		return reply;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQBUk97IEeWfkMH0esag_A" name="addTruncatedListWarning" specification="_LMUgUN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQBUlN7IEeWfkMH0esag_A" name="reply" type="_LF36Ed7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>if(reply.getEsHeader().getWarnings() == null) {&#xD;
			reply.getEsHeader().setWarnings(new Warnings());&#xD;
		}&#xD;
		reply.getEsHeader().getWarnings().addEIAError(ErrorFactory.getEIAError(ErrorFactory.id408_UNIT_LIST_TRUNCATED));&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQB7oN7IEeWfkMH0esag_A" name="composeIBBasedWarranty" specification="_LMVHYN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQB7od7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQB7ot7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQB7o97IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>// When a single unit is found, &#xD;
		// we determine the warranty to take using thje warranty determination code&#xD;
		&#xD;
		EsReply reply = null;&#xD;
		ESLog.debug(&quot;In the process of composing a IB Based Warranty, by convention, we will take the highest prio determination code&quot;);&#xD;
		reply = WarrantyDeterminationCode.getInstance().getHighestPriority(replies, request);&#xD;
		ESLog.debug(&quot;adding a new product number&quot; );&#xD;
		return reply;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQCisN7IEeWfkMH0esag_A" name="composeProductBasedWarranty" specification="_LMWVgN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQCisd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQCist7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>// When no unit are found and there is at least a valid response. &#xD;
		// This response is necessarly a product based warranty&#xD;
		// This response must always be the local response&#xD;
		EsReply reply = null;&#xD;
		ESLog.debug(&quot;In the process of composing a product based warranty, by convention, we will take the local reply&quot;);&#xD;
		reply = getLocalReply(replies);&#xD;
		ESLog.debug(&quot;local reply is found: &quot; + reply);&#xD;
		return reply;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQCis97IEeWfkMH0esag_A" name="getLocalReply" specification="_LMW8kN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQCitN7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQCitd7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;begin&quot;);&#xD;
		if(replies != null) {&#xD;
			Iterator it = replies.iterator();&#xD;
			&#xD;
			while(it.hasNext()) {&#xD;
				Transaction transaction = (Transaction)it.next();&#xD;
				if((transaction != null) &amp;&amp; (transaction.isLocal())) {&#xD;
					if(transaction.getMappedReply() != null) {&#xD;
						// we have a reply from the locat instance&#xD;
						ESLog.debug(&quot;We have a local reply&quot;);&#xD;
						&#xD;
						// set the esReplyChoice with true to indicate this tranasction is selected as final es reply.&#xD;
                     if (transaction instanceof WarrantyTransaction)&#xD;
                         ((WarrantyTransaction) transaction).setEsReplyChoice(true);&#xD;
                     &#xD;
						return transaction.getMappedReply();&#xD;
					} else {&#xD;
						// check for the SifException&#xD;
						ESLog.debug(&quot;The local reply is null. Check for SifException&quot;);&#xD;
						if(transaction.getMappedErrors() != null) {&#xD;
							ESLog.debug(&quot;We have a mapped error&quot;);&#xD;
							throw WarrantyErrorsProcessing.getInstance().getHighestPriorityException(transaction);&#xD;
						} else {&#xD;
							// should never happen&#xD;
							ESLog.info(&quot;The mapped errors are also empty => serious issue&quot;);&#xD;
						}&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		ESLog.debug(&quot;we will generate a SifException because we did not find a local reply or the reply was null&quot;);&#xD;
		throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &quot;getLocalReply was not used correctly&quot;);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQDJwN7IEeWfkMH0esag_A" name="countNbUnitFound" specification="_LMYKsN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQDJwd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQDJwt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>int nbUnitFound = 0;&#xD;
		HashSet unitFound = new HashSet();&#xD;
		&#xD;
		ESLog.debug(&quot;begin&quot;);&#xD;
		&#xD;
		if(replies != null ) {&#xD;
			Iterator it = replies.iterator();&#xD;
			while(it.hasNext()) {&#xD;
				Transaction tr = (Transaction)it.next();&#xD;
				if((tr != null) &amp;&amp; (tr.getMappedReply() != null)) {&#xD;
					EsReply currObj = (EsReply) tr.getMappedReply();&#xD;
					if(currObj.getEsReplyChoice() != null) {&#xD;
						if(currObj.getEsReplyChoice().getWarrantyEntitlement() != null) {&#xD;
							WarrantyEntitlementComplexType war = currObj.getEsReplyChoice().getWarrantyEntitlement();&#xD;
							if((war.getOOS() != null) &amp;&amp; (war.getOOS().getOOSKey() != null) &amp;&amp; (war.getOOS().getOOSKey().trim().length() > 0) &amp;&amp; &#xD;
									(war.getOOS().getProduct() != null) &amp;&amp; (war.getOOS().getProduct().getProductID() != null) &amp;&amp;&#xD;
									(war.getOOS().getProduct().getProductID().trim().length() > 0 ) ){&#xD;
								unitFound.add(war.getOOS().getProduct().getProductID());&#xD;
							}&#xD;
								&#xD;
						} else if(currObj.getEsReplyChoice().getUnitList() != null) {&#xD;
							UnitListComplexType list = currObj.getEsReplyChoice().getUnitList();&#xD;
							ProductComplexType[] pct = list.getProduct();&#xD;
							for(int iPct = 0;iPct&lt;pct.length;iPct ++) {&#xD;
								unitFound.add(pct[iPct].getProductID());&#xD;
							}&#xD;
						}&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
		nbUnitFound = unitFound.size();&#xD;
		ESLog.debug(&quot;End we found &quot; + nbUnitFound + &quot; Units&quot;);&#xD;
		return nbUnitFound;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQDw0N7IEeWfkMH0esag_A" name="countWarrantyReply" specification="_LMZY0N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQDw0d7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LQDw0t7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>int nbWarrantyReply = 0;&#xD;
		ESLog.debug(&quot;begin&quot;);&#xD;
		if(replies != null ) {&#xD;
			Iterator it = replies.iterator();&#xD;
			while(it.hasNext()) {&#xD;
				Transaction tr = (Transaction)it.next();&#xD;
				if((tr != null) &amp;&amp; (tr.getMappedReply() != null)) {&#xD;
					EsReply currObj = (EsReply) tr.getMappedReply();&#xD;
					if(currObj.getEsReplyChoice() != null) {&#xD;
						if((currObj.getEsReplyChoice().getWarrantyEntitlement() != null) ||&#xD;
								currObj.getEsReplyChoice().getUnitList() != null) {&#xD;
							nbWarrantyReply++;&#xD;
						}&#xD;
					}&#xD;
					&#xD;
				}&#xD;
				&#xD;
				&#xD;
			}&#xD;
		}&#xD;
		ESLog.debug(&quot;end we found &quot;+ nbWarrantyReply +&quot; warranty replies&quot;);&#xD;
		return nbWarrantyReply;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LCiSMN7IEeWfkMH0esag_A" name="WarrantyTransactionComposition" visibility="package" method="_LQAGcN7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LCi5QN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LCi5Qd7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedComment xmi:id="_LQw7cd7IEeWfkMH0esag_A">
                      <body>*</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LCi5Qt7IEeWfkMH0esag_A" type="_LChrIN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCjgUN7IEeWfkMH0esag_A" name="getInstance" visibility="package" isStatic="true" method="_LQAtgN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQw7ct7IEeWfkMH0esag_A">
                      <body>Get the instance&#xD;
	 * @return the singleton</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LJpm0N7IEeWfkMH0esag_A" type="_LChrIN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMSrIN7IEeWfkMH0esag_A" name="getComposedReply" method="_LQAtgt7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQw7c97IEeWfkMH0esag_A">
                      <body>The 3 responses returned by the SWOP instances are composed &#xD;
	 * to form a consolidated ES response. &#xD;
	 * Each individual SWOP response is in canonical format &#xD;
	 * (the transformation is performed by the SWOP warranty interface) &#xD;
	 * and can be a unit list, &#xD;
	 * an IB based warranty (warranty without warning 402), &#xD;
	 * a product based warranty (warranty with warning 402) or an error. &#xD;
	 * Depending on the number of units found &#xD;
	 * and the number of errors, &#xD;
	 * ES will return one of the SWOP responses or will generate a new response.&#xD;
	 * @param the list of reply&#xD;
	 * @return a composed  reply&#xD;
	 * @throws a SifException if not correctly used&#xD;
	 *</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMSrId7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMSrIt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMSrI97IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMTSMN7IEeWfkMH0esag_A" name="composeUnitList" visibility="private" method="_LQBUkN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQxigN7IEeWfkMH0esag_A">
                      <body>This method compose a Product Based Warranty&#xD;
	 * @param the reply array&#xD;
	 * @return the number of different unit found</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMTSMd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMT5QN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMUgUN7IEeWfkMH0esag_A" name="addTruncatedListWarning" visibility="private" method="_LQBUk97IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQxigd7IEeWfkMH0esag_A">
                      <body>Adds the warning 408 (truncated unit list) to the reply&#xD;
	 * @param reply</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMUgUd7IEeWfkMH0esag_A" name="reply" type="_LF36Ed7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMVHYN7IEeWfkMH0esag_A" name="composeIBBasedWarranty" visibility="private" method="_LQB7oN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQxigt7IEeWfkMH0esag_A">
                      <body>This method compose a IB Based Warranty&#xD;
	 * @param the reply array&#xD;
	 * @return the number of different unit found</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMVHYd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMVHYt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMVucN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMWVgN7IEeWfkMH0esag_A" name="composeProductBasedWarranty" visibility="private" method="_LQCisN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQxig97IEeWfkMH0esag_A">
                      <body>This method compose a Product Based Warranty&#xD;
	 * @param the reply array&#xD;
	 * @return the number of different unit found</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMWVgd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMWVgt7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMW8kN7IEeWfkMH0esag_A" name="getLocalReply" visibility="private" method="_LQCis97IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQyJkN7IEeWfkMH0esag_A">
                      <body>@param a list of orchestration&#xD;
	 * reply</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMW8kd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMXjoN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMYKsN7IEeWfkMH0esag_A" name="countNbUnitFound" visibility="private" method="_LQDJwN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQyJkd7IEeWfkMH0esag_A">
                      <body>This method count the number of unit found.&#xD;
	 * The number of units is the number of different product numbers found in the responses &#xD;
	 * of type �unit list� or  type �IB warranty� (with an OOSKey).&#xD;
	 * @param the reply array&#xD;
	 * @return the number of different unit found</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMYKsd7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMYxwN7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LMZY0N7IEeWfkMH0esag_A" name="countWarrantyReply" visibility="private" method="_LQDw0N7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQyJkt7IEeWfkMH0esag_A">
                      <body>This method count the number of warranty reply in the reply array&#xD;
	 * @param the reply array&#xD;
	 * @return the number of warranty reply</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LMZY0d7IEeWfkMH0esag_A" name="replies" type="_LGdv8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LMZY0t7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
                    </ownedParameter>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LCufcN7IEeWfkMH0esag_A" name="WarrantyTransactionCompositionTest">
                  <ownedComment xmi:id="_LQyJk97IEeWfkMH0esag_A">
                    <body>@author ANVOI&#xD;
 *</body>
                  </ownedComment>
                  <generalization xmi:id="_LMam8N7IEeWfkMH0esag_A" general="_LJJQgd7IEeWfkMH0esag_A"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQE-8N7IEeWfkMH0esag_A" name="WarrantyTransactionCompositionTest" specification="_LCvGgN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQE-8d7IEeWfkMH0esag_A" type="_LCufcN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQE-8t7IEeWfkMH0esag_A" name="WarrantyTransactionCompositionTest" specification="_LCwUoN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQFmAN7IEeWfkMH0esag_A" name="arg0">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LQFmAd7IEeWfkMH0esag_A" type="_LCufcN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super(arg0);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQFmAt7IEeWfkMH0esag_A" name="main" specification="_LCw7sN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LQFmA97IEeWfkMH0esag_A" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LQFmBN7IEeWfkMH0esag_A" value="*"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>//junit.textui.TestRunner.run(suite());&#xD;
		WarrantyTransactionCompositionTest cc= new WarrantyTransactionCompositionTest();&#xD;
		//cc.testGetComposedReplyForProductWarranty();&#xD;
		cc.testGetComposedReplyWithOnlyRepliesForAUnitList();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LQGNEN7IEeWfkMH0esag_A" name="testGetComposedReplyWithOnlyRepliesForAUnitList" specification="_LCxiwN7IEeWfkMH0esag_A">
                    <language>java</language>
                    <body>ArrayList replies = new ArrayList();&#xD;
		EsRequestComplexType request = null;&#xD;
		for(int i= 0;i&lt;6;i++) {&#xD;
			Transaction tr = new WarrantyTransaction(null, false, null, &quot;&quot;,&quot;ERROR&quot; +i,true);&#xD;
			EsReply esReply = new EsReply();&#xD;
			esReply.setEsHeader(new EsHeader());&#xD;
			esReply.setEsReplyChoice(new EsReplyChoice());&#xD;
			replies.add(tr);&#xD;
			if(i%2 == 0) {&#xD;
				esReply.getEsReplyChoice().setWarrantyEntitlement(new WarrantyEntitlementComplexType());&#xD;
				&#xD;
				WarrantyComplexType war = new WarrantyComplexType();&#xD;
				esReply.getEsReplyChoice().getWarrantyEntitlement().addWarranty(war);&#xD;
				war.setWarrantyDeterminationCode(&quot;0&quot;+i);			&#xD;
				&#xD;
				esReply.getEsReplyChoice().getWarrantyEntitlement().setOOS(new OOSComplexType());&#xD;
				&#xD;
				esReply.getEsReplyChoice().getWarrantyEntitlement().getOOS().addSerialNumber(&quot;SN1234&quot;);&#xD;
				esReply.getEsReplyChoice().getWarrantyEntitlement().getOOS().setProduct(new ProductComplexType());&#xD;
				&#xD;
				esReply.getEsReplyChoice().getWarrantyEntitlement().getOOS().getProduct().setProductID(&quot;PN78&quot;+i);&#xD;
			}else {&#xD;
				esReply.getEsReplyChoice().setUnitList(new UnitListComplexType());&#xD;
				UnitListComplexType ul = esReply.getEsReplyChoice().getUnitList();&#xD;
				ul.setSerialNumber(&quot;SN1234&quot;);&#xD;
				ProductComplexType pct = new ProductComplexType();&#xD;
				pct.setProductID(&quot;PNUL1&quot;+i);&#xD;
				pct.setProductDescription(&quot;aaa&quot;);&#xD;
				ul.addProduct(pct);&#xD;
				pct = new ProductComplexType();&#xD;
				pct.setProductID(&quot;PNUL2&quot;+i);&#xD;
				pct.setProductDescription(&quot;pRODOCUT&quot;);&#xD;
				ul.addProduct(pct);&#xD;
			}&#xD;
			&#xD;
			tr.setMappedReply(esReply);&#xD;
		}&#xD;
		&#xD;
		try {&#xD;
			EsReply reply = WarrantyTransactionComposition.getInstance().getComposedReply(replies, request);&#xD;
			&#xD;
			assertEquals(&quot;Unit List does not match&quot;,9,reply.getEsReplyChoice().getUnitList().getProductCount());&#xD;
		}catch(SifException e) {&#xD;
			fail(&quot;Unexpected exception&quot;);&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LCvGgN7IEeWfkMH0esag_A" name="WarrantyTransactionCompositionTest" method="_LQE-8N7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LCvtkN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LCvtkd7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LCvtkt7IEeWfkMH0esag_A" type="_LCufcN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCwUoN7IEeWfkMH0esag_A" name="WarrantyTransactionCompositionTest" method="_LQE-8t7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LCwUot7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LCwUo97IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LCwUod7IEeWfkMH0esag_A" name="arg0">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LCwUpN7IEeWfkMH0esag_A" type="_LCufcN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCw7sN7IEeWfkMH0esag_A" name="main" isStatic="true" method="_LQFmAt7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LCw7sd7IEeWfkMH0esag_A" name="args">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LCw7st7IEeWfkMH0esag_A" value="*"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LCxiwN7IEeWfkMH0esag_A" name="testGetComposedReplyWithOnlyRepliesForAUnitList" method="_LQGNEN7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LMOZsN7IEeWfkMH0esag_A" name="Object"/>
                <packagedElement xmi:type="uml:Association" xmi:id="_LSXd8d7IEeWfkMH0esag_A" name="" memberEnd="_LSXd8t7IEeWfkMH0esag_A _LNgMEd7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LSXd8t7IEeWfkMH0esag_A" name="" type="_LApb0N7IEeWfkMH0esag_A" association="_LSXd8d7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_LSYsEN7IEeWfkMH0esag_A" name="" memberEnd="_LSYsEd7IEeWfkMH0esag_A _LNhaMd7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LSYsEd7IEeWfkMH0esag_A" name="" type="_LApb0N7IEeWfkMH0esag_A" association="_LSYsEN7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_LSYsE97IEeWfkMH0esag_A" name="" memberEnd="_LSYsFN7IEeWfkMH0esag_A _LNioUd7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LSYsFN7IEeWfkMH0esag_A" name="" type="_LApb0N7IEeWfkMH0esag_A" association="_LSYsE97IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_LSZTId7IEeWfkMH0esag_A" name="" memberEnd="_LSZTIt7IEeWfkMH0esag_A _LNpWAN7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LSZTIt7IEeWfkMH0esag_A" name="" type="_LBYboN7IEeWfkMH0esag_A" association="_LSZTId7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_LSZ6Md7IEeWfkMH0esag_A" name="" memberEnd="_LSZ6Mt7IEeWfkMH0esag_A _LONWsd7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LSZ6Mt7IEeWfkMH0esag_A" name="" type="_LB1uoN7IEeWfkMH0esag_A" association="_LSZ6Md7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_LSahQd7IEeWfkMH0esag_A" name="" memberEnd="_LSahQt7IEeWfkMH0esag_A _LOXHsN7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LSahQt7IEeWfkMH0esag_A" name="" type="_LChrIN7IEeWfkMH0esag_A" association="_LSahQd7IEeWfkMH0esag_A"/>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_KpECQN7IEeWfkMH0esag_A" name="integration">
                <packagedElement xmi:type="uml:Class" xmi:id="_K54sgN7IEeWfkMH0esag_A" name="MultipleInstanceIntegration">
                  <ownedComment xmi:id="_LQaWIN7IEeWfkMH0esag_A">
                    <body>@author JUHANK&#xD;
This class is used for accessing all SWOP instance. It is used if the request&#xD;
contains a serial number.</body>
                  </ownedComment>
                  <generalization xmi:id="_LGaFkN7IEeWfkMH0esag_A" general="_K6HWAN7IEeWfkMH0esag_A"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOr30N7IEeWfkMH0esag_A" name="MultipleInstanceIntegration" specification="_LKSgAN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOr30d7IEeWfkMH0esag_A" name="regionName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LOr30t7IEeWfkMH0esag_A" name="countryCode">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LOr3097IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOr31N7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOr31d7IEeWfkMH0esag_A" type="_K54sgN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		_region = RegionFactory.getInstance().getRegionByName(regionName);&#xD;
		_isLocal = regionName.equals(RegionFactory.getInstance().lookupRegionName(countryCode));&#xD;
		_manufacturingInstalledBaseServiceReply = manufacturingInstalledBaseServiceReply;&#xD;
		_manufacturingInstalledBaseServiceSE= manufacturingInstalledBaseServiceSE;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOse4N7IEeWfkMH0esag_A" name="execute" specification="_LKUVMN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOse4d7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOse4t7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOse497IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Entering multiple instance integration (Unit Warranty)&quot;);&#xD;
		return callRegion(request, metricsHandler);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_LKSgAN7IEeWfkMH0esag_A" name="MultipleInstanceIntegration" method="_LOr30N7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_LKTHEt7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_LKTHE97IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_LKSgAd7IEeWfkMH0esag_A" name="regionName">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LKSgAt7IEeWfkMH0esag_A" name="countryCode">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LKTHEN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKTHEd7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKTuIN7IEeWfkMH0esag_A" type="_K54sgN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKUVMN7IEeWfkMH0esag_A" name="execute" method="_LOse4N7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LKU8QN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKU8Qd7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKU8Qt7IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Package" xmi:id="_KpWWIN7IEeWfkMH0esag_A" name="mapping">
                  <packagedElement xmi:type="uml:Class" xmi:id="_K6_fwN7IEeWfkMH0esag_A" name="DeliverableMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQdZc97IEeWfkMH0esag_A">
                      <body>@author JUHANK</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LM6WMN7IEeWfkMH0esag_A" name="_swopDeliverables" visibility="protected" type="_LGwq4N7IEeWfkMH0esag_A" association="_LR5j4d7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOzMkN7IEeWfkMH0esag_A" name="DeliverableMapper" specification="_LKkz4N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LOzMkd7IEeWfkMH0esag_A" name="swopDeliverables" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LOzMkt7IEeWfkMH0esag_A" type="_K6_fwN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_swopDeliverables = swopDeliverables;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K7CjEN7IEeWfkMH0esag_A" name="map" visibility="package" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K7CjEd7IEeWfkMH0esag_A" type="_LGx5AN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K7DKIN7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKkz4N7IEeWfkMH0esag_A" name="DeliverableMapper" visibility="package" method="_LOzMkN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LKkz4t7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LKkz497IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LKkz4d7IEeWfkMH0esag_A" name="swopDeliverables" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKkz5N7IEeWfkMH0esag_A" type="_K6_fwN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K7HbkN7IEeWfkMH0esag_A" name="ErrorMapper" isAbstract="true">
                    <ownedComment xmi:id="_LQeAgN7IEeWfkMH0esag_A">
                      <body>@author juhank</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LM69QN7IEeWfkMH0esag_A" name="_swopErrors" visibility="protected" type="_LGwq4N7IEeWfkMH0esag_A" association="_LR6K8d7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LM7kUN7IEeWfkMH0esag_A" name="_request" visibility="protected" type="_LF5IMd7IEeWfkMH0esag_A" association="_LR6yAd7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO0asN7IEeWfkMH0esag_A" name="ErrorMapper" specification="_LKmCAN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO0asd7IEeWfkMH0esag_A" name="swopErrors" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO0ast7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO0as97IEeWfkMH0esag_A" type="_K7HbkN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_swopErrors = swopErrors;&#xD;
 	_request = request;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO0atN7IEeWfkMH0esag_A" name="getInstance" specification="_LKnQIN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO0atd7IEeWfkMH0esag_A" name="swopErrors" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO0att7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO0at97IEeWfkMH0esag_A" type="_K7HbkN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return new MetroErrorMapper(swopErrors, request);&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO1BwN7IEeWfkMH0esag_A" name="map" specification="_K7LtAN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO1Bwd7IEeWfkMH0esag_A" type="_LGdv8N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>if(_swopErrors == null) {&#xD;
 		return null;&#xD;
 	}&#xD;
 	&#xD;
  	ESLog.debug(&quot;Mapping errors ...&quot;);&#xD;
  	ArrayList errors = new ArrayList();&#xD;
 	&#xD;
 	Iterator iterator = _swopErrors.iterator();&#xD;
 	while(iterator.hasNext()) {&#xD;
 		SifException se = mapError(iterator.next());&#xD;
 		if(se != null) {&#xD;
 			errors.add(se);&#xD;
 		}&#xD;
 	}&#xD;
     return errors;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO1o0N7IEeWfkMH0esag_A" name="getError" specification="_K7NiMN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO1o0d7IEeWfkMH0esag_A" name="errorId">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LO1o0t7IEeWfkMH0esag_A" name="message">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LO1o097IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>// 2000, 2001&#xD;
		if(errorId.equals(&quot;2000&quot;) || errorId.equals(&quot;2001&quot;)) {&#xD;
			if(_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getProductID() != null) {&#xD;
				return ErrorFactory.getSifException(ErrorFactory.id210_PRODUCT_NR_NOT_FOUND,_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getProductID()&#xD;
						, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
			}else if (_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getSparePartNumber() != null){&#xD;
				return ErrorFactory.getSifException(ErrorFactory.id210_PRODUCT_NR_NOT_FOUND,_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getSparePartNumber()&#xD;
						, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);				&#xD;
			}else {&#xD;
				return ErrorFactory.getSifException(ErrorFactory.id210_PRODUCT_NR_NOT_FOUND,&quot;-&quot;&#xD;
						, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);				&#xD;
				&#xD;
			}&#xD;
		}&#xD;
		// 2002, 2003&#xD;
		if(errorId.equals(&quot;2002&quot;) || errorId.equals(&quot;2003&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id201_PARAMETER_HAS_INVALID_DATA, &quot;CountryCode&quot;, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		// 2004&#xD;
		if(errorId.equals(&quot;2004&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id200_MISSING_PARAMETER,&#xD;
					message, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		// 2005&#xD;
		if(errorId.equals(&quot;2005&quot;)|| errorId.equals(&quot;2031&quot;)|| errorId.equals(&quot;2032&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id212_NO_START_DATE, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		// 2006, 2007, 2013, 2014, 2015, 2016&#xD;
		if(errorId.equals(&quot;2006&quot;) || errorId.equals(&quot;2007&quot;) || &#xD;
				errorId.equals(&quot;2013&quot;) || errorId.equals(&quot;2014&quot;) || &#xD;
				errorId.equals(&quot;2015&quot;) || errorId.equals(&quot;2016&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id214_PRODUCT_PART_NOT_ELIGIBLE, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		// 2008&#xD;
		if(errorId.equals(&quot;2008&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id300_NO_DATA_FOUND, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		// 2009, 2018&#xD;
		if(errorId.equals(&quot;2009&quot;) || errorId.equals(&quot;2018&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id213_NO_WARRANTY_FOUND, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		// 2010&#xD;
		if(errorId.equals(&quot;2010&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id202_PRODUCT_NR_NOT_PROVIDED, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		// 2017&#xD;
		if(errorId.equals(&quot;2017&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id300_NO_DATA_FOUND, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		&#xD;
		// 2022&#xD;
		if(errorId.equals(&quot;2022&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id201_PARAMETER_HAS_INVALID_DATA, &quot;Serial Number&quot;, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}	&#xD;
	&#xD;
		&#xD;
		&#xD;
		// 2033&#xD;
		if(errorId.equals(&quot;2033&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id212_NO_START_DATE, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}	&#xD;
&#xD;
		// 2019 and others&#xD;
		if(errorId.equals(&quot;2019&quot;) || errorId.startsWith(&quot;2&quot;)) {&#xD;
			return ErrorFactory.getSifException(ErrorFactory.id224_ALL_SOURCE_SYSTEMS_TIMED_OUT, &quot;SWOP&quot;, &quot;SWOP &quot; + errorId + &quot;: &quot; + message);&#xD;
		}&#xD;
		// a warning, will not be mapped&#xD;
		return null; &#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K7LtAN7IEeWfkMH0esag_A" name="map" method="_LO1BwN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LKoeQN7IEeWfkMH0esag_A" type="_LGdv8N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_K7NiMN7IEeWfkMH0esag_A" name="getError" visibility="protected" method="_LO1o0N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K7OJQN7IEeWfkMH0esag_A" name="errorId">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_K7OJQd7IEeWfkMH0esag_A" name="message">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LKqTcd7IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKmCAN7IEeWfkMH0esag_A" name="ErrorMapper" visibility="protected" method="_LO0asN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LKmpEt7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LKmpE97IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LKmpEN7IEeWfkMH0esag_A" name="swopErrors" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKmpEd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKmpFN7IEeWfkMH0esag_A" type="_K7HbkN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKnQIN7IEeWfkMH0esag_A" name="getInstance" isStatic="true" method="_LO0atN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LKnQId7IEeWfkMH0esag_A" name="swopErrors" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKn3MN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKn3Md7IEeWfkMH0esag_A" type="_K7HbkN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKpsYd7IEeWfkMH0esag_A" name="mapError" visibility="protected" isAbstract="true">
                      <ownedParameter xmi:id="_LKpsYt7IEeWfkMH0esag_A" name="swopError" type="_LKoeQd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKqTcN7IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K7bkoN7IEeWfkMH0esag_A" name="LocationMasterMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQenkN7IEeWfkMH0esag_A">
                      <body>@author juhank</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LM8LYN7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LGVNEN7IEeWfkMH0esag_A" association="_LR7ZEd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LM8ycN7IEeWfkMH0esag_A" name="_XMLIdGenerator" visibility="protected" type="_LG500N7IEeWfkMH0esag_A" association="_LR8nMN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO2P4N7IEeWfkMH0esag_A" name="LocationMasterMapper" specification="_LKrhkN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO2P4d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO2P4t7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO2P497IEeWfkMH0esag_A" type="_K7bkoN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
     _XMLIdGenerator = XMLIdGenerator;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO228N7IEeWfkMH0esag_A" name="isLoactionNull" specification="_LKsvsN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO228d7IEeWfkMH0esag_A" name="locationToCheck" type="_LG7qAN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO228t7IEeWfkMH0esag_A" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(locationToCheck.getSourceCustomerID() != null ||&#xD;
 			locationToCheck.getCity() != null ||&#xD;
 			locationToCheck.getFmtAddrLine1() != null ||&#xD;
 			locationToCheck.getFmtAddrLine2() != null ||&#xD;
 			locationToCheck.getFmtAddrLine3() != null ||&#xD;
 			locationToCheck.getFmtAddrLine4() != null ||&#xD;
 			locationToCheck.getFmtAddrLine5() != null ||&#xD;
 			locationToCheck.getGeographicArea() != null ||&#xD;
 			locationToCheck.getIsoCountryCd() != null ||&#xD;
 			locationToCheck.getPostalCode() != null ||&#xD;
 			locationToCheck.getSiteBusinessName1() != null ||&#xD;
 			locationToCheck.getSiteBusinessName2() != null ||&#xD;
 			locationToCheck.getSiteBusinessName3() != null ||&#xD;
 			locationToCheck.getSiteBusinessName4() != null ||&#xD;
 			locationToCheck.getStreetAddr1() != null ||&#xD;
 			locationToCheck.getStreetAddr2() != null) {&#xD;
 		return false;&#xD;
 	} else {&#xD;
 		return true;&#xD;
 	}&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K7gdIN7IEeWfkMH0esag_A" name="map" visibility="package" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K7hEMN7IEeWfkMH0esag_A" type="_LG7qAN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K7hEMd7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKrhkN7IEeWfkMH0esag_A" name="LocationMasterMapper" visibility="protected" method="_LO2P4N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LKsIoN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LKsIod7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LKrhkd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKrhkt7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKsIot7IEeWfkMH0esag_A" type="_K7bkoN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKsvsN7IEeWfkMH0esag_A" name="isLoactionNull" visibility="protected" method="_LO228N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LKsvsd7IEeWfkMH0esag_A" name="locationToCheck" type="_LG7qAN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKsvst7IEeWfkMH0esag_A" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K7sDUN7IEeWfkMH0esag_A" name="MetroDeliverableMapper" visibility="package">
                    <generalization xmi:id="_LHBJkN7IEeWfkMH0esag_A" general="_K6_fwN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO3eAN7IEeWfkMH0esag_A" name="MetroDeliverableMapper" specification="_LKtWwN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO3eAd7IEeWfkMH0esag_A" name="swopDeliverables" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO3eAt7IEeWfkMH0esag_A" type="_K7sDUN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(swopDeliverables);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO4FEN7IEeWfkMH0esag_A" name="map" specification="_K7vGoN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO4FEd7IEeWfkMH0esag_A" type="_LGx5AN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LO4FEt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(_swopDeliverables == null) {&#xD;
			return new Deliverable[0];&#xD;
		}&#xD;
		&#xD;
	 	ESLog.debug(&quot;Mapping &quot; + _swopDeliverables.size() + &quot; deliverables ...&quot;);&#xD;
		Deliverable[] deliverables = new Deliverable[_swopDeliverables.size()];&#xD;
		&#xD;
		Iterator iterator = _swopDeliverables.iterator();&#xD;
		int i = 0;&#xD;
		while(iterator.hasNext()) {&#xD;
			deliverables[i] = mapDeliverable((ZWTYDELIVERABLE) iterator.next());&#xD;
			i++;&#xD;
		}&#xD;
	    return deliverables;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO4FE97IEeWfkMH0esag_A" name="mapDeliverable" specification="_LKuk4N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO4FFN7IEeWfkMH0esag_A" name="swopDeliverable" type="_LG_7cd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO4FFd7IEeWfkMH0esag_A" type="_LGx5AN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Mapping deliverable: &quot; + swopDeliverable.getDELIVNAME());&#xD;
	 	Deliverable deliverable = new Deliverable();&#xD;
	 	deliverable.setDelivCode(MappingUtils.nullString(swopDeliverable.getDELIVCODE()));&#xD;
	 	deliverable.setDelivName(MappingUtils.nullString(swopDeliverable.getDELIVNAME()));&#xD;
	 	deliverable.setDelivValue(swopDeliverable.getDELIVVALUE());&#xD;
	 	&#xD;
	    return deliverable;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K7vGoN7IEeWfkMH0esag_A" name="map" visibility="package" method="_LO4FEN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K7vtsN7IEeWfkMH0esag_A" type="_LGx5AN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K7vtsd7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKtWwN7IEeWfkMH0esag_A" name="MetroDeliverableMapper" visibility="package" method="_LO3eAN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LKt90N7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LKt90d7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LKtWwd7IEeWfkMH0esag_A" name="swopDeliverables" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKt90t7IEeWfkMH0esag_A" type="_K7sDUN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKuk4N7IEeWfkMH0esag_A" name="mapDeliverable" visibility="private" method="_LO4FE97IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LKuk4d7IEeWfkMH0esag_A" name="swopDeliverable" type="_LG_7cd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKvL8N7IEeWfkMH0esag_A" type="_LGx5AN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K73pgN7IEeWfkMH0esag_A" name="MetroErrorMapper">
                    <generalization xmi:id="_LHEz8N7IEeWfkMH0esag_A" general="_K7HbkN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO4sIN7IEeWfkMH0esag_A" name="MetroErrorMapper" specification="_LKvzAN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO4sId7IEeWfkMH0esag_A" name="swopErrors" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO4sIt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO4sI97IEeWfkMH0esag_A" type="_K73pgN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(swopErrors, request);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO4sJN7IEeWfkMH0esag_A" name="mapError" specification="_LKxBIN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO4sJd7IEeWfkMH0esag_A" name="swopError" type="_LKoeQd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO4sJt7IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return mapError((ZWTYERROR)swopError);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO5TMN7IEeWfkMH0esag_A" name="mapError" specification="_LKxoMN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO5TMd7IEeWfkMH0esag_A" name="swopError" type="_LHC-wN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO5TMt7IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return getError(swopError.getID(),swopError.getMESSAGE());&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_LKvzAN7IEeWfkMH0esag_A" name="MetroErrorMapper" visibility="protected" method="_LO4sIN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LKwaEN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LKwaEd7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LKvzAd7IEeWfkMH0esag_A" name="swopErrors" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKvzAt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKwaEt7IEeWfkMH0esag_A" type="_K73pgN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKxBIN7IEeWfkMH0esag_A" name="mapError" visibility="protected" method="_LO4sJN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LKxBId7IEeWfkMH0esag_A" name="swopError" type="_LKoeQd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKxBIt7IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKxoMN7IEeWfkMH0esag_A" name="mapError" visibility="protected" method="_LO5TMN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LKxoMd7IEeWfkMH0esag_A" name="swopError" type="_LHC-wN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKxoMt7IEeWfkMH0esag_A" type="_LGC5Md7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K7_lUN7IEeWfkMH0esag_A" name="MetroLocationMasterMapper" visibility="package">
                    <generalization xmi:id="_LHK6kN7IEeWfkMH0esag_A" general="_K7bkoN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO5TM97IEeWfkMH0esag_A" name="MetroLocationMasterMapper" specification="_LKyPQN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO5TNN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO5TNd7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO5TNt7IEeWfkMH0esag_A" type="_K7_lUN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction, XMLIdGenerator);&#xD;
&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO56QN7IEeWfkMH0esag_A" name="map" specification="_K8CooN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO56Qd7IEeWfkMH0esag_A" type="_LG7qAN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LO56Qt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(_transaction == null) {&#xD;
 		return new LocationComplexType[0];&#xD;
 	}&#xD;
 	// map 1 location&#xD;
  	LocationComplexType location = mapLocation(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getLOCATIONMASTER());&#xD;
&#xD;
  	// check if there was a location&#xD;
  	if(location == null) {&#xD;
      	ESLog.debug(&quot;No location found&quot;);&#xD;
  		return new LocationComplexType[0];&#xD;
  	} else {&#xD;
      	ESLog.debug(&quot;We have a location&quot;);&#xD;
         if(location.getSourceCustomerID()==null){&#xD;
             location.setSourceCustomerID(generateSoucreCustomerID());&#xD;
         }&#xD;
         LocationComplexType[] locations = new LocationComplexType[1];&#xD;
      	locations[0] = location;&#xD;
  		return locations;&#xD;
  	}&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO56Q97IEeWfkMH0esag_A" name="mapLocation" specification="_LK0EcN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO56RN7IEeWfkMH0esag_A" name="input" type="_LHHQMN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO56Rd7IEeWfkMH0esag_A" type="_LG7qAN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>// in case the input is null, we return null again&#xD;
 	if(input == null) {&#xD;
 		return null;&#xD;
 	}&#xD;
&#xD;
 	// map the SWOP location to the ES location&#xD;
  	ESLog.debug(&quot;Mapping location: &quot; + input.getSOURCECUSTOMERID());&#xD;
     LocationComplexType location = new LocationComplexType();&#xD;
     location.setSourceCustomerID(MappingUtils.nullString(input.getSOURCECUSTOMERID()));&#xD;
     location.setId(_XMLIdGenerator.nextId());&#xD;
     location.setCity(MappingUtils.nullString(input.getADDRESS().getCITY()));&#xD;
     location.setFmtAddrLine1(MappingUtils.nullString(input.getADDRESS().getFMTADDRLINE1()));&#xD;
     location.setFmtAddrLine2(MappingUtils.nullString(input.getADDRESS().getFMTADDRLINE2()));&#xD;
     location.setFmtAddrLine3(MappingUtils.nullString(input.getADDRESS().getFMTADDRLINE3()));&#xD;
     location.setFmtAddrLine4(MappingUtils.nullString(input.getADDRESS().getFMTADDRLINE4()));&#xD;
     location.setFmtAddrLine5(MappingUtils.nullString(input.getADDRESS().getFMTADDRLINE5()));&#xD;
     location.setGeographicArea(MappingUtils.nullString(input.getADDRESS().getGEOGRAPHICAREA()));&#xD;
     location.setIsoCountryCd(MappingUtils.nullString(input.getADDRESS().getISOCTRYCD()));&#xD;
     location.setPostalCode(MappingUtils.nullString(input.getADDRESS().getPOSTALCODE()));&#xD;
     location.setSiteBusinessName1(MappingUtils.nullString(input.getSITEBUSNAME1()));&#xD;
     location.setSiteBusinessName2(MappingUtils.nullString(input.getSITEBUSNAME2()));&#xD;
     location.setSiteBusinessName3(MappingUtils.nullString(input.getSITEBUSNAME3()));&#xD;
     location.setSiteBusinessName4(MappingUtils.nullString(input.getSITEBUSNAME4()));&#xD;
     location.setStreetAddr1(MappingUtils.nullString(input.getADDRESS().getSTREETADDR1()));&#xD;
     location.setStreetAddr2(MappingUtils.nullString(input.getADDRESS().getSTREETADDR2()));&#xD;
&#xD;
     // check if we have data in the location, if not, we return a null so that we don't have an entry&#xD;
     if(isLoactionNull(location)) {&#xD;
     	return null;&#xD;
     }&#xD;
     return location;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO6hUN7IEeWfkMH0esag_A" name="generateSoucreCustomerID" specification="_K8FE4N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO6hUd7IEeWfkMH0esag_A" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>String result = &quot;W-&quot;;&#xD;
     String oosKey = null;&#xD;
     ZWTYOOSINFO oos = ((ZWTYWTYENT) _transaction.getSourceSystemStandardReply()).getOOSINFO();&#xD;
     if (oos != null) {&#xD;
         oosKey = oos.getOOSKEY();&#xD;
         if (oosKey != null) {&#xD;
             if (oosKey.length() &lt;= 14)&#xD;
                 result += oosKey;&#xD;
             else&#xD;
                 result += oosKey.substring(oosKey.length() - 14, oosKey.length());&#xD;
         }&#xD;
     }&#xD;
     return result;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K8CooN7IEeWfkMH0esag_A" name="map" visibility="package" method="_LO56QN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K8DPsN7IEeWfkMH0esag_A" type="_LG7qAN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K8DPsd7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_K8FE4N7IEeWfkMH0esag_A" name="generateSoucreCustomerID" visibility="protected" method="_LO6hUN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K8Fr8N7IEeWfkMH0esag_A" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LKyPQN7IEeWfkMH0esag_A" name="MetroLocationMasterMapper" visibility="package" method="_LO5TM97IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LKy2Ut7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LKy2U97IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LKy2UN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKy2Ud7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LKy2VN7IEeWfkMH0esag_A" type="_K7_lUN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK0EcN7IEeWfkMH0esag_A" name="mapLocation" visibility="private" method="_LO56Q97IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LK0Ecd7IEeWfkMH0esag_A" name="input" type="_LHHQMN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK0Ect7IEeWfkMH0esag_A" type="_LG7qAN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K8NnwN7IEeWfkMH0esag_A" name="MetroModifierMapper">
                    <generalization xmi:id="_LHRoQN7IEeWfkMH0esag_A" general="_K98tIN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO6hUt7IEeWfkMH0esag_A" name="MetroModifierMapper" specification="_LK0rgN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO6hU97IEeWfkMH0esag_A" name="swopModifiers" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO6hVN7IEeWfkMH0esag_A" type="_K8NnwN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(swopModifiers);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO7IYN7IEeWfkMH0esag_A" name="map" specification="_K8Pc8N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO7IYd7IEeWfkMH0esag_A" type="_LHPzEN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LO7IYt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(_swopModifiers == null) {&#xD;
 		return new ModifierComplexType[0];&#xD;
 	}&#xD;
 	&#xD;
 	ESLog.debug(&quot;Mapping &quot; + _swopModifiers.size() + &quot;modifiers ...&quot;);&#xD;
 	ModifierComplexType[] modifiers = new ModifierComplexType[_swopModifiers.size()];&#xD;
 	&#xD;
 	Iterator iterator = _swopModifiers.iterator();&#xD;
		int i = 0;&#xD;
 	while(iterator.hasNext()) {&#xD;
 		modifiers[i] = mapModifier((ZWTYMODIFIERLINE) iterator.next());&#xD;
 		i++;&#xD;
 	}&#xD;
     return modifiers;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO7IY97IEeWfkMH0esag_A" name="mapModifier" specification="_LK15oN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO7IZN7IEeWfkMH0esag_A" name="swopModifier" type="_LHN94N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO7IZd7IEeWfkMH0esag_A" type="_LHPzEN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Mapping modifier: &quot; + swopModifier.getMODNAME());&#xD;
  	ModifierComplexType modifier = new ModifierComplexType();&#xD;
  	modifier.setModName(MappingUtils.nullString(swopModifier.getMODNAME())); &#xD;
  	modifier.setModValue(MappingUtils.nullString(swopModifier.getMODVALUE()));&#xD;
  	modifier.setModDesc(swopModifier.getMODDESC());&#xD;
  	&#xD;
     return modifier;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K8Pc8N7IEeWfkMH0esag_A" name="map" visibility="package" method="_LO7IYN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K8QEAN7IEeWfkMH0esag_A" type="_LHPzEN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K8QrEN7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK0rgN7IEeWfkMH0esag_A" name="MetroModifierMapper" method="_LO6hUt7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LK0rgt7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LK0rg97IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LK0rgd7IEeWfkMH0esag_A" name="swopModifiers" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK0rhN7IEeWfkMH0esag_A" type="_K8NnwN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK15oN7IEeWfkMH0esag_A" name="mapModifier" visibility="protected" method="_LO7IY97IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LK15od7IEeWfkMH0esag_A" name="swopModifier" type="_LHN94N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK2gsN7IEeWfkMH0esag_A" type="_LHPzEN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K8Z1AN7IEeWfkMH0esag_A" name="MetroOfferMapper" visibility="package">
                    <generalization xmi:id="_LHfDoN7IEeWfkMH0esag_A" general="_K-CMsN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO7vcN7IEeWfkMH0esag_A" name="MetroOfferMapper" specification="_LK3HwN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO7vcd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO7vct7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO7vc97IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO7vdN7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO7vdd7IEeWfkMH0esag_A" name="warrantyType" type="_LHcAUN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO7vdt7IEeWfkMH0esag_A" type="_K8Z1AN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction, entitlementCheckDate, oos, XMLIdGenerator, warrantyType);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO8WgN7IEeWfkMH0esag_A" name="map" specification="_K8etgN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO8Wgd7IEeWfkMH0esag_A" type="_LF69YN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LO8Wgt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(_transaction == null) {&#xD;
 		return new OfferComplexType[0];&#xD;
 	}&#xD;
&#xD;
 	ZOFFERINFO swopOffers = ((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOFFERINFO();&#xD;
 	ArrayList offerList = new ArrayList(); &#xD;
  	ESLog.debug(&quot;Mapping in total (BW &amp; FR): &quot; + swopOffers.getItem().size() + &quot; offers ...&quot;);&#xD;
  	&#xD;
 	List&lt;ZWTYOFFERINFO> enumeration = swopOffers.getItem();&#xD;
 	for (ZWTYOFFERINFO swopOffer : enumeration) {&#xD;
 		// check if we have an offer obligation type. It must be available and the&#xD;
 		// content must be FR or BW, otherwise it is an invalid SWOP result.&#xD;
 		ESLog.debug(&quot;getOFFEROBLIGATIONTYPE: &quot; + swopOffer.getOFFEROBLIGATIONTYPE());&#xD;
 		if(swopOffer.getOFFEROBLIGATIONTYPE() == null) {&#xD;
 	     	ESLog.error(&quot;SWOP returned an empty offer obligation type&quot;);&#xD;
 			throw new MappingException(&quot;Invalid SWOP result - Mandatory field OfferObligationType return from SWOP is null&quot;);&#xD;
 		}&#xD;
 		ESLog.debug(&quot;WarrantyTypeType.FR String: &quot; + WarrantyTypeType.FR.toString());&#xD;
 		ESLog.debug(&quot;WarrantyTypeType.BW String: &quot; + WarrantyTypeType.BW.toString());&#xD;
 		if(swopOffer.getOFFEROBLIGATIONTYPE() != null &amp;&amp; &#xD;
 				!(WarrantyTypeType.FR.toString().equalsIgnoreCase(swopOffer.getOFFEROBLIGATIONTYPE()) ||&#xD;
 				 WarrantyTypeType.BW.toString().equalsIgnoreCase(swopOffer.getOFFEROBLIGATIONTYPE()))) {&#xD;
 			// if we have something other than FR or BW we also throw an expection&#xD;
 	     	ESLog.error(&quot;SWOP returned another offer obligation type than FR or BW: &quot; + swopOffer.getOFFEROBLIGATIONTYPE());&#xD;
 			throw new MappingException(&quot;Invalid SWOP result - OfferObligationType from SWOP is NOT type FR or BW: &quot; + swopOffer.getOFFEROBLIGATIONTYPE());&#xD;
 		}&#xD;
 		&#xD;
 		// added only the offers which have the same obligation type as the warranty type&#xD;
 		if(swopOffer.getOFFEROBLIGATIONTYPE() != null &amp;&amp; (_warrantyType.toString().equalsIgnoreCase(swopOffer.getOFFEROBLIGATIONTYPE()))) {&#xD;
 			offerList.add(mapOffer(swopOffer));&#xD;
 		}&#xD;
 	}&#xD;
 	return (OfferComplexType[]) offerList.toArray(new OfferComplexType[0]);&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO89kN7IEeWfkMH0esag_A" name="mapOffer" specification="_LK5kAN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO89kd7IEeWfkMH0esag_A" name="swopOffer" type="_LHYV8d7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO89kt7IEeWfkMH0esag_A" type="_LF69YN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Mapping offer: &quot; + swopOffer.getOFFERPRODUCTID());&#xD;
  	OfferComplexType offer = new OfferComplexType();&#xD;
  	offer.setId(_XMLIdGenerator.nextId());&#xD;
  	offer.setOfferCode(MappingUtils.nullString(swopOffer.getOFFERPRODUCTID()));&#xD;
  	offer.setOfferDescription(swopOffer.getOFFERDESC());&#xD;
&#xD;
  	// Modifier&#xD;
  	&#xD;
  	ModifierMapper mm = new MetroModifierMapper(swopOffer.getMODIFIER().getItem());&#xD;
  	offer.setModifier(mm.map());&#xD;
  	&#xD;
  	// Deliverable&#xD;
  	DeliverableMapper dm = new MetroDeliverableMapper(swopOffer.getDELIVERABLE().getItem());&#xD;
  	offer.setDeliverable(dm.map());&#xD;
  	&#xD;
  	// AppliesTo&#xD;
  	offer.setAppliesTo(mapAppliesTo(swopOffer));     	&#xD;
  	&#xD;
     return offer;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO89k97IEeWfkMH0esag_A" name="mapAppliesTo" specification="_LK6LEN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO89lN7IEeWfkMH0esag_A" name="swopOffer" type="_LHYV8d7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO89ld7IEeWfkMH0esag_A" type="_LHZkEd7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LO89lt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Mapping appliesTo&quot;);&#xD;
  	&#xD;
  	AppliesTo appliesTo = new AppliesTo();&#xD;
  	appliesTo.setOOSRef(_oos);&#xD;
 	appliesTo.setOOSKey(MappingUtils.stripLeadingZeroes(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getOOSKEY()));&#xD;
 	appliesTo.setStartDate(MappingUtils.mapToCastorDate(swopOffer.getOFFERSTARTDATE()));&#xD;
 	appliesTo.setEndDate(MappingUtils.mapToCastorDate(swopOffer.getOFFERENDDATE()));&#xD;
 	appliesTo.setStatus(MappingUtils.getStatus(MappingUtils.mapToCastorDate(swopOffer.getOFFERSTARTDATE()),&#xD;
 						   MappingUtils.mapToCastorDate(swopOffer.getOFFERENDDATE()), &#xD;
 						   _entitlementCheckDate));&#xD;
 	if(appliesTo.getStatus() == StatusType.A) {&#xD;
 		appliesTo.setActiveAppliesTo(true);&#xD;
 	} else {&#xD;
 		appliesTo.setActiveAppliesTo(false);&#xD;
 	}&#xD;
 	AppliesTo[] appliesToList = new AppliesTo[1];&#xD;
 	appliesToList[0] = appliesTo;&#xD;
 	return appliesToList;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K8etgN7IEeWfkMH0esag_A" name="map" visibility="package" method="_LO8WgN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K8fUkN7IEeWfkMH0esag_A" type="_LF69YN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K8fUkd7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK3HwN7IEeWfkMH0esag_A" name="MetroOfferMapper" visibility="package" method="_LO7vcN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LK4V4t7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LK4V497IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LK3u0N7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK3u0d7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK3u0t7IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK4V4N7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK4V4d7IEeWfkMH0esag_A" name="warrantyType" type="_LHcAUN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK4V5N7IEeWfkMH0esag_A" type="_K8Z1AN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK5kAN7IEeWfkMH0esag_A" name="mapOffer" visibility="private" method="_LO89kN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LK5kAd7IEeWfkMH0esag_A" name="swopOffer" type="_LHYV8d7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK5kAt7IEeWfkMH0esag_A" type="_LF69YN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK6LEN7IEeWfkMH0esag_A" name="mapAppliesTo" visibility="private" method="_LO89k97IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LK6yIN7IEeWfkMH0esag_A" name="swopOffer" type="_LHYV8d7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK6yId7IEeWfkMH0esag_A" type="_LHZkEd7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LK6yIt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K8ulIN7IEeWfkMH0esag_A" name="MetroOosMapper" visibility="package">
                    <generalization xmi:id="_LHm_cN7IEeWfkMH0esag_A" general="_K-YK8N7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO9koN7IEeWfkMH0esag_A" name="MetroOosMapper" specification="_LK8AQN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO9kod7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO9kot7IEeWfkMH0esag_A" name="locationObject" type="_LG7qAN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO9ko97IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO9kpN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO9kpd7IEeWfkMH0esag_A" type="_K8ulIN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction, locationObject, XMLIdGenerator, request);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO-LsN7IEeWfkMH0esag_A" name="map" specification="_K8zdoN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO-Lsd7IEeWfkMH0esag_A" type="_LHayMd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>if(_transaction == null) {&#xD;
 		return null;&#xD;
 	}&#xD;
 	&#xD;
 	ZWTYOOSINFO swopOos = ((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO();&#xD;
 	&#xD;
 	if(swopOos == null) {&#xD;
 		return null;&#xD;
 	}&#xD;
 	// create the OOS object&#xD;
 	ESLog.debug(&quot;Mapping oos: &quot; + MappingUtils.stripLeadingZeroes(swopOos.getOOSKEY()));&#xD;
 	OOSComplexType oos = new OOSComplexType();&#xD;
 	oos.setWarrantyShipToCustomerRef(_locationObject);&#xD;
		oos.setId(_XMLIdGenerator.nextId());&#xD;
 	oos.setOOSKey(MappingUtils.nullString(MappingUtils.stripLeadingZeroes(swopOos.getOOSKEY())));&#xD;
 	oos.setOOSType(&quot;HW&quot;);&#xD;
 	String serialNumber = swopOos.getSERIALNUM();&#xD;
 	// check if we have SN from SWOP, if not we get the SN from the request&#xD;
 	if(serialNumber == null || &quot;&quot;.equals(serialNumber)) {&#xD;
     	oos.addSerialNumber(_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getSerialNumber());&#xD;
 	} else {&#xD;
     	oos.addSerialNumber(serialNumber);&#xD;
 	}&#xD;
 	oos.setProgramDeal(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO().getDEALCODE())); &#xD;
 	oos.setPurchaseAgreementNumber(MappingUtils.nullString(swopOos.getPURCHASEAGREENUM()));&#xD;
 	oos.setSalesOrderNumber(MappingUtils.nullString(swopOos.getSALESORDERNUM()));&#xD;
 	oos.setShipToCustomerNumber(MappingUtils.stripLeadingZeroes(MappingUtils.nullString(swopOos.getSHIPTOCUSTNUM())));&#xD;
 	oos.setShipToCountry(MappingUtils.nullString(swopOos.getSHIPTOCTRY()));&#xD;
 	oos.setShipFromCountry(MappingUtils.nullString(swopOos.getSHIPFROMCTRY()));&#xD;
 	oos.setOMSystemDesc(MappingUtils.nullString(swopOos.getOMSYSTEMDESC()));&#xD;
 	oos.setSalesChannel(MappingUtils.nullString(swopOos.getSALESCHANNEL()));&#xD;
 	oos.setWarrantyShipToCustomerID(MappingUtils.nullString(swopOos.getSHIPTOCUSTNUM()));&#xD;
 	&#xD;
     //The generated SourceCustomerId value for SWOP warranties must &#xD;
     //also be populated in the WarrantyShipToCustomerID of the OOS.&#xD;
     if (oos.getWarrantyShipToCustomerID() == null &amp;&amp; _locationObject!=null)&#xD;
         oos.setWarrantyShipToCustomerID(_locationObject.getSourceCustomerID());&#xD;
         	&#xD;
 	// Product&#xD;
 	ProductMapper pm = new MetroProductMapper(_transaction);&#xD;
 	oos.setProduct(pm.map());&#xD;
 	&#xD;
 	&#xD;
 	SparePartMapper spm = new MetroSparePartMapper(_transaction);&#xD;
   	oos.setPart(spm.map());&#xD;
   	&#xD;
     /*&#xD;
      *  3G addition for mapping the PartListComplexType&#xD;
      */&#xD;
    	ESLog.debug(&quot;Mapping oos ->PART: *****&quot;);&#xD;
    	ZPARTLIST sapPartList = ((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getPRODUCTINFO().getPARTINFO();     		&#xD;
     if (sapPartList != null){&#xD;
	       	List&lt;ZWTYPARTINFO> sapParts =sapPartList.getItem();		       &#xD;
	        if ((sapParts != null)&amp;&amp; (sapParts.size()>0))  {     	&#xD;
	        	ESLog.debug(&quot;Mapping oos ->PART: FOUND VALUE IN ZPARTLIST: The Size of the PartList:&quot; + sapParts.size() );	            &#xD;
	        	for (ZWTYPARTINFO sapPart : sapParts) {   &#xD;
	               		ESLog.debug(&quot;Mapping oos ->PART: About to call the Mapping for partNumber:&quot; + sapPart.getPARTNUMBER() );&#xD;
	               		PartListComplexType tmp = mapPart(sapPart);&#xD;
	               		oos.addPartList(tmp);&#xD;
	                }&#xD;
	            }else{&#xD;
	           		ESLog.debug(&quot;Mapping oos ->PART: ZPARTLIST is NULL&quot; );	&#xD;
	            }&#xD;
     }else{       		&#xD;
     	ESLog.debug(&quot;Mapping oos ->PART: (ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getPRODUCTINFO().getPARTINFO() returned NULL&quot; );      		&#xD;
     }	&#xD;
  	&#xD;
     return oos;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO-Lst7IEeWfkMH0esag_A" name="mapPart" specification="_LK91cN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO-Ls97IEeWfkMH0esag_A" name="sapPart" type="_LHj8Id7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO-LtN7IEeWfkMH0esag_A" type="_LHlKQN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>if(sapPart == null) {&#xD;
 	  	ESLog.debug(&quot;Mapping part info:ZWTYPARTINFO was null &quot; );	&#xD;
 		return null;&#xD;
 	}&#xD;
&#xD;
 	ESLog.debug(&quot;Mapping part info: &quot; + sapPart.getPARTNUMBER());	&#xD;
 	&#xD;
 	PartListComplexType part = new PartListComplexType();&#xD;
 &#xD;
 	&#xD;
 	part.setPartNumber(MappingUtils.nullString(sapPart.getPARTNUMBER()));&#xD;
 	part.setPartDescription(MappingUtils.nullString(sapPart.getPARTDESC()));&#xD;
    	part.setPartSerialNumber(sapPart.getPARTSN());&#xD;
   	part.setPartWarrantyStartDate(MappingUtils.nullString(sapPart.getPARTWTYSTART()));&#xD;
    	part.setPartWarrantyEndDate(MappingUtils.nullString(sapPart.getPARTWTYEND()));&#xD;
	&#xD;
 	// check if the part is empty, in this case we return a null&#xD;
 	if((part.getPartDescription() == null) &amp;&amp; (part.getPartNumber() == null)) {&#xD;
 	  	ESLog.debug(&quot;Mapping part info:ZWTYPARTINFO  The Part Description and PartNumber was null &quot; );	&#xD;
&#xD;
 		return null;&#xD;
 	} else {&#xD;
         return part;&#xD;
 	}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K8zdoN7IEeWfkMH0esag_A" name="map" visibility="package" method="_LO-LsN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LK9OYN7IEeWfkMH0esag_A" type="_LHayMd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK8AQN7IEeWfkMH0esag_A" name="MetroOosMapper" visibility="package" method="_LO9koN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LK8nUd7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LK8nUt7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LK8AQd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK8AQt7IEeWfkMH0esag_A" name="locationObject" type="_LG7qAN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK8AQ97IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK8nUN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK8nU97IEeWfkMH0esag_A" type="_K8ulIN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK91cN7IEeWfkMH0esag_A" name="mapPart" visibility="private" method="_LO-Lst7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LK-cgN7IEeWfkMH0esag_A" name="sapPart" type="_LHj8Id7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LK-cgd7IEeWfkMH0esag_A" type="_LHlKQN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K8_q4N7IEeWfkMH0esag_A" name="MetroProductMapper" visibility="package">
                    <generalization xmi:id="_LHtGEN7IEeWfkMH0esag_A" general="_K-nbgN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO-ywN7IEeWfkMH0esag_A" name="MetroProductMapper" specification="_LHr38d7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO-ywd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO-ywt7IEeWfkMH0esag_A" type="_K8_q4N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO-yw97IEeWfkMH0esag_A" name="map" specification="_K9CuMN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO-yxN7IEeWfkMH0esag_A" type="_LHrQ4N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>if(_transaction == null) {&#xD;
 		return null;&#xD;
 	}&#xD;
 	&#xD;
 	ZWTYPRODINFO productInfo = ((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getPRODUCTINFO();&#xD;
 	if(productInfo == null) {&#xD;
 		return null;&#xD;
 	}&#xD;
 	ESLog.debug(&quot;Mapping product: &quot; + productInfo.getPRODUCTNUM());&#xD;
 	ProductComplexType product = new ProductComplexType();&#xD;
 	product.setProductID(MappingUtils.nullString(productInfo.getPRODUCTNUM()));&#xD;
 	product.setProductDescription(MappingUtils.nullString(productInfo.getPRODUCTDESC()));&#xD;
 	product.setProductLineCode(MappingUtils.nullString(productInfo.getPRODUCTLINECODE()));&#xD;
 	product.setProductLineDescription(MappingUtils.nullString(productInfo.getPRODUCTLINEDESC()));&#xD;
 	// check whether the product is empty or not&#xD;
 	if(isProductNull(product)) {&#xD;
 		return null;&#xD;
 	}&#xD;
     return product;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K9CuMN7IEeWfkMH0esag_A" name="map" visibility="package" method="_LO-yw97IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LK_DkN7IEeWfkMH0esag_A" type="_LHrQ4N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LHr38d7IEeWfkMH0esag_A" name="MetroProductMapper" visibility="package" method="_LO-ywN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LHsfAN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LHsfAd7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LHr38t7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LHsfAt7IEeWfkMH0esag_A" type="_K8_q4N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K9I00N7IEeWfkMH0esag_A" name="MetroRequestMapper">
                    <generalization xmi:id="_LHwJYN7IEeWfkMH0esag_A" general="_K-v-YN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO_Z0N7IEeWfkMH0esag_A" name="MetroRequestMapper" specification="_LK_qoN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO_Z0d7IEeWfkMH0esag_A" name="inputRequest" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO_Z0t7IEeWfkMH0esag_A" name="performProductBasedCalculation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LO_Z097IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LO_Z1N7IEeWfkMH0esag_A" type="_K9I00N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(inputRequest, performProductBasedCalculation,manufacturingInstalledBaseServiceReply);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LO_Z1d7IEeWfkMH0esag_A" name="map" specification="_K9MfMN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LO_Z1t7IEeWfkMH0esag_A" type="_LKoeQd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Mapping ES request to SWOP request&quot;);		&#xD;
		WarrantyRequest warrantyRequest = _inputRequest.getEsRequestComplexTypeChoice().getWarrantyRequest();&#xD;
		&#xD;
		ZWARRANTYLOOKUPPARALLELBSU swopRequest = new ZWARRANTYLOOKUPPARALLELBSU();&#xD;
		swopRequest.setISOCOUNTRYCODE(warrantyRequest.getIsoCountryCd());&#xD;
		swopRequest.setSERIALNUM(warrantyRequest.getSerialNumber());&#xD;
		swopRequest.setPRODUCTNUM(warrantyRequest.getProductID());&#xD;
		&#xD;
		swopRequest.setPROOFOFPURCHASEDATE(MappingUtils.mapCastorToXMLDate(warrantyRequest.getProofPurchaseDate()));&#xD;
		swopRequest.setSERVICEIDNUM(warrantyRequest.getServiceID());&#xD;
		swopRequest.setRETRIEVEADDRESS(MappingUtils.mapOptionalBoolean(true, warrantyRequest.getIncludeAddresses()));&#xD;
		swopRequest.setSPAREPARTNUM(warrantyRequest.getSparePartNumber());&#xD;
		&#xD;
		if(_manufacturingInstalledBaseServiceReply != null) {&#xD;
			ESLog.debug(&quot;Mapping snr reply to SWOP request&quot;);	&#xD;
			if(_manufacturingInstalledBaseServiceReply.getManufacturingDate() != null)&#xD;
				swopRequest.setSNRMANUFACTUREDATE(DateHelper.toIsoDateString(_manufacturingInstalledBaseServiceReply.getManufacturingDate()));&#xD;
			&#xD;
			if(_manufacturingInstalledBaseServiceReply.getShipmentDate() != null)&#xD;
				swopRequest.setSNRSHIPDATE(DateHelper.toIsoDateString(_manufacturingInstalledBaseServiceReply.getShipmentDate()));&#xD;
			&#xD;
			if(_manufacturingInstalledBaseServiceReply.getReturnDate() != null)&#xD;
				swopRequest.setSNRRETURNDATE(DateHelper.toIsoDateString(_manufacturingInstalledBaseServiceReply.getReturnDate()));&#xD;
			/*&#xD;
			if(warrantyRequest.getProductID() == null || warrantyRequest.getProductID().trim().length()==0) {&#xD;
				swopRequest.setPRODUCTNUM(_manufacturingInstalledBaseServiceReply.getOutputHpProductId());&#xD;
			}*/&#xD;
		}&#xD;
		&#xD;
		swopRequest.setDATECODE(warrantyRequest.getDateCode());&#xD;
		if(_performProductBasedCalculation != null &amp;&amp; &quot;X&quot;.equalsIgnoreCase(_performProductBasedCalculation)) {&#xD;
			swopRequest.setIVLOCALSYSTEM(_performProductBasedCalculation);&#xD;
		}&#xD;
    /*&#xD;
     * Request parameters for 3G functionality (OWNERSHIPTYPE and PARTLEVELWARRANTY) .&#xD;
     */&#xD;
		String ownershiptype=warrantyRequest.getCustomerOwnershipType();&#xD;
		&#xD;
		if(ownershiptype != null)  {&#xD;
			if (&quot;consumer&quot;.equalsIgnoreCase(ownershiptype.trim())) {&#xD;
				ownershiptype=&quot;01&quot;;&#xD;
			}else if (&quot;commercial&quot;.equalsIgnoreCase(ownershiptype.trim())) {&#xD;
				ownershiptype=&quot;02&quot;;&#xD;
			}else if (&quot;01&quot;.equalsIgnoreCase(ownershiptype.trim())) {&#xD;
				ownershiptype=&quot;01&quot;;&#xD;
			}else if (&quot;02&quot;.equalsIgnoreCase(ownershiptype.trim())) {&#xD;
				ownershiptype=&quot;02&quot;;&#xD;
			}&#xD;
			swopRequest.setOWNERSHIPTYPE(ownershiptype);	&#xD;
		}&#xD;
		if(warrantyRequest.getIncludePartLevelWarranty()) {		&#xD;
			swopRequest.setPARTLEVELWARRANTY(&quot;X&quot;);&#xD;
		}&#xD;
&#xD;
		return swopRequest;&#xD;
&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K9MfMN7IEeWfkMH0esag_A" name="map" method="_LO_Z1d7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLBf0N7IEeWfkMH0esag_A" type="_LKoeQd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LK_qoN7IEeWfkMH0esag_A" name="MetroRequestMapper" visibility="protected" method="_LO_Z0N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLA4wN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLA4wd7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LK_qod7IEeWfkMH0esag_A" name="inputRequest" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLARsN7IEeWfkMH0esag_A" name="performProductBasedCalculation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LLARsd7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLA4wt7IEeWfkMH0esag_A" type="_K9I00N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K9R-wN7IEeWfkMH0esag_A" name="MetroSparePartMapper" visibility="package">
                    <ownedComment xmi:id="_LQf1sN7IEeWfkMH0esag_A">
                      <body>@author anvoi&#xD;
 *</body>
                    </ownedComment>
                    <generalization xmi:id="_LH0a0N7IEeWfkMH0esag_A" general="_K--n4N7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPAA4N7IEeWfkMH0esag_A" name="MetroSparePartMapper" specification="_LHzMsd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPAA4d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPAA4t7IEeWfkMH0esag_A" type="_K9R-wN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPAA497IEeWfkMH0esag_A" name="map" specification="_K9VpIN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPAA5N7IEeWfkMH0esag_A" type="_LHylod7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>if(_transaction == null) {&#xD;
 		return null;&#xD;
 	}&#xD;
 	&#xD;
 	ZWTYSPAREPART sparePart = ((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getSPAREPARTINFO();&#xD;
 	if(sparePart == null) {&#xD;
 		return null;&#xD;
 	}&#xD;
 	ESLog.debug(&quot;Mapping spare part: &quot; + sparePart.getPARTNUMBER());		&#xD;
 	Part part = new Part();&#xD;
 	part.setPartNumber(MappingUtils.nullString(sparePart.getPARTNUMBER()));&#xD;
 	part.setPartDescription(MappingUtils.nullString(sparePart.getPARTDESC()));&#xD;
 	&#xD;
 	// check if the spare part is empty, in this case we return a null&#xD;
 	if((part.getPartDescription() == null) &amp;&amp; (part.getPartNumber() == null)) {&#xD;
 		return null;&#xD;
 	} else {&#xD;
         return part;&#xD;
 	}&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K9VpIN7IEeWfkMH0esag_A" name="map" visibility="package" method="_LPAA497IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLBf0d7IEeWfkMH0esag_A" type="_LHylod7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LHzMsd7IEeWfkMH0esag_A" name="MetroSparePartMapper" visibility="package" method="_LPAA4N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LHzzwd7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LHzzwt7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LHzzwN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LHzzw97IEeWfkMH0esag_A" type="_K9R-wN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K9ZTgN7IEeWfkMH0esag_A" name="MetroUnitListMapper">
                    <generalization xmi:id="_LH4sQN7IEeWfkMH0esag_A" general="_K_F8oN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPAn8N7IEeWfkMH0esag_A" name="MetroUnitListMapper" specification="_LH3eIN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPAn8d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPAn8t7IEeWfkMH0esag_A" type="_K9ZTgN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPAn897IEeWfkMH0esag_A" name="map" specification="_K9ahoN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPAn9N7IEeWfkMH0esag_A" type="_LF8LgN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Enter unit list mapping&quot;);&#xD;
		ZPRODLIST swopUnitList = (ZPRODLIST) _transaction.getSourceSystemUnitList();&#xD;
		UnitListComplexType unitList = new UnitListComplexType();&#xD;
		if(swopUnitList != null) {&#xD;
			List&lt;ZWTYPRODLIST> enUnit = swopUnitList.getItem();&#xD;
			&#xD;
			// map each product and add it to the unit list&#xD;
			ESLog.debug(&quot;Call product mapping for unit list ...&quot;);&#xD;
			&#xD;
			TreeMap serialNumberMap = new TreeMap();&#xD;
			for (ZWTYPRODLIST swopProduct : enUnit) {&#xD;
				unitList.addProduct(mapProduct(swopProduct));&#xD;
				serialNumberMap.put(swopProduct.getSERIALNUM(), swopProduct.getSERIALNUM());&#xD;
			}&#xD;
			// set the serial number, which should be the same for all returned products&#xD;
			if(serialNumberMap.size() != 1) {&#xD;
				ESLog.error(&quot;More than 1 serial number returned from SWOP in the Unit List! It can be only 1 (Highlander)&quot;);&#xD;
		        throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &quot;More than 1 serial number returned from SWOP in the Unit List!&quot;);&#xD;
			}&#xD;
			unitList.setSerialNumber((String)serialNumberMap.firstKey());&#xD;
		    return unitList;&#xD;
		}else{&#xD;
			ESLog.error(&quot;UnitList is Null, so we cannot map a Unit List&quot;);&#xD;
	        throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &quot;UnitList is Null, so we cannot map a Unit List!&quot;);&#xD;
		}&#xD;
&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPAn9d7IEeWfkMH0esag_A" name="mapProduct" specification="_LLCt8N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPAn9t7IEeWfkMH0esag_A" name="swopProduct" type="_LH2QAd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPAn997IEeWfkMH0esag_A" type="_LHrQ4N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Map product '&quot; + swopProduct.getPRODUCTID() + &quot;' for unit list&quot;);&#xD;
		ProductComplexType product = new ProductComplexType();&#xD;
		product.setProductID(swopProduct.getPRODUCTID());&#xD;
		product.setProductDescription(swopProduct.getPRODUCTDESC());&#xD;
		return product;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K9ahoN7IEeWfkMH0esag_A" name="map" method="_LPAn897IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A _LGC5Md7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLCG4N7IEeWfkMH0esag_A" type="_LF8LgN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LH3eIN7IEeWfkMH0esag_A" name="MetroUnitListMapper" method="_LPAn8N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LH4FMN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LH4FMd7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LH3eId7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LH4FMt7IEeWfkMH0esag_A" type="_K9ZTgN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLCt8N7IEeWfkMH0esag_A" name="mapProduct" visibility="private" method="_LPAn9d7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLCt8d7IEeWfkMH0esag_A" name="swopProduct" type="_LH2QAd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLDVAN7IEeWfkMH0esag_A" type="_LHrQ4N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K9gBMN7IEeWfkMH0esag_A" name="MetroWarningMapper" visibility="package">
                    <ownedComment xmi:id="_LQgcwN7IEeWfkMH0esag_A">
                      <body>@author anvoi&#xD;
 *</body>
                    </ownedComment>
                    <generalization xmi:id="_LH9kwN7IEeWfkMH0esag_A" general="_K_UmIN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPBPAN7IEeWfkMH0esag_A" name="MetroWarningMapper" specification="_LLD8EN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPBPAd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPBPAt7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPBPA97IEeWfkMH0esag_A" type="_K9gBMN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(request, transaction);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPB2EN7IEeWfkMH0esag_A" name="mapWarning" specification="_LLFKMN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPB2Ed7IEeWfkMH0esag_A" name="swopWarning" type="_LKoeQd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPB2Et7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return mapWarning((ZWTYERROR)swopWarning);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPB2E97IEeWfkMH0esag_A" name="mapWarning" specification="_LLFxQN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPB2FN7IEeWfkMH0esag_A" name="swopWarning" type="_LHC-wN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPB2Fd7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;::mapWarning: swopWarning code=&quot; + swopWarning.getID() +&quot; ::Message=&quot;+swopWarning.getMESSAGE());&#xD;
&#xD;
		// 1000&#xD;
		if(swopWarning.getID().equals(&quot;1000&quot;)) {&#xD;
         return ErrorFactory.getEIAError(ErrorFactory.id429_WARRANTY_REDETERMINED_BASED_INPUT_COUNTRY, &quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1001&#xD;
		if(swopWarning.getID().equals(&quot;1001&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id418_INACCURATE_START_DATE, &quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1005&#xD;
		if(swopWarning.getID().equals(&quot;1005&quot;)) {&#xD;
			ZWTYWTYENT sourceReply = (ZWTYWTYENT)_transaction.getSourceSystemStandardReply();&#xD;
			String productAlias = null;&#xD;
			if(sourceReply.getPRODUCTINFO() != null) {&#xD;
				productAlias = sourceReply.getPRODUCTINFO().getPRODUCTNUM();&#xD;
			} else {&#xD;
				productAlias = &quot;&quot;;&#xD;
			}&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id405_USING_PRODUCT_SYNONYM,  &#xD;
									_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getProductID(), &#xD;
									productAlias, &quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1006&#xD;
		if(swopWarning.getID().equals(&quot;1006&quot;)) {&#xD;
			ZWTYWTYENT sourceReply = (ZWTYWTYENT)_transaction.getSourceSystemStandardReply();&#xD;
			String popDate=&quot;-&quot;;&#xD;
			if(_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getProofPurchaseDate()==null) {&#xD;
				if(sourceReply.getOOSINFO() != null &amp;&amp; sourceReply.getOOSINFO().getPROOFOFPURCHASEDATE() != null&amp;&amp; sourceReply.getOOSINFO().getPROOFOFPURCHASEDATE().trim().length()>0)&#xD;
					popDate=sourceReply.getOOSINFO().getPROOFOFPURCHASEDATE();&#xD;
			}else {&#xD;
				popDate= MappingUtils.mapCastorDateToString(_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getProofPurchaseDate());&#xD;
			}&#xD;
			String shipDate=&quot;-&quot;;&#xD;
			if(sourceReply.getOOSINFO().getSHIPMENTDATE() != null &amp;&amp; sourceReply.getOOSINFO().getSHIPMENTDATE().trim().length()>0) {&#xD;
				shipDate=sourceReply.getOOSINFO().getSHIPMENTDATE();&#xD;
			}&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id413_REG_PURCHASE_DATE_TOO_LATE, popDate,&#xD;
					shipDate, &quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE());	&#xD;
		}&#xD;
		// 1007&#xD;
		if(swopWarning.getID().equals(&quot;1007&quot;)) {&#xD;
		    ZWTYWTYENT sourceReply = (ZWTYWTYENT)_transaction.getSourceSystemStandardReply();&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id412_REG_PURCHASE_DATE_TOO_EARLY, &#xD;
					MappingUtils.mapCastorDateToString(_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getProofPurchaseDate()),&#xD;
					sourceReply.getOOSINFO().getSHIPMENTDATE(), &quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE());	&#xD;
		}&#xD;
		// 1008&#xD;
		if(swopWarning.getID().equals(&quot;1008&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id416_SERIAL_NR_DECODE_FAILED,&#xD;
					&quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1009&#xD;
		if(swopWarning.getID().equals(&quot;1009&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id402_UNIT_NOT_FOUND,&#xD;
					&quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1010&#xD;
		if(swopWarning.getID().equals(&quot;1010&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id411_SERVICE_ID_DECODE_FAILED, &#xD;
					_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getServiceID(),&#xD;
					&quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1011&#xD;
		if(swopWarning.getID().equals(&quot;1011&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id432_WARRANTY_CALCULATED_BASED_SPAREPARTNUMBER,&#xD;
					&quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1013&#xD;
		if(swopWarning.getID().equals(&quot;1013&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id408_UNIT_LIST_TRUNCATED,&#xD;
					&quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1014&#xD;
		if(swopWarning.getID().equals(&quot;1014&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id433_INPUT_POP_DATE_NOT_USED, &quot;SWOP &quot; + swopWarning.getID() + &quot;: &quot; + swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		// 1XXX&#xD;
		if(swopWarning.getID().startsWith(&quot;1&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id426_SOURCESYSTEM_RETURNED_WARNING, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		&#xD;
		// 3G Warnings (450 thru 457)&#xD;
		/*&#xD;
		 * 3001 'Product Ownership type on the unit is commercial. Warranty dates do not reflect 3G warranty',&#xD;
		 		+> ignored.&#xD;
			3002 'Product Ownership type on the unit is consumer. Entitlement request parameter is ignored',&#xD;
		 		+> ignored.			&#xD;
			3003 'This product is subject to warranty 3G regulation, please request a POP date',&#xD;
			>>450&#xD;
			3004 'Warranty extension includes 3G regulation for China; Warranty extension does not apply to customer',&#xD;
			>>IGNORED&#xD;
			3005 'var1 have a 3G extended warranty of var2 days',&#xD;
			>>452&#xD;
			3006 'Whole Unit is within 3G regulation',&#xD;
			>>451&#xD;
			3007 '3G Unit was repaired var1 times. Part warranty could be different than product warranty coverage',&#xD;
			>>452&#xD;
			3008 '3G Unit was repaired var1 times'.&#xD;
			>>453&#xD;
&#xD;
		 */&#xD;
		/*&#xD;
		if(swopWarning.getID().equals(&quot;3001&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id450_3G_OWNERTYPE_COMM_NOT_3G_SWOP, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		if(swopWarning.getID().equals(&quot;3002&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id451_3G_OWNERTYPE_CONSUMER_ENTITL_PARM_IGNORED_SWOP, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}*/&#xD;
		if(swopWarning.getID().equals(&quot;3003&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id450_3G_UNIT_REQUEST_POP_AND_OWNER_TYPE_INFO_SWOP, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		if(swopWarning.getID().equals(&quot;3005&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id452_3G_UNIT_PART_WARRANTY_SWOP, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}&#xD;
&#xD;
		if(swopWarning.getID().equals(&quot;3006&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id451_3G_UNIT_WITHIN_WARRENTY_REGULATION_SWOP, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}&#xD;
/*		if(swopWarning.getID().equals(&quot;3004&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id453_3G_WARR_EXT_INCLUDE_3G_FOR_CHINA_NOT_CUST_SWOP, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}&#xD;
*/		&#xD;
		&#xD;
		if(swopWarning.getID().equals(&quot;3007&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id452_3G_UNIT_PART_WARRANTY_SWOP, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}&#xD;
		if(swopWarning.getID().equals(&quot;3008&quot;)) {&#xD;
			return ErrorFactory.getEIAError(ErrorFactory.id453_3G_UNIT_HAS_PART_HISTORY_SWOP, swopWarning.getID(), swopWarning.getMESSAGE()); &#xD;
		}&#xD;
&#xD;
	&#xD;
		// not a warning, will not be mapped&#xD;
		return null; &#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPB2Ft7IEeWfkMH0esag_A" name="getWarning420" specification="_K9h2YN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPB2F97IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>EIAError error = null;&#xD;
		//add warning 420:  product is consumer product. &#xD;
		//This is trigger by: WarrantyInfo.SupportProductLine equal �R6� or �MK� or is empty&#xD;
		if(_transaction.getSourceSystemStandardReply() != null) {&#xD;
			ZWTYWTYINFO wty = ((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO();&#xD;
			String productline = MappingUtils.nullString(wty.getSUPPORTPRODUCTLINE());&#xD;
			if(&quot;&quot;.equals(productline) || &quot;R6&quot;.equalsIgnoreCase(productline) || &quot;MK&quot;.equalsIgnoreCase(productline)) {&#xD;
				error = ErrorFactory.getEIAError(ErrorFactory.id420_CONSUMER_PRODUCT);&#xD;
			}&#xD;
		}&#xD;
		return error;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPCdIN7IEeWfkMH0esag_A" name="getWarning441" specification="_K9jEgN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPCdId7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return ErrorFactory.getEIAError(ErrorFactory.id441_UNIT_SNR_PARENT_BUNDLE);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPCdIt7IEeWfkMH0esag_A" name="getWarning440" specification="_K9jrkN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPCdI97IEeWfkMH0esag_A" name="parentBundleHpSerialNumber">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LPCdJN7IEeWfkMH0esag_A" name="parentBundleHpProductId">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LPCdJd7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return ErrorFactory.getEIAError(ErrorFactory.id440_UNIT_SNR_PARENT_BUNDLE_IDENTIFIED,parentBundleHpSerialNumber,parentBundleHpProductId);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPDEMN7IEeWfkMH0esag_A" name="getWarning434" specification="_LLINgN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPDEMd7IEeWfkMH0esag_A" name="se" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPDEMt7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return ErrorFactory.convertSifException(se);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K9h2YN7IEeWfkMH0esag_A" name="getWarning420" visibility="package" method="_LPB2Ft7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLG_YN7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_K9jEgN7IEeWfkMH0esag_A" name="getWarning441" visibility="package" method="_LPCdIN7IEeWfkMH0esag_A">
                      <ownedComment xmi:id="_LQgcw97IEeWfkMH0esag_A">
                        <body>Mapping of SNR</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_LLG_Yd7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_K9jrkN7IEeWfkMH0esag_A" name="getWarning440" visibility="package" method="_LPCdIt7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K9kSoN7IEeWfkMH0esag_A" name="parentBundleHpSerialNumber">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_K9kSod7IEeWfkMH0esag_A" name="parentBundleHpProductId">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LLHmcN7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLD8EN7IEeWfkMH0esag_A" name="MetroWarningMapper" visibility="protected" method="_LPBPAN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLD8E97IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLEjIN7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedComment xmi:id="_LQgcwd7IEeWfkMH0esag_A">
                        <body>@param request&#xD;
	 * @param transaction</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_LLD8Ed7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLD8Et7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLEjId7IEeWfkMH0esag_A" type="_K9gBMN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLFKMN7IEeWfkMH0esag_A" name="mapWarning" visibility="protected" method="_LPB2EN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLFKMd7IEeWfkMH0esag_A" name="swopWarning" type="_LKoeQd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLFKMt7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLFxQN7IEeWfkMH0esag_A" name="mapWarning" visibility="protected" method="_LPB2E97IEeWfkMH0esag_A">
                      <ownedComment xmi:id="_LQgcwt7IEeWfkMH0esag_A">
                        <body>@param zwtyerrortab&#xD;
	 * @return</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_LLFxQd7IEeWfkMH0esag_A" name="swopWarning" type="_LHC-wN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLGYUN7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLINgN7IEeWfkMH0esag_A" name="getWarning434" visibility="package" method="_LPDEMN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLINgd7IEeWfkMH0esag_A" name="se" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLINgt7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K9pLIN7IEeWfkMH0esag_A" name="MetroWarrantyEntitlementMapper" visibility="package">
                    <generalization xmi:id="_LIDEUN7IEeWfkMH0esag_A" general="_K_pWQN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPDrQN7IEeWfkMH0esag_A" name="MetroWarrantyEntitlementMapper" specification="_LLKCsN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPDrQd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPDrQt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPDrQ97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPDrRN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPDrRd7IEeWfkMH0esag_A" type="_K9pLIN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction, request,manufacturingInstalledBaseServiceReply,  manufacturingInstalledBaseServiceSE);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPESUN7IEeWfkMH0esag_A" name="map" specification="_K9rAUN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPESUd7IEeWfkMH0esag_A" type="_LF-Asd7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Enter warranty mapping&quot;);		&#xD;
&#xD;
 	WarrantyEntitlementComplexType result = new WarrantyEntitlementComplexType();&#xD;
&#xD;
 	// Location&#xD;
     if(_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getIncludeAddresses() == true) {&#xD;
	    	ESLog.debug(&quot;Call location mapping ...&quot;);		&#xD;
	        LocationMasterMapper locationMapper =&#xD;
	            new MetroLocationMasterMapper(_transaction,_XMLIdGenerator);&#xD;
	        result.setLocation(locationMapper.map());&#xD;
     }&#xD;
&#xD;
     // check if we have a location and set it accordingly. &#xD;
     // This is needed for the OOS reference WarrantyShipToCustomerRef&#xD;
     LocationComplexType locationObject = null;&#xD;
     if(result.getLocation() != null &amp;&amp; result.getLocationCount() > 0) {&#xD;
     	locationObject = result.getLocation(0);&#xD;
     } else {&#xD;
     	locationObject = null;&#xD;
     }&#xD;
     &#xD;
     // OOS&#xD;
 	ESLog.debug(&quot;Call oos mapping ...&quot;);		&#xD;
     OosMapper oosMapper = new MetroOosMapper(_transaction, locationObject, _XMLIdGenerator, _request);&#xD;
     result.setOOS(oosMapper.map());&#xD;
&#xD;
     // Workings &#xD;
     if(_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getIncludeWorkings() == true) {&#xD;
	        ESLog.debug(&quot;Call workings mapping ...&quot;);		        &#xD;
	        WorkingMapper workingMapper = WorkingMapper.getInstance(_transaction,_request,_manufacturingInstalledBaseServiceReply,  _manufacturingInstalledBaseServiceSE);&#xD;
	        result.setWorking(workingMapper.map());&#xD;
     }&#xD;
&#xD;
     // Warranty&#xD;
 	ESLog.debug(&quot;Call warranty mapping ...&quot;);		&#xD;
     WarrantyMapper warrantyMapper = new MetroWarrantyMapper(_transaction, _entitlementCheckDate, &#xD;
     												result.getOOS(), _XMLIdGenerator);&#xD;
     result.setWarranty(warrantyMapper.map());&#xD;
      &#xD;
     // set the overall status&#xD;
 	ESLog.debug(&quot;Setting the overall status of the warranty reply ...&quot;);		&#xD;
     HashMap&lt;String, Date> dates = getOverallDates(result);&#xD;
     if(MappingUtils.getStatus(dates.get(EsConstants.START_DATE), &#xD;
								dates.get(EsConstants.END_DATE), &#xD;
								_entitlementCheckDate) == StatusType.A) {&#xD;
			result.setActiveWarrantyEntitlement(true);&#xD;
		} else {&#xD;
			result.setActiveWarrantyEntitlement(false);&#xD;
		}													&#xD;
 	ESLog.debug(&quot;Overall Status: &quot; + result.getActiveWarrantyEntitlement());		&#xD;
     result.setOverallWarrantyStartDate(dates.get(EsConstants.START_DATE));&#xD;
     result.setOverallWarrantyEndDate(checkForEligibleProductAndGetWarrantyEndDate(&#xD;
     									dates.get(EsConstants.START_DATE), &#xD;
     									dates.get(EsConstants.END_DATE)));&#xD;
     return result;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPESUt7IEeWfkMH0esag_A" name="getOverallDates" specification="_LLMe8N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPESU97IEeWfkMH0esag_A" name="result" type="_LF-Asd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPESVN7IEeWfkMH0esag_A" type="_LIAoEN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>TreeMap&lt;java.util.Date, java.util.Date> endDateMap = new TreeMap&lt;java.util.Date, java.util.Date>();&#xD;
		TreeMap&lt;java.util.Date, java.util.Date> startDateMap = new TreeMap&lt;java.util.Date, java.util.Date>();&#xD;
 	ESLog.debug(&quot;result.getWarrantyCount() = &quot; + result.getWarrantyCount());&#xD;
		for(int i = 0; i &lt; result.getWarrantyCount(); i++ ) {&#xD;
	    	ESLog.debug(&quot;result.getWarranty(&quot; + i + &quot;).getOfferCount() = &quot; + result.getWarranty(i).getOfferCount());&#xD;
			if(result.getWarranty(i).getOfferCount() > 0) {&#xD;
				for(int k = 0; k &lt; result.getWarranty(i).getOfferCount(); k++) {&#xD;
			    	ESLog.debug(&quot;result.getWarranty(&quot; + i + &quot;).getOffer(&quot; + k + &quot;) = &quot; + result.getWarranty(i).getOffer(k));&#xD;
					for(int m = 0; m &lt; result.getWarranty(i).getOffer(k).getAppliesToCount(); m++) {&#xD;
				    	ESLog.debug(&quot;result.getWarranty(&quot; + i + &quot;).getOffer(&quot; + k + &quot;).getAppliesToCount() &quot; + result.getWarranty(i).getOffer(k).getAppliesToCount());&#xD;
				    	java.util.Date startDateTmp = MappingUtils.mapCastorToJavaDate(result.getWarranty(i).getOffer(k).getAppliesTo(m).getStartDate());&#xD;
						startDateMap.put(startDateTmp,startDateTmp);&#xD;
						&#xD;
						java.util.Date endDateTmp = MappingUtils.mapCastorToJavaDate(result.getWarranty(i).getOffer(k).getAppliesTo(m).getEndDate());&#xD;
						&#xD;
						endDateMap.put(endDateTmp,endDateTmp);&#xD;
					}&#xD;
				}&#xD;
			} else {&#xD;
				ZWTYWTYINFO wty = ((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO();&#xD;
				java.util.Date startDateTmp = MappingUtils.mapStringToJavaDate(wty.getWARRANTYSTARTDATE());&#xD;
				java.util.Date endDateTmp = MappingUtils.mapCastorToJavaDate(checkForEligibleProductAndGetWarrantyEndDate(&#xD;
							MappingUtils.mapToCastorDate(wty.getWARRANTYSTARTDATE()), &#xD;
							MappingUtils.mapToCastorDate(wty.getWARRANTYENDDATE())));&#xD;
				&#xD;
				&#xD;
				startDateMap.put(startDateTmp,startDateTmp);&#xD;
				endDateMap.put(endDateTmp,endDateTmp);&#xD;
			}&#xD;
		}&#xD;
		HashMap&lt;String, Date> dates = new HashMap&lt;String, Date>();&#xD;
		if(!endDateMap.isEmpty()) {&#xD;
	    	ESLog.debug(&quot;Overall EndDate: &quot; + endDateMap.lastKey());&#xD;
			dates.put(EsConstants.END_DATE, MappingUtils.mapToCastorDate(endDateMap.lastKey()));&#xD;
		} else {&#xD;
	    	ESLog.debug(&quot;No end date available&quot;);&#xD;
		}&#xD;
		if(!startDateMap.isEmpty()) {&#xD;
			ESLog.debug(&quot;Overall StartDate: &quot; + startDateMap.firstKey());&#xD;
			&#xD;
			dates.put(EsConstants.START_DATE, MappingUtils.mapToCastorDate(startDateMap.firstKey()));&#xD;
		} else {&#xD;
	    	ESLog.debug(&quot;No start date available&quot;);&#xD;
		}&#xD;
		return dates;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K9rAUN7IEeWfkMH0esag_A" name="map" method="_LPESUN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLL34N7IEeWfkMH0esag_A" type="_LF-Asd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLKCsN7IEeWfkMH0esag_A" name="MetroWarrantyEntitlementMapper" visibility="protected" method="_LPDrQN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLKpw97IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLLQ0N7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLKCsd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLKpwN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLKpwd7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLKpwt7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLLQ0d7IEeWfkMH0esag_A" type="_K9pLIN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLMe8N7IEeWfkMH0esag_A" name="getOverallDates" visibility="protected" method="_LPESUt7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLMe8d7IEeWfkMH0esag_A" name="result" type="_LF-Asd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLNtEd7IEeWfkMH0esag_A" type="_LIAoEN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K9v40N7IEeWfkMH0esag_A" name="MetroWarrantyMapper" visibility="package">
                    <generalization xmi:id="_LIH80N7IEeWfkMH0esag_A" general="_LAOlEN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPFgcN7IEeWfkMH0esag_A" name="MetroWarrantyMapper" specification="_LLO7MN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPFgcd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPFgct7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPFgc97IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPFgdN7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPFgdd7IEeWfkMH0esag_A" type="_K9v40N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction, entitlementCheckDate, oos, XMLIdGenerator);&#xD;
&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPGHgN7IEeWfkMH0esag_A" name="map" specification="_K9yVEN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPGHgd7IEeWfkMH0esag_A" type="_LF9ZoN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LPGHgt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(_transaction == null) {&#xD;
 		return new WarrantyComplexType[0];&#xD;
 	}&#xD;
 	&#xD;
 	ZWTYWTYINFO swopWarranty = ((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO();&#xD;
 	&#xD;
 	if(swopWarranty == null) {&#xD;
 		return new WarrantyComplexType[0];&#xD;
 	}&#xD;
&#xD;
 	// check if we have an empty reply &#xD;
 	if(!_transaction.isSuccessfull()) {&#xD;
 		return new WarrantyComplexType[0];&#xD;
 	}&#xD;
 	&#xD;
 	WarrantyComplexType[] warrantyList = null;&#xD;
 	// check if we have a WarrantyBundleID. If this is the case then&#xD;
 	// we need to create 2 WarrantyComplexTypes. 1 for FR and 1 for BW&#xD;
 	if((swopWarranty.getWARRANTYBUNDLEID() != null) &amp;&amp; &#xD;
 			(swopWarranty.getWARRANTYBUNDLEID().trim().length() > 0)) {&#xD;
     	ESLog.debug(&quot;We need to create BW and FR warranty objects&quot;);&#xD;
     	warrantyList = new WarrantyComplexType[2];&#xD;
     	warrantyList[1] = mapWarranty(swopWarranty, WarrantyTypeType.BW);&#xD;
 	} else {&#xD;
     	ESLog.debug(&quot;We need to create only an FR warranty object&quot;);&#xD;
     	warrantyList = new WarrantyComplexType[1];&#xD;
 	}&#xD;
 	warrantyList[0] = mapWarranty(swopWarranty, WarrantyTypeType.FR);&#xD;
     return warrantyList;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPGHg97IEeWfkMH0esag_A" name="mapWarranty" specification="_LLQwYN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPGHhN7IEeWfkMH0esag_A" name="swopWarranty" type="_LH6hcN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPGHhd7IEeWfkMH0esag_A" name="warrantyType" type="_LHcAUN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPGHht7IEeWfkMH0esag_A" type="_LF9ZoN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Mapping warranty object&quot;);&#xD;
 	WarrantyComplexType warranty = new WarrantyComplexType();&#xD;
 	warranty.setWarrantyType(warrantyType);&#xD;
 	warranty.setPortfolioFlag(PortfolioFlagType.G);&#xD;
 	warranty.setWarrantyComment(MappingUtils.nullString(swopWarranty.getINELIGIBLEREASONDESC()));&#xD;
 	warranty.setWarrantyDeterminationCode(WarrantyDeterminationCode.getInstance().getWarrantyDeterminationCode(swopWarranty.getSOURCEDATEFORWARRANTYSTART()));&#xD;
 	warranty.setWarrantyDeterminationDescription(WarrantyDeterminationCode.getInstance().getWarrantyDeterminationDescription(swopWarranty.getSOURCEDATEFORWARRANTYSTART()));&#xD;
 	warranty.setWarrantyStartDate(MappingUtils.mapToCastorDate(swopWarranty.getWARRANTYSTARTDATE()));&#xD;
 	warranty.setGracePeriod(MappingUtils.stringToInt(swopWarranty.getGRACEPERIOD()));&#xD;
 	// currently this is not implemented in the SWOP interface it will be&#xD;
 	// left empty for now. It is documented in the SWOP documentation, that this is &#xD;
 	// a future field&#xD;
 	// warranty.setUpgradeable(false);&#xD;
 	if(warrantyType == WarrantyTypeType.FR) {&#xD;
 		warranty.setTermCode(MappingUtils.nullString(swopWarranty.getWARRANTYID()));&#xD;
     	warranty.setGlobal(MappingUtils.mapToBoolean(swopWarranty.getGLOBALFLAG()));&#xD;
     	warranty.setInstallationIncluded(MappingUtils.mapToBoolean(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getPRODUCTINFO().getINSTALLATIONFLAG()));&#xD;
     	warranty.setSitePreparation(MappingUtils.mapToBoolean(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getPRODUCTINFO().getSITEPREPARATION()));&#xD;
     	warranty.setWarrantyExtension(&quot;&quot; + MappingUtils.stringToInt(swopWarranty.getWARRANTYEXTENSION()));&#xD;
 	} else {&#xD;
 		warranty.setTermCode(MappingUtils.nullString(swopWarranty.getWARRANTYBUNDLEID()));&#xD;
 	}&#xD;
 	&#xD;
 	// Offer&#xD;
 	if(MappingUtils.mapToBoolean(swopWarranty.getWARRANTYINELIGIBLEINDICATOR()) == true) {&#xD;
 		warranty.setOffer(new OfferComplexType[0]);&#xD;
 	} else {&#xD;
 		OfferMapper om = OfferMapper.getInstance(_transaction, _entitlementCheckDate, _oos, _XMLIdGenerator, warrantyType);&#xD;
 		warranty.setOffer(om.map());&#xD;
 	}&#xD;
 	return warranty;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K9yVEN7IEeWfkMH0esag_A" name="map" visibility="package" method="_LPGHgN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K9yVEd7IEeWfkMH0esag_A" type="_LF9ZoN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K9yVEt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLO7MN7IEeWfkMH0esag_A" name="MetroWarrantyMapper" visibility="package" method="_LPFgcN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLPiQ97IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLQJUN7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLO7Md7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLPiQN7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLPiQd7IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLPiQt7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLQJUd7IEeWfkMH0esag_A" type="_K9v40N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLQwYN7IEeWfkMH0esag_A" name="mapWarranty" visibility="protected" method="_LPGHg97IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLRXcN7IEeWfkMH0esag_A" name="swopWarranty" type="_LH6hcN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLRXcd7IEeWfkMH0esag_A" name="warrantyType" type="_LHcAUN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLRXct7IEeWfkMH0esag_A" type="_LF9ZoN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K92mgN7IEeWfkMH0esag_A" name="MetroWorkingMapper">
                    <ownedComment xmi:id="_LQhD0N7IEeWfkMH0esag_A">
                      <body>@author anvoi&#xD;
 *</body>
                    </ownedComment>
                    <generalization xmi:id="_LINcYN7IEeWfkMH0esag_A" general="_LAbZYN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPHVoN7IEeWfkMH0esag_A" name="MetroWorkingMapper" specification="_LLR-gN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPHVod7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPHVot7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPHVo97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPHVpN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPHVpd7IEeWfkMH0esag_A" type="_K92mgN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>super(transaction, request,manufacturingInstalledBaseServiceReply, manufacturingInstalledBaseServiceSE);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPIjwN7IEeWfkMH0esag_A" name="map" specification="_K930oN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPIjwd7IEeWfkMH0esag_A" type="_LIMOQN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LPIjwt7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(_transaction == null) {&#xD;
 		return new WorkingComplexType[0];&#xD;
 	}&#xD;
&#xD;
 	ESLog.debug(&quot;Mapping workings ...&quot;);&#xD;
 	ArrayList&lt;WorkingComplexType> workingList = new ArrayList&lt;WorkingComplexType>();&#xD;
  	&#xD;
  	WorkingComplexType working = new WorkingComplexType();&#xD;
  	&#xD;
  	// SWOP warranty ID&#xD;
  	working.setWorkingName(&quot;SWOP Warranty ID&quot;);&#xD;
  	working.setWorkingValue(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO().getWARRANTYID());&#xD;
  	workingList.add(working);&#xD;
  	&#xD;
  	// SWOP Warranty Start Date&#xD;
  	if((((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO().getWARRANTYSTARTDATE() != null) &amp;&amp;&#xD;
  		(MappingUtils.mapToCastorDate(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO().getWARRANTYSTARTDATE()) != null)) {&#xD;
  		working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SWOP Warranty Start Date&quot;);&#xD;
	     	working.setWorkingValue(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO().getWARRANTYSTARTDATE()));&#xD;
	     	workingList.add(working);&#xD;
  	}&#xD;
  	&#xD;
  	// SWOP Grace Period&#xD;
  	if(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO().getGRACEPERIOD() != null) {&#xD;
  		working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SWOP Grace Period&quot;);&#xD;
	     	working.setWorkingValue(&quot;&quot; + MappingUtils.stringToInt(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO().getGRACEPERIOD())));&#xD;
	     	workingList.add(working);&#xD;
  	}&#xD;
  	&#xD;
  	// SWOP Proof Of Purchase Date&#xD;
  	if((((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getPROOFOFPURCHASEDATE() != null) &amp;&amp; &#xD;
  		(MappingUtils.mapToCastorDate(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getPROOFOFPURCHASEDATE()) != null)) {&#xD;
  		working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SWOP Proof Of Purchase Date&quot;);&#xD;
	     	working.setWorkingValue(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getPROOFOFPURCHASEDATE()));&#xD;
	     	workingList.add(working);&#xD;
  	}&#xD;
  	&#xD;
  	// SWOP Shipment Date&#xD;
  	if((((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getSHIPMENTDATE() != null) &amp;&amp;&#xD;
  		(MappingUtils.mapToCastorDate(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getSHIPMENTDATE()) != null)) {&#xD;
  		working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SWOP Shipment Date&quot;);&#xD;
	     	working.setWorkingValue(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getSHIPMENTDATE()));&#xD;
	     	workingList.add(working);&#xD;
  	}&#xD;
  	&#xD;
  	// SWOP Installation Date&#xD;
  	if((((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getINSTALLATIONDATE() != null) &amp;&amp;&#xD;
  		(MappingUtils.mapToCastorDate(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getINSTALLATIONDATE()) != null)) {&#xD;
  		working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SWOP Installation Date&quot;);&#xD;
	     	working.setWorkingValue(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getINSTALLATIONDATE()));&#xD;
	     	workingList.add(working);&#xD;
  	}&#xD;
&#xD;
  	// SWOP Born on date&#xD;
  	if((((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getBORNONDATE() != null) &amp;&amp;&#xD;
  		(MappingUtils.mapToCastorDate(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getBORNONDATE()) != null)) {&#xD;
  		working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SWOP Born On Date&quot;);&#xD;
	     	working.setWorkingValue(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getBORNONDATE()));&#xD;
	     	workingList.add(working);&#xD;
  	}&#xD;
&#xD;
  	// SWOP Factory Restart Date&#xD;
  	if((((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getFACTORYRESTARTDATE() != null) &amp;&amp;&#xD;
  		(MappingUtils.mapToCastorDate(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getFACTORYRESTARTDATE()) != null)) {&#xD;
  		working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SWOP Factory Restart Date&quot;);&#xD;
	     	working.setWorkingValue(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getOOSINFO().getFACTORYRESTARTDATE()));&#xD;
	     	workingList.add(working);&#xD;
  	}&#xD;
  	&#xD;
  	// SWOP Start Date Type&#xD;
  	if(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getWARRANTYINFO().getSOURCEDATEFORWARRANTYSTART() != null) {&#xD;
  		working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SWOP Start Date Type&quot;);&#xD;
	     	working.setWorkingValue(WarrantyDeterminationCode.getInstance().&#xD;
	     								getWarrantyDeterminationDescription(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).&#xD;
	     																getWARRANTYINFO().getSOURCEDATEFORWARRANTYSTART()));&#xD;
	     	workingList.add(working);&#xD;
  	}&#xD;
  	&#xD;
  	// SWOP instance&#xD;
  	working = new WorkingComplexType();&#xD;
  	working.setWorkingName(&quot;SWOP Instance&quot;);&#xD;
  	working.setWorkingValue(_transaction.getSourceSystemHost());&#xD;
  	workingList.add(working);&#xD;
&#xD;
  	// SWOP Request Status&#xD;
  	working = new WorkingComplexType();&#xD;
  	working.setWorkingName(&quot;SWOP Request Status&quot;);&#xD;
  	working.setWorkingValue(_transaction.getSwopSystemStatus());&#xD;
  	workingList.add(working);&#xD;
  	&#xD;
  	&#xD;
  	// SWOP Original Product&#xD;
  	if(_transaction.isSwopWarningMessageReturned(1005)) {&#xD;
  		if((_request.getEsRequestComplexTypeChoice().getWarrantyRequest()!= null)) {&#xD;
	         	working = new WorkingComplexType();&#xD;
	         	working.setWorkingName(&quot;SWOP Original Product&quot;);&#xD;
	         	working.setWorkingValue(MappingUtils.nullString(_request.getEsRequestComplexTypeChoice().getWarrantyRequest().getProductID()));&#xD;
	         	workingList.add(working);&#xD;
  		}&#xD;
  	}&#xD;
  		&#xD;
  	// SWOP Product Alias&#xD;
  	if(_transaction.isSwopWarningMessageReturned(1005)) {&#xD;
      	working = new WorkingComplexType();&#xD;
      	working.setWorkingName(&quot;SWOP Produt Alias&quot;);&#xD;
      	working.setWorkingValue(MappingUtils.nullString(((ZWTYWTYENT)_transaction.getSourceSystemStandardReply()).getPRODUCTINFO().getPRODUCTNUM()));&#xD;
      	workingList.add(working);&#xD;
  	}&#xD;
  	&#xD;
  	&#xD;
  	&#xD;
  	// SWOP Unit List Returned&#xD;
  	working = new WorkingComplexType();&#xD;
  	working.setWorkingName(&quot;SWOP Unit List Returned&quot;);&#xD;
  	if(_transaction.isSourceSystemUnitList()) {&#xD;
      	working.setWorkingValue(&quot;Y&quot;);&#xD;
  	} else {&#xD;
      	working.setWorkingValue(&quot;N&quot;);&#xD;
  	}&#xD;
  	workingList.add(working);&#xD;
  	&#xD;
  	// SWOP Product Base Warranty&#xD;
  	working = new WorkingComplexType();&#xD;
  	working.setWorkingName(&quot;SWOP Product Base Warranty&quot;);&#xD;
  	if(_transaction.isSwopWarningMessageReturned(1009)) {&#xD;
      	working.setWorkingValue(&quot;Y&quot;);&#xD;
  	} else {&#xD;
      	working.setWorkingValue(&quot;N&quot;);&#xD;
  	}&#xD;
  	workingList.add(working);&#xD;
 &#xD;
  	if(_manufacturingInstalledBaseServiceSE != null ||_manufacturingInstalledBaseServiceReply != null ) {&#xD;
	     	working = new WorkingComplexType();&#xD;
	     	working.setWorkingName(&quot;SNR call&quot;);&#xD;
	     	ESLog.debug(&quot;Mapping workings&quot;);&#xD;
	     	if(_manufacturingInstalledBaseServiceSE != null &amp;&amp; _manufacturingInstalledBaseServiceSE.getErrorText() != null &amp;&amp; Integer.parseInt(_manufacturingInstalledBaseServiceSE.getErrorID()) ==ErrorFactory.id434_SYSTEMS_NOT_AVAILABLE) {&#xD;
	     		ESLog.debug(&quot;manufacturing Installed Base Service exception  is not null so we got a SNR error&quot;);&#xD;
	     		working.setWorkingValue(&quot;Failure &quot;+ _manufacturingInstalledBaseServiceSE.getErrorText());&#xD;
	     	}else {&#xD;
	     		if(_manufacturingInstalledBaseServiceReply != null) {&#xD;
		     		working.setWorkingValue(&quot;Success&quot;);&#xD;
		     		workingList.add(working);&#xD;
		         	working = new WorkingComplexType();&#xD;
		         	working.setWorkingName(&quot;SNR manufacturing date&quot;);&#xD;
		         	working.setWorkingValue(DateHelper.toIsoDateString(_manufacturingInstalledBaseServiceReply.getManufacturingDate()));&#xD;
		     		workingList.add(working);&#xD;
		         	working = new WorkingComplexType();&#xD;
		         	working.setWorkingName(&quot;SNR Shipment date&quot;);&#xD;
		         	working.setWorkingValue(DateHelper.toIsoDateString(_manufacturingInstalledBaseServiceReply.getShipmentDate()));&#xD;
		     		workingList.add(working);&#xD;
		         	working = new WorkingComplexType();&#xD;
		         	working.setWorkingName(&quot;SNR return date&quot;);&#xD;
		         	working.setWorkingValue(DateHelper.toIsoDateString(_manufacturingInstalledBaseServiceReply.getReturnDate()));&#xD;
		         	workingList.add(working);&#xD;
	     		}else if(_manufacturingInstalledBaseServiceSE != null &amp;&amp; Integer.parseInt(_manufacturingInstalledBaseServiceSE.getErrorID()) ==ErrorFactory.id300_NO_DATA_FOUND) {&#xD;
		     		working.setWorkingValue(&quot;NoDataFound&quot;);&#xD;
		     		workingList.add(working);&#xD;
	     		}else if(_manufacturingInstalledBaseServiceSE != null) {&#xD;
		     		working.setWorkingValue(&quot;SNR error &quot;+ _manufacturingInstalledBaseServiceSE.getErrorText());&#xD;
		     		workingList.add(working);&#xD;
	     		}else {&#xD;
		     		working.setWorkingValue(&quot;SNR not called&quot;);&#xD;
		     		workingList.add(working);&#xD;
	     		}&#xD;
	     		&#xD;
	&#xD;
	     	}&#xD;
  	}&#xD;
&#xD;
  	&#xD;
  	&#xD;
  	&#xD;
  	return (WorkingComplexType[]) workingList.toArray(new WorkingComplexType[0]);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K930oN7IEeWfkMH0esag_A" name="map" method="_LPIjwN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K930od7IEeWfkMH0esag_A" type="_LIMOQN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K94bsN7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLR-gN7IEeWfkMH0esag_A" name="MetroWorkingMapper" visibility="protected" method="_LPHVoN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLSlk97IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLTMoN7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLR-gd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLSlkN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLSlkd7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLSlkt7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLTMod7IEeWfkMH0esag_A" type="_K92mgN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K98tIN7IEeWfkMH0esag_A" name="ModifierMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQhq4N7IEeWfkMH0esag_A">
                      <body>@author JUHANK</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LM-AkN7IEeWfkMH0esag_A" name="_swopModifiers" visibility="protected" type="_LGwq4N7IEeWfkMH0esag_A" association="_LR9OQN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPJK0N7IEeWfkMH0esag_A" name="ModifierMapper" specification="_LLUawN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPJK0d7IEeWfkMH0esag_A" name="swopModifiers" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPJK0t7IEeWfkMH0esag_A" type="_K98tIN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_swopModifiers = swopModifiers;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K9-iUN7IEeWfkMH0esag_A" name="map" visibility="package" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K9-iUd7IEeWfkMH0esag_A" type="_LHPzEN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K9_JYN7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLUawN7IEeWfkMH0esag_A" name="ModifierMapper" visibility="package" method="_LPJK0N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLUawt7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLVB0N7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLUawd7IEeWfkMH0esag_A" name="swopModifiers" type="_LGwq4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLVB0d7IEeWfkMH0esag_A" type="_K98tIN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K-CMsN7IEeWfkMH0esag_A" name="OfferMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQhq4d7IEeWfkMH0esag_A">
                      <body>@author JUHANK</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LM-noN7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LGVNEN7IEeWfkMH0esag_A" association="_LR9OQ97IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LM_Osd7IEeWfkMH0esag_A" name="_oos" visibility="protected" type="_LHayMd7IEeWfkMH0esag_A" association="_LR91Ut7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LM_1wN7IEeWfkMH0esag_A" name="_entitlementCheckDate" visibility="protected" type="_LHVSod7IEeWfkMH0esag_A" association="_LR-cYd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNAc0N7IEeWfkMH0esag_A" name="_XMLIdGenerator" visibility="protected" type="_LG500N7IEeWfkMH0esag_A" association="_LR_Dcd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNAc0t7IEeWfkMH0esag_A" name="_warrantyType" visibility="protected" type="_LHcAUN7IEeWfkMH0esag_A" association="_LSARkN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPKY8N7IEeWfkMH0esag_A" name="OfferMapper" specification="_LLWP8N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPLAAN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLAAd7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLAAt7IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLAA97IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLABN7IEeWfkMH0esag_A" name="warrantyType" type="_LHcAUN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLABd7IEeWfkMH0esag_A" type="_K-CMsN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
     _oos = oos;&#xD;
     _entitlementCheckDate = entitlementCheckDate;&#xD;
     _XMLIdGenerator = XMLIdGenerator;&#xD;
     _warrantyType = warrantyType;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPLnEN7IEeWfkMH0esag_A" name="getInstance" specification="_LLYFIN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPLnEd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLnEt7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLnE97IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLnFN7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLnFd7IEeWfkMH0esag_A" name="warrantyType" type="_LHcAUN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPLnFt7IEeWfkMH0esag_A" type="_K-CMsN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return new MetroOfferMapper(transaction, entitlementCheckDate,oos, XMLIdGenerator, warrantyType);&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K-HsQN7IEeWfkMH0esag_A" name="map" visibility="package" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_K-ITUN7IEeWfkMH0esag_A" type="_LF69YN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_K-ITUd7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLWP8N7IEeWfkMH0esag_A" name="OfferMapper" visibility="protected" method="_LPKY8N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLXeEt7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLXeE97IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLW3AN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLW3Ad7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLW3At7IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLXeEN7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLXeEd7IEeWfkMH0esag_A" name="warrantyType" type="_LHcAUN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLXeFN7IEeWfkMH0esag_A" type="_K-CMsN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLYFIN7IEeWfkMH0esag_A" name="getInstance" visibility="package" isStatic="true" method="_LPLnEN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLYsMN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLYsMd7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLYsMt7IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLYsM97IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLZTQN7IEeWfkMH0esag_A" name="warrantyType" type="_LHcAUN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLZTQd7IEeWfkMH0esag_A" type="_K-CMsN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K-YK8N7IEeWfkMH0esag_A" name="OosMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQiR8N7IEeWfkMH0esag_A">
                      <body>@author JUHANK</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNBq8N7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LCWE8N7IEeWfkMH0esag_A" association="_LSARk97IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNCSAN7IEeWfkMH0esag_A" name="_locationObject" visibility="protected" type="_LG7qAN7IEeWfkMH0esag_A" association="_LSA4ot7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNCSAt7IEeWfkMH0esag_A" name="_XMLIdGenerator" visibility="package" type="_LG500N7IEeWfkMH0esag_A" association="_LSBfsd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNDgIN7IEeWfkMH0esag_A" name="_request" visibility="package" type="_LF5IMd7IEeWfkMH0esag_A" association="_LSCGwd7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPODUN7IEeWfkMH0esag_A" name="OosMapper" specification="_LLbIcN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPODUd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPODUt7IEeWfkMH0esag_A" name="locationObject" type="_LG7qAN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPODU97IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPODVN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPODVd7IEeWfkMH0esag_A" type="_K-YK8N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
     _locationObject = locationObject;&#xD;
     _XMLIdGenerator = XMLIdGenerator;&#xD;
     _request = request;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K-dDcN7IEeWfkMH0esag_A" name="map" visibility="package" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLcWkN7IEeWfkMH0esag_A" type="_LHayMd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLbIcN7IEeWfkMH0esag_A" name="OosMapper" method="_LPODUN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLbvg97IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLbvhN7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLbIcd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLbvgN7IEeWfkMH0esag_A" name="locationObject" type="_LG7qAN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLbvgd7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLbvgt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLbvhd7IEeWfkMH0esag_A" type="_K-YK8N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K-nbgN7IEeWfkMH0esag_A" name="ProductMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQi5AN7IEeWfkMH0esag_A">
                      <body>@author JUHANK</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNEuQN7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LGVNEN7IEeWfkMH0esag_A" association="_LSCt0d7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPPRcN7IEeWfkMH0esag_A" name="ProductMapper" specification="_LIcs8N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPPRcd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPPRct7IEeWfkMH0esag_A" type="_K-nbgN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPP4gN7IEeWfkMH0esag_A" name="isProductNull" specification="_LLdksN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPP4gd7IEeWfkMH0esag_A" name="product" type="_LHrQ4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPP4gt7IEeWfkMH0esag_A" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                      <language>java</language>
                      <body>if(product.getProductID() != null || product.getProductDescription() != null || &#xD;
 			product.getProductLineCode() != null || product.getProductLineDescription() != null) {&#xD;
 		return false;&#xD;
 	} else {&#xD;
 		return true;&#xD;
 	}&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K-p3wN7IEeWfkMH0esag_A" name="map" visibility="package" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLc9oN7IEeWfkMH0esag_A" type="_LHrQ4N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LIcs8N7IEeWfkMH0esag_A" name="ProductMapper" visibility="protected" method="_LPPRcN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LIcs8t7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LIcs897IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LIcs8d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LIcs9N7IEeWfkMH0esag_A" type="_K-nbgN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLdksN7IEeWfkMH0esag_A" name="isProductNull" visibility="protected" method="_LPP4gN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLdksd7IEeWfkMH0esag_A" name="product" type="_LHrQ4N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLdkst7IEeWfkMH0esag_A" direction="return">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                      </ownedParameter>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K-v-YN7IEeWfkMH0esag_A" name="RequestMapper" isAbstract="true">
                    <ownedComment xmi:id="_LQi5Ad7IEeWfkMH0esag_A">
                      <body>@author juhank</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNFVUN7IEeWfkMH0esag_A" name="_inputRequest" visibility="package" type="_LF5IMd7IEeWfkMH0esag_A" association="_LSDU4d7IEeWfkMH0esag_A">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNFVUd7IEeWfkMH0esag_A" value="null"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_LNF8Yd7IEeWfkMH0esag_A" name="_performProductBasedCalculation" visibility="package">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNGjcN7IEeWfkMH0esag_A" value="null"/>
                    </ownedAttribute>
                    <ownedAttribute xmi:id="_LNHKgd7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceReply" visibility="package" type="_LGYQYN7IEeWfkMH0esag_A" association="_LSD78d7IEeWfkMH0esag_A">
                      <defaultValue xmi:type="uml:LiteralString" xmi:id="_LNHKgt7IEeWfkMH0esag_A" value="null"/>
                    </ownedAttribute>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPQfkN7IEeWfkMH0esag_A" name="RequestMapper" specification="_LLeLwN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPQfkd7IEeWfkMH0esag_A" name="inputRequest" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPQfkt7IEeWfkMH0esag_A" name="performProductBasedCalculation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LPQfk97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPQflN7IEeWfkMH0esag_A" type="_K-v-YN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_inputRequest = inputRequest;&#xD;
		_performProductBasedCalculation = performProductBasedCalculation;&#xD;
		_manufacturingInstalledBaseServiceReply=manufacturingInstalledBaseServiceReply;&#xD;
	</body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPRtsN7IEeWfkMH0esag_A" name="getInstance" specification="_LLgA8N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPRtsd7IEeWfkMH0esag_A" name="inputRequest" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPRtst7IEeWfkMH0esag_A" name="performProductBasedCalculation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LPRts97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPRttN7IEeWfkMH0esag_A" type="_K-v-YN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return new MetroRequestMapper(inputRequest, performProductBasedCalculation,manufacturingInstalledBaseServiceReply);&#xD;
&#xD;
     &#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K-zowN7IEeWfkMH0esag_A" name="map" isAbstract="true">
                      <ownedParameter xmi:id="_LLhPEN7IEeWfkMH0esag_A" type="_LKoeQd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLeLwN7IEeWfkMH0esag_A" name="RequestMapper" visibility="protected" method="_LPQfkN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLey097IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLfZ4N7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLey0N7IEeWfkMH0esag_A" name="inputRequest" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLey0d7IEeWfkMH0esag_A" name="performProductBasedCalculation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LLey0t7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLfZ4d7IEeWfkMH0esag_A" type="_K-v-YN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLgA8N7IEeWfkMH0esag_A" name="getInstance" isStatic="true" method="_LPRtsN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLgA8d7IEeWfkMH0esag_A" name="inputRequest" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLgA8t7IEeWfkMH0esag_A" name="performProductBasedCalculation">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LLgA897IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLgoAN7IEeWfkMH0esag_A" type="_K-v-YN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K--n4N7IEeWfkMH0esag_A" name="SparePartMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQi5At7IEeWfkMH0esag_A">
                      <body>@author JUHANK</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNIYoN7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LGVNEN7IEeWfkMH0esag_A" association="_LSEjAd7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPSUwN7IEeWfkMH0esag_A" name="SparePartMapper" specification="_LIizkN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPSUwd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPSUwt7IEeWfkMH0esag_A" type="_K--n4N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K_CSQN7IEeWfkMH0esag_A" name="map" visibility="package" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLh2IN7IEeWfkMH0esag_A" type="_LHylod7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LIizkN7IEeWfkMH0esag_A" name="SparePartMapper" visibility="protected" method="_LPSUwN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LIizkt7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LIjaoN7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LIizkd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LIjaod7IEeWfkMH0esag_A" type="_K--n4N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K_F8oN7IEeWfkMH0esag_A" name="UnitListMapper" isAbstract="true">
                    <ownedComment xmi:id="_LQjgEN7IEeWfkMH0esag_A">
                      <body>@author JUHANK</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNI_sd7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LCWE8N7IEeWfkMH0esag_A" association="_LSFKEd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNJmwd7IEeWfkMH0esag_A" name="_XMLIdGenerator" visibility="protected" type="_LG500N7IEeWfkMH0esag_A" association="_LSFxId7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPS70N7IEeWfkMH0esag_A" name="UnitListMapper" specification="_LIlP0N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPS70d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPS70t7IEeWfkMH0esag_A" type="_K_F8oN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
     _XMLIdGenerator = XMLIdGenerator.getXMLIdGenerator();&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPS7097IEeWfkMH0esag_A" name="getInstance" specification="_LImd8N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPS71N7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPS71d7IEeWfkMH0esag_A" type="_K_F8oN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return new MetroUnitListMapper(transaction);&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K_IY4N7IEeWfkMH0esag_A" name="map" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A _LGC5Md7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLidMN7IEeWfkMH0esag_A" type="_LF8LgN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LIlP0N7IEeWfkMH0esag_A" name="UnitListMapper" visibility="protected" method="_LPS70N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LIl24N7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LIl24d7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LIlP0d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LIl24t7IEeWfkMH0esag_A" type="_K_F8oN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LImd8N7IEeWfkMH0esag_A" name="getInstance" isStatic="true" method="_LPS7097IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LImd8d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LImd8t7IEeWfkMH0esag_A" type="_K_F8oN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K_UmIN7IEeWfkMH0esag_A" name="WarningMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQjgEd7IEeWfkMH0esag_A">
                      <body>@author juhank</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNK04N7IEeWfkMH0esag_A" name="_request" visibility="protected" type="_LF5IMd7IEeWfkMH0esag_A" association="_LSG_QN7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNLb8d7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LCWE8N7IEeWfkMH0esag_A" association="_LSHmUN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPUJ8N7IEeWfkMH0esag_A" name="WarningMapper" specification="_LLjrUN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPUJ8d7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPUJ8t7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPUJ897IEeWfkMH0esag_A" type="_K_UmIN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_request = request;&#xD;
 	_transaction = transaction;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPUJ9N7IEeWfkMH0esag_A" name="map" specification="_K_Y3kN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPUJ9d7IEeWfkMH0esag_A" type="_LIo6MN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>/*&#xD;
 	 * TODO: add snr working&#xD;
 	 */&#xD;
 	if(!_transaction.isSourceSystemWarnings()) {&#xD;
 		return null;&#xD;
 	}&#xD;
 	&#xD;
  	ESLog.debug(&quot;Mapping warnings ...&quot;);&#xD;
  	Warnings warnings = new Warnings();&#xD;
&#xD;
&#xD;
		&#xD;
 	Iterator iterator = _transaction.getSourceSystemWarnings().iterator();&#xD;
 	while(iterator.hasNext()) {&#xD;
 		EIAError eiaError = mapWarning(iterator.next());&#xD;
 		if(eiaError != null) {&#xD;
 			warnings.addEIAError(eiaError);&#xD;
 		}&#xD;
 	}&#xD;
 	// check if we have no warnings, then we will return&#xD;
 	// null, that we don't have any tag in the XML reply&#xD;
 	if(warnings.getEIAErrorCount() == 0) {&#xD;
 		return null;&#xD;
 	} else {&#xD;
 		return warnings;&#xD;
 	}&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPVYEN7IEeWfkMH0esag_A" name="getInstance" specification="_LLn8wN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPVYEd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPVYEt7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPVYE97IEeWfkMH0esag_A" type="_K_UmIN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return new MetroWarningMapper(request, transaction);&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K_Y3kN7IEeWfkMH0esag_A" name="map" visibility="package" method="_LPUJ9N7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedComment xmi:id="_LQkHIN7IEeWfkMH0esag_A">
                        <body>map&#xD;
     * @return&#xD;
     * @throws MappingException</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_LLk5cN7IEeWfkMH0esag_A" type="_LIo6MN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_K_aFsN7IEeWfkMH0esag_A" name="getWarning420" visibility="package" isAbstract="true">
                      <ownedParameter xmi:id="_LLmHkN7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_K_aswN7IEeWfkMH0esag_A" name="getWarning441" visibility="package" isAbstract="true">
                      <ownedParameter xmi:id="_LLmHkd7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_K_b64N7IEeWfkMH0esag_A" name="getWarning440" visibility="package" isAbstract="true">
                      <ownedParameter xmi:id="_K_ch8N7IEeWfkMH0esag_A" name="parentBundleHpSerialNumber">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_K_ch8d7IEeWfkMH0esag_A" name="parentBundleHpProductId">
                        <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                      </ownedParameter>
                      <ownedParameter xmi:id="_LLmuoN7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLjrUN7IEeWfkMH0esag_A" name="WarningMapper" visibility="package" method="_LPUJ8N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLkSYd7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLkSYt7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLjrUd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLkSYN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLkSY97IEeWfkMH0esag_A" type="_K_UmIN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLlggN7IEeWfkMH0esag_A" name="mapWarning" visibility="protected" isAbstract="true">
                      <ownedParameter xmi:id="_LLlggd7IEeWfkMH0esag_A" name="swopWarning" type="_LKoeQd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLlggt7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLmuod7IEeWfkMH0esag_A" name="getWarning434" visibility="package" isAbstract="true">
                      <ownedParameter xmi:id="_LLnVsN7IEeWfkMH0esag_A" name="se" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLnVsd7IEeWfkMH0esag_A" type="_LH7Igd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLn8wN7IEeWfkMH0esag_A" name="getInstance" isStatic="true" method="_LPVYEN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLn8wd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLn8wt7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLn8w97IEeWfkMH0esag_A" type="_K_UmIN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_K_pWQN7IEeWfkMH0esag_A" name="WarrantyEntitlementMapper" isAbstract="true">
                    <ownedComment xmi:id="_LQkHId7IEeWfkMH0esag_A">
                      <body>@author JUHANK</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNMqEN7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LCWE8N7IEeWfkMH0esag_A" association="_LSINYN7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNNRIN7IEeWfkMH0esag_A" name="_XMLIdGenerator" visibility="protected" type="_LG500N7IEeWfkMH0esag_A" association="_LSI0cd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNNRIt7IEeWfkMH0esag_A" name="_entitlementCheckDate" visibility="protected" type="_LHVSod7IEeWfkMH0esag_A" association="_LSJbgd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNN4Md7IEeWfkMH0esag_A" name="_request" visibility="package" type="_LF5IMd7IEeWfkMH0esag_A" association="_LSKCkd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNOfQd7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceReply" visibility="package" type="_LGYQYN7IEeWfkMH0esag_A" association="_LSKpod7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNPGUd7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceSE" visibility="package" type="_LGC5Md7IEeWfkMH0esag_A" association="_LSLQsd7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPXNQN7IEeWfkMH0esag_A" name="WarrantyEntitlementMapper" specification="_LLpx8N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPXNQd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPXNQt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPXNQ97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPXNRN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPXNRd7IEeWfkMH0esag_A" type="_K_pWQN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
     _XMLIdGenerator = XMLIdGenerator.getXMLIdGenerator();&#xD;
     _entitlementCheckDate = request.getEsRequestComplexTypeChoice().getWarrantyRequest().getEntitlementCheckDate();&#xD;
     _request = request;&#xD;
     _manufacturingInstalledBaseServiceReply=manufacturingInstalledBaseServiceReply;&#xD;
     _manufacturingInstalledBaseServiceSE=manufacturingInstalledBaseServiceSE;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPX0UN7IEeWfkMH0esag_A" name="getInstance" specification="_LLrAEN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPX0Ud7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPX0Ut7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPX0U97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPX0VN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPX0Vd7IEeWfkMH0esag_A" type="_K_pWQN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return new MetroWarrantyEntitlementMapper(transaction, request,manufacturingInstalledBaseServiceReply,  manufacturingInstalledBaseServiceSE);&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPYbYN7IEeWfkMH0esag_A" name="checkForEligibleProductAndGetWarrantyEndDate" specification="_LLs1QN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPYbYd7IEeWfkMH0esag_A" name="startDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPYbYt7IEeWfkMH0esag_A" name="endDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPYbY97IEeWfkMH0esag_A" type="_LHVSod7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>if(_transaction.isSwopWarningMessageReturned(1004)) {&#xD;
			return startDate;&#xD;
		} else {&#xD;
			return endDate;&#xD;
		}&#xD;
	</body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_K_vc4N7IEeWfkMH0esag_A" name="map" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLsOMN7IEeWfkMH0esag_A" type="_LF-Asd7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLpx8N7IEeWfkMH0esag_A" name="WarrantyEntitlementMapper" visibility="protected" method="_LPXNQN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLqZAd7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLqZAt7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLpx8d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLpx8t7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLpx897IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLqZAN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLqZA97IEeWfkMH0esag_A" type="_K_pWQN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLrAEN7IEeWfkMH0esag_A" name="getInstance" isStatic="true" method="_LPX0UN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLrAEd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLrnIN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLrnId7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLrnIt7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLrnI97IEeWfkMH0esag_A" type="_K_pWQN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLs1QN7IEeWfkMH0esag_A" name="checkForEligibleProductAndGetWarrantyEndDate" visibility="protected" method="_LPYbYN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LLs1Qd7IEeWfkMH0esag_A" name="startDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLs1Qt7IEeWfkMH0esag_A" name="endDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLs1Q97IEeWfkMH0esag_A" type="_LHVSod7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_LAC-4N7IEeWfkMH0esag_A" name="WarrantyHeaderMapper">
                    <ownedComment xmi:id="_LQlVQN7IEeWfkMH0esag_A">
                      <body>@author juhank</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNQUcN7IEeWfkMH0esag_A" name="_request" visibility="protected" type="_LF5IMd7IEeWfkMH0esag_A" association="_LSMe0N7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNQ7gd7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LCWE8N7IEeWfkMH0esag_A" association="_LSNF4d7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNRikd7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceReply" visibility="private" type="_LGYQYN7IEeWfkMH0esag_A" association="_LSOUAN7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNSwsN7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceSifException" visibility="protected" type="_LGC5Md7IEeWfkMH0esag_A" association="_LSO7Ed7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPa3oN7IEeWfkMH0esag_A" name="WarrantyHeaderMapper" specification="_LLuDYN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPa3od7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPa3ot7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPa3o97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPa3pN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSifException" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPa3pd7IEeWfkMH0esag_A" type="_LAC-4N7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_request = request;&#xD;
     _transaction = transaction;&#xD;
     _manufacturingInstalledBaseServiceReply =manufacturingInstalledBaseServiceReply;&#xD;
     _manufacturingInstalledBaseServiceSifException=manufacturingInstalledBaseServiceSifException;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPbesN7IEeWfkMH0esag_A" name="map" specification="_LAGpQN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPbesd7IEeWfkMH0esag_A" type="_LI1ugN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>ESLog.debug(&quot;Mapping ES header&quot;);		&#xD;
 	EsHeader result = new EsHeader();&#xD;
 &#xD;
&#xD;
 	WarningMapper wm = WarningMapper.getInstance(_request, _transaction);&#xD;
     result.setWarnings(wm.map());&#xD;
     &#xD;
		&#xD;
     // add warning 420:  product is consumer product. This is trigger by: WarrantyInfo.SupportProductLine equal �R6� or �MK� or is empty&#xD;
		if(_transaction.getSourceSystemResponse() != null) {&#xD;
			EIAError eiaError = wm.getWarning420();&#xD;
			if(eiaError != null) {&#xD;
				Warnings warn = null;&#xD;
				if(result.getWarnings() == null) {&#xD;
					warn = new Warnings();&#xD;
					result.setWarnings(warn);&#xD;
				}else {&#xD;
					warn = result.getWarnings();&#xD;
				}&#xD;
				warn.addEIAError(eiaError);&#xD;
			}&#xD;
		}    &#xD;
		&#xD;
		/*&#xD;
		 * &#xD;
		 * Add the SNR warnings&#xD;
		 */&#xD;
		if(_manufacturingInstalledBaseServiceReply != null || _manufacturingInstalledBaseServiceSifException != null) {&#xD;
			Warnings warn = null;&#xD;
			EIAError eiaError =null;&#xD;
			if(result.getWarnings() == null) {&#xD;
				warn = new Warnings();&#xD;
			} else{&#xD;
				warn = result.getWarnings();&#xD;
			}&#xD;
			if(_manufacturingInstalledBaseServiceReply != null&amp;&amp; _manufacturingInstalledBaseServiceReply.getParentBundleHpProductId() != null &amp;&amp; _manufacturingInstalledBaseServiceReply.getParentBundleHpSerialNumber() !=null) {&#xD;
	&#xD;
				if(_manufacturingInstalledBaseServiceReply.getOutputHpSerialNumber().equalsIgnoreCase(_manufacturingInstalledBaseServiceReply.getParentBundleHpSerialNumber()) &#xD;
						&amp;&amp; _manufacturingInstalledBaseServiceReply.getOutputHpProductId().equalsIgnoreCase(_manufacturingInstalledBaseServiceReply.getParentBundleHpProductId())) {&#xD;
	&#xD;
					eiaError = wm.getWarning441();&#xD;
				}else {&#xD;
					eiaError = wm.getWarning440(_manufacturingInstalledBaseServiceReply.getParentBundleHpSerialNumber(),_manufacturingInstalledBaseServiceReply.getParentBundleHpProductId());&#xD;
				}&#xD;
				warn.addEIAError(eiaError);&#xD;
			}else if(_manufacturingInstalledBaseServiceSifException != null &amp;&amp; Integer.parseInt(_manufacturingInstalledBaseServiceSifException.getErrorID()) ==ErrorFactory.id434_SYSTEMS_NOT_AVAILABLE) {&#xD;
				eiaError = wm.getWarning434(_manufacturingInstalledBaseServiceSifException);&#xD;
				&#xD;
				warn.addEIAError(eiaError);&#xD;
				&#xD;
			}&#xD;
			 result.setWarnings(warn);&#xD;
		}&#xD;
     result.setInputRequest(_request);&#xD;
     return result;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_LAGpQN7IEeWfkMH0esag_A" name="map" method="_LPbesN7IEeWfkMH0esag_A" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedComment xmi:id="_LQl8UN7IEeWfkMH0esag_A">
                        <body>map&#xD;
     * @return&#xD;
     * @throws MappingException</body>
                      </ownedComment>
                      <ownedParameter xmi:id="_LLvRgN7IEeWfkMH0esag_A" type="_LI1ugN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLuDYN7IEeWfkMH0esag_A" name="WarrantyHeaderMapper" method="_LPa3oN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLuqcd7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLuqct7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLuDYd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLuDYt7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLuDY97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLuqcN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSifException" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLuqc97IEeWfkMH0esag_A" type="_LAC-4N7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_LAOlEN7IEeWfkMH0esag_A" name="WarrantyMapper" visibility="package" isAbstract="true">
                    <ownedComment xmi:id="_LQl8Ud7IEeWfkMH0esag_A">
                      <body>@author juhank</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNVM8N7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LCWE8N7IEeWfkMH0esag_A" association="_LSQJMN7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNV0Ad7IEeWfkMH0esag_A" name="_oosMap" visibility="protected" type="_LI6nAN7IEeWfkMH0esag_A" association="_LSQwQd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNXCIN7IEeWfkMH0esag_A" name="_oos" visibility="protected" type="_LHayMd7IEeWfkMH0esag_A" association="_LSRXUd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNXpMd7IEeWfkMH0esag_A" name="_entitlementCheckDate" visibility="protected" type="_LHVSod7IEeWfkMH0esag_A" association="_LSSlcd7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNYQQd7IEeWfkMH0esag_A" name="_XMLIdGenerator" visibility="protected" type="_LG500N7IEeWfkMH0esag_A" association="_LSTzkN7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPdT4N7IEeWfkMH0esag_A" name="WarrantyMapper" specification="_LLv4kN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPdT4d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPdT4t7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPdT497IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPdT5N7IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPdT5d7IEeWfkMH0esag_A" type="_LAOlEN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
     _entitlementCheckDate = entitlementCheckDate;&#xD;
     _oos = oos;&#xD;
     _XMLIdGenerator = XMLIdGenerator;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_LASPcN7IEeWfkMH0esag_A" name="map" visibility="package" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LAS2gN7IEeWfkMH0esag_A" type="_LF9ZoN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LAS2gd7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLv4kN7IEeWfkMH0esag_A" name="WarrantyMapper" visibility="package" method="_LPdT4N7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLwfpN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLxGsN7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLwfoN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLwfod7IEeWfkMH0esag_A" name="entitlementCheckDate" type="_LHVSod7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLwfot7IEeWfkMH0esag_A" name="oos" type="_LHayMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLwfo97IEeWfkMH0esag_A" name="XMLIdGenerator" type="_LG500N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLxGsd7IEeWfkMH0esag_A" type="_LAOlEN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_LAbZYN7IEeWfkMH0esag_A" name="WorkingMapper" isAbstract="true">
                    <ownedComment xmi:id="_LQmjYN7IEeWfkMH0esag_A">
                      <body>@author juhank</body>
                    </ownedComment>
                    <ownedAttribute xmi:id="_LNasgN7IEeWfkMH0esag_A" name="_transaction" visibility="protected" type="_LCWE8N7IEeWfkMH0esag_A" association="_LSUaod7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNbTkd7IEeWfkMH0esag_A" name="_request" visibility="protected" type="_LF5IMd7IEeWfkMH0esag_A" association="_LSVowN7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNchsN7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceReply" visibility="package" type="_LGYQYN7IEeWfkMH0esag_A" association="_LSWP0d7IEeWfkMH0esag_A"/>
                    <ownedAttribute xmi:id="_LNdIwd7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceSE" visibility="package" type="_LGC5Md7IEeWfkMH0esag_A" association="_LSW24d7IEeWfkMH0esag_A"/>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPfJEN7IEeWfkMH0esag_A" name="WorkingMapper" specification="_LLyU0N7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPfJEd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPfJEt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPfJE97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPfJFN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPfJFd7IEeWfkMH0esag_A" type="_LAbZYN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>_transaction = transaction;&#xD;
 	_request = request;&#xD;
 	_manufacturingInstalledBaseServiceReply=manufacturingInstalledBaseServiceReply;&#xD;
 	_manufacturingInstalledBaseServiceSE=manufacturingInstalledBaseServiceSE;&#xD;
 </body>
                    </ownedBehavior>
                    <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LPgXMN7IEeWfkMH0esag_A" name="getInstance" specification="_LL0KAN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LPgXMd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPgXMt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPgXM97IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPgXNN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LPgXNd7IEeWfkMH0esag_A" type="_LAbZYN7IEeWfkMH0esag_A" direction="return"/>
                      <language>java</language>
                      <body>return new MetroWorkingMapper(transaction, request,manufacturingInstalledBaseServiceReply,  manufacturingInstalledBaseServiceSE);&#xD;
 </body>
                    </ownedBehavior>
                    <ownedOperation xmi:id="_LAfDwN7IEeWfkMH0esag_A" name="map" isAbstract="true" raisedException="_LGj2kd7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LAfq0N7IEeWfkMH0esag_A" type="_LIMOQN7IEeWfkMH0esag_A" direction="return">
                        <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_LAfq0d7IEeWfkMH0esag_A" value="*"/>
                      </ownedParameter>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LLyU0N7IEeWfkMH0esag_A" name="WorkingMapper" visibility="protected" method="_LPfJEN7IEeWfkMH0esag_A">
                      <eAnnotations xmi:id="_LLy7497IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                        <details xmi:id="_LLy75N7IEeWfkMH0esag_A" key="create"/>
                      </eAnnotations>
                      <ownedParameter xmi:id="_LLyU0d7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLy74N7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLy74d7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLy74t7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LLzi8N7IEeWfkMH0esag_A" type="_LAbZYN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                    <ownedOperation xmi:id="_LL0KAN7IEeWfkMH0esag_A" name="getInstance" isStatic="true" method="_LPgXMN7IEeWfkMH0esag_A">
                      <ownedParameter xmi:id="_LL0KAd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LL0KAt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LL0xEN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LL0xEd7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceSE" type="_LGC5Md7IEeWfkMH0esag_A"/>
                      <ownedParameter xmi:id="_LL1YIN7IEeWfkMH0esag_A" type="_LAbZYN7IEeWfkMH0esag_A" direction="return"/>
                    </ownedOperation>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Class" xmi:id="_LKoeQd7IEeWfkMH0esag_A" name="Object"/>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR5j4d7IEeWfkMH0esag_A" name="" memberEnd="_LR5j4t7IEeWfkMH0esag_A _LM6WMN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR5j4t7IEeWfkMH0esag_A" name="" type="_K6_fwN7IEeWfkMH0esag_A" association="_LR5j4d7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR6K8d7IEeWfkMH0esag_A" name="" memberEnd="_LR6K8t7IEeWfkMH0esag_A _LM69QN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR6K8t7IEeWfkMH0esag_A" name="" type="_K7HbkN7IEeWfkMH0esag_A" association="_LR6K8d7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR6yAd7IEeWfkMH0esag_A" name="" memberEnd="_LR6yAt7IEeWfkMH0esag_A _LM7kUN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR6yAt7IEeWfkMH0esag_A" name="" type="_K7HbkN7IEeWfkMH0esag_A" association="_LR6yAd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR7ZEd7IEeWfkMH0esag_A" name="" memberEnd="_LR7ZEt7IEeWfkMH0esag_A _LM8LYN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR7ZEt7IEeWfkMH0esag_A" name="" type="_K7bkoN7IEeWfkMH0esag_A" association="_LR7ZEd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR8nMN7IEeWfkMH0esag_A" name="" memberEnd="_LR8nMd7IEeWfkMH0esag_A _LM8ycN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR8nMd7IEeWfkMH0esag_A" name="" type="_K7bkoN7IEeWfkMH0esag_A" association="_LR8nMN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR9OQN7IEeWfkMH0esag_A" name="" memberEnd="_LR9OQd7IEeWfkMH0esag_A _LM-AkN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR9OQd7IEeWfkMH0esag_A" name="" type="_K98tIN7IEeWfkMH0esag_A" association="_LR9OQN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR9OQ97IEeWfkMH0esag_A" name="" memberEnd="_LR91UN7IEeWfkMH0esag_A _LM-noN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR91UN7IEeWfkMH0esag_A" name="" type="_K-CMsN7IEeWfkMH0esag_A" association="_LR9OQ97IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR91Ut7IEeWfkMH0esag_A" name="" memberEnd="_LR91U97IEeWfkMH0esag_A _LM_Osd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR91U97IEeWfkMH0esag_A" name="" type="_K-CMsN7IEeWfkMH0esag_A" association="_LR91Ut7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR-cYd7IEeWfkMH0esag_A" name="" memberEnd="_LR-cYt7IEeWfkMH0esag_A _LM_1wN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR-cYt7IEeWfkMH0esag_A" name="" type="_K-CMsN7IEeWfkMH0esag_A" association="_LR-cYd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LR_Dcd7IEeWfkMH0esag_A" name="" memberEnd="_LR_Dct7IEeWfkMH0esag_A _LNAc0N7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LR_Dct7IEeWfkMH0esag_A" name="" type="_K-CMsN7IEeWfkMH0esag_A" association="_LR_Dcd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSARkN7IEeWfkMH0esag_A" name="" memberEnd="_LSARkd7IEeWfkMH0esag_A _LNAc0t7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSARkd7IEeWfkMH0esag_A" name="" type="_K-CMsN7IEeWfkMH0esag_A" association="_LSARkN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSARk97IEeWfkMH0esag_A" name="" memberEnd="_LSA4oN7IEeWfkMH0esag_A _LNBq8N7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSA4oN7IEeWfkMH0esag_A" name="" type="_K-YK8N7IEeWfkMH0esag_A" association="_LSARk97IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSA4ot7IEeWfkMH0esag_A" name="" memberEnd="_LSA4o97IEeWfkMH0esag_A _LNCSAN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSA4o97IEeWfkMH0esag_A" name="" type="_K-YK8N7IEeWfkMH0esag_A" association="_LSA4ot7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSBfsd7IEeWfkMH0esag_A" name="" memberEnd="_LSBfst7IEeWfkMH0esag_A _LNCSAt7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSBfst7IEeWfkMH0esag_A" name="" type="_K-YK8N7IEeWfkMH0esag_A" association="_LSBfsd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSCGwd7IEeWfkMH0esag_A" name="" memberEnd="_LSCGwt7IEeWfkMH0esag_A _LNDgIN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSCGwt7IEeWfkMH0esag_A" name="" type="_K-YK8N7IEeWfkMH0esag_A" association="_LSCGwd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSCt0d7IEeWfkMH0esag_A" name="" memberEnd="_LSCt0t7IEeWfkMH0esag_A _LNEuQN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSCt0t7IEeWfkMH0esag_A" name="" type="_K-nbgN7IEeWfkMH0esag_A" association="_LSCt0d7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSDU4d7IEeWfkMH0esag_A" name="" memberEnd="_LSDU4t7IEeWfkMH0esag_A _LNFVUN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSDU4t7IEeWfkMH0esag_A" name="" type="_K-v-YN7IEeWfkMH0esag_A" association="_LSDU4d7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSD78d7IEeWfkMH0esag_A" name="" memberEnd="_LSD78t7IEeWfkMH0esag_A _LNHKgd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSD78t7IEeWfkMH0esag_A" name="" type="_K-v-YN7IEeWfkMH0esag_A" association="_LSD78d7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSEjAd7IEeWfkMH0esag_A" name="" memberEnd="_LSEjAt7IEeWfkMH0esag_A _LNIYoN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSEjAt7IEeWfkMH0esag_A" name="" type="_K--n4N7IEeWfkMH0esag_A" association="_LSEjAd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSFKEd7IEeWfkMH0esag_A" name="" memberEnd="_LSFKEt7IEeWfkMH0esag_A _LNI_sd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSFKEt7IEeWfkMH0esag_A" name="" type="_K_F8oN7IEeWfkMH0esag_A" association="_LSFKEd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSFxId7IEeWfkMH0esag_A" name="" memberEnd="_LSFxIt7IEeWfkMH0esag_A _LNJmwd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSFxIt7IEeWfkMH0esag_A" name="" type="_K_F8oN7IEeWfkMH0esag_A" association="_LSFxId7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSG_QN7IEeWfkMH0esag_A" name="" memberEnd="_LSG_Qd7IEeWfkMH0esag_A _LNK04N7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSG_Qd7IEeWfkMH0esag_A" name="" type="_K_UmIN7IEeWfkMH0esag_A" association="_LSG_QN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSHmUN7IEeWfkMH0esag_A" name="" memberEnd="_LSHmUd7IEeWfkMH0esag_A _LNLb8d7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSHmUd7IEeWfkMH0esag_A" name="" type="_K_UmIN7IEeWfkMH0esag_A" association="_LSHmUN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSINYN7IEeWfkMH0esag_A" name="" memberEnd="_LSINYd7IEeWfkMH0esag_A _LNMqEN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSINYd7IEeWfkMH0esag_A" name="" type="_K_pWQN7IEeWfkMH0esag_A" association="_LSINYN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSI0cd7IEeWfkMH0esag_A" name="" memberEnd="_LSI0ct7IEeWfkMH0esag_A _LNNRIN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSI0ct7IEeWfkMH0esag_A" name="" type="_K_pWQN7IEeWfkMH0esag_A" association="_LSI0cd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSJbgd7IEeWfkMH0esag_A" name="" memberEnd="_LSJbgt7IEeWfkMH0esag_A _LNNRIt7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSJbgt7IEeWfkMH0esag_A" name="" type="_K_pWQN7IEeWfkMH0esag_A" association="_LSJbgd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSKCkd7IEeWfkMH0esag_A" name="" memberEnd="_LSKCkt7IEeWfkMH0esag_A _LNN4Md7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSKCkt7IEeWfkMH0esag_A" name="" type="_K_pWQN7IEeWfkMH0esag_A" association="_LSKCkd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSKpod7IEeWfkMH0esag_A" name="" memberEnd="_LSKpot7IEeWfkMH0esag_A _LNOfQd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSKpot7IEeWfkMH0esag_A" name="" type="_K_pWQN7IEeWfkMH0esag_A" association="_LSKpod7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSLQsd7IEeWfkMH0esag_A" name="" memberEnd="_LSLQst7IEeWfkMH0esag_A _LNPGUd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSLQst7IEeWfkMH0esag_A" name="" type="_K_pWQN7IEeWfkMH0esag_A" association="_LSLQsd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSMe0N7IEeWfkMH0esag_A" name="" memberEnd="_LSMe0d7IEeWfkMH0esag_A _LNQUcN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSMe0d7IEeWfkMH0esag_A" name="" type="_LAC-4N7IEeWfkMH0esag_A" association="_LSMe0N7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSNF4d7IEeWfkMH0esag_A" name="" memberEnd="_LSNF4t7IEeWfkMH0esag_A _LNQ7gd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSNF4t7IEeWfkMH0esag_A" name="" type="_LAC-4N7IEeWfkMH0esag_A" association="_LSNF4d7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSOUAN7IEeWfkMH0esag_A" name="" memberEnd="_LSOUAd7IEeWfkMH0esag_A _LNRikd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSOUAd7IEeWfkMH0esag_A" name="" type="_LAC-4N7IEeWfkMH0esag_A" association="_LSOUAN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSO7Ed7IEeWfkMH0esag_A" name="" memberEnd="_LSO7Et7IEeWfkMH0esag_A _LNSwsN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSO7Et7IEeWfkMH0esag_A" name="" type="_LAC-4N7IEeWfkMH0esag_A" association="_LSO7Ed7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSQJMN7IEeWfkMH0esag_A" name="" memberEnd="_LSQJMd7IEeWfkMH0esag_A _LNVM8N7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSQJMd7IEeWfkMH0esag_A" name="" type="_LAOlEN7IEeWfkMH0esag_A" association="_LSQJMN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSQwQd7IEeWfkMH0esag_A" name="" memberEnd="_LSQwQt7IEeWfkMH0esag_A _LNV0Ad7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSQwQt7IEeWfkMH0esag_A" name="" type="_LAOlEN7IEeWfkMH0esag_A" association="_LSQwQd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSRXUd7IEeWfkMH0esag_A" name="" memberEnd="_LSRXUt7IEeWfkMH0esag_A _LNXCIN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSRXUt7IEeWfkMH0esag_A" name="" type="_LAOlEN7IEeWfkMH0esag_A" association="_LSRXUd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSSlcd7IEeWfkMH0esag_A" name="" memberEnd="_LSSlct7IEeWfkMH0esag_A _LNXpMd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSSlct7IEeWfkMH0esag_A" name="" type="_LAOlEN7IEeWfkMH0esag_A" association="_LSSlcd7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSTzkN7IEeWfkMH0esag_A" name="" memberEnd="_LSTzkd7IEeWfkMH0esag_A _LNYQQd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSTzkd7IEeWfkMH0esag_A" name="" type="_LAOlEN7IEeWfkMH0esag_A" association="_LSTzkN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSUaod7IEeWfkMH0esag_A" name="" memberEnd="_LSUaot7IEeWfkMH0esag_A _LNasgN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSUaot7IEeWfkMH0esag_A" name="" type="_LAbZYN7IEeWfkMH0esag_A" association="_LSUaod7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSVowN7IEeWfkMH0esag_A" name="" memberEnd="_LSVowd7IEeWfkMH0esag_A _LNbTkd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSVowd7IEeWfkMH0esag_A" name="" type="_LAbZYN7IEeWfkMH0esag_A" association="_LSVowN7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSWP0d7IEeWfkMH0esag_A" name="" memberEnd="_LSWP0t7IEeWfkMH0esag_A _LNchsN7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSWP0t7IEeWfkMH0esag_A" name="" type="_LAbZYN7IEeWfkMH0esag_A" association="_LSWP0d7IEeWfkMH0esag_A"/>
                  </packagedElement>
                  <packagedElement xmi:type="uml:Association" xmi:id="_LSW24d7IEeWfkMH0esag_A" name="" memberEnd="_LSW24t7IEeWfkMH0esag_A _LNdIwd7IEeWfkMH0esag_A">
                    <ownedEnd xmi:id="_LSW24t7IEeWfkMH0esag_A" name="" type="_LAbZYN7IEeWfkMH0esag_A" association="_LSW24d7IEeWfkMH0esag_A"/>
                  </packagedElement>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_K6BPYN7IEeWfkMH0esag_A" name="SingleInstanceIntegration">
                  <ownedComment xmi:id="_LQa9MN7IEeWfkMH0esag_A">
                    <body>@author JUHANK&#xD;
This class is used for accessing only the local (country of service) instance.&#xD;
It is used for for product and spare part calculation if no serial number is&#xD;
passed with the request.</body>
                  </ownedComment>
                  <generalization xmi:id="_LGch0N7IEeWfkMH0esag_A" general="_K6HWAN7IEeWfkMH0esag_A"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOtF8N7IEeWfkMH0esag_A" name="SingleInstanceIntegration" specification="_K6CdgN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOtF8d7IEeWfkMH0esag_A" name="countryCode">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_LOtF8t7IEeWfkMH0esag_A" type="_K6BPYN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		_isLocal = true;&#xD;
		_region = RegionFactory.getInstance().getCountryOfServiceRegion(countryCode);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOtF897IEeWfkMH0esag_A" name="execute" specification="_LKWKYN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOtF9N7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOtF9d7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOtF9t7IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Entering single integration (product / spare part)&quot;);&#xD;
		return callRegion(request, metricsHandler);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_K6CdgN7IEeWfkMH0esag_A" name="SingleInstanceIntegration" method="_LOtF8N7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_K6DEkN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_K6DEkd7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedParameter xmi:id="_K6Cdgd7IEeWfkMH0esag_A" name="countryCode">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <ownedParameter xmi:id="_K6DEkt7IEeWfkMH0esag_A" type="_K6BPYN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKWKYN7IEeWfkMH0esag_A" name="execute" method="_LOtF897IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LKWKYd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKWKYt7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKWxcN7IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_K6HWAN7IEeWfkMH0esag_A" name="WarrantyIntegration" isAbstract="true">
                  <ownedComment xmi:id="_LQa9Md7IEeWfkMH0esag_A">
                    <body>@author ANVOI&#xD;
 *</body>
                  </ownedComment>
                  <ownedAttribute xmi:id="_LM2EwN7IEeWfkMH0esag_A" name="_isLocal" visibility="protected">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LM2Ewd7IEeWfkMH0esag_A" value="false"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LM2r0d7IEeWfkMH0esag_A" name="_region" visibility="protected" type="_LGiBYd7IEeWfkMH0esag_A" association="_LR3Hod7IEeWfkMH0esag_A">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LM3S4N7IEeWfkMH0esag_A" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LM358d7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceReply" visibility="protected" type="_LGYQYN7IEeWfkMH0esag_A" association="_LR3usd7IEeWfkMH0esag_A">
                    <defaultValue xmi:type="uml:LiteralString" xmi:id="_LM358t7IEeWfkMH0esag_A" value="null"/>
                  </ownedAttribute>
                  <ownedAttribute xmi:id="_LM4hAd7IEeWfkMH0esag_A" name="_manufacturingInstalledBaseServiceSE" visibility="package" type="_LGC5Md7IEeWfkMH0esag_A" association="_LR480N7IEeWfkMH0esag_A"/>
                  <interfaceRealization xmi:id="_LKXYgN7IEeWfkMH0esag_A" client="_K6HWAN7IEeWfkMH0esag_A" supplier="_LGflIN7IEeWfkMH0esag_A" contract="_LGflIN7IEeWfkMH0esag_A"/>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOttAN7IEeWfkMH0esag_A" name="getManufacturingInstalledBaseServiceReply" specification="_K6LAYN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOttAd7IEeWfkMH0esag_A" type="_LGYQYN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>return _manufacturingInstalledBaseServiceReply;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOuUEN7IEeWfkMH0esag_A" name="setManufacturingInstalledBaseServiceReply" specification="_LKZNsN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOuUEd7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>_manufacturingInstalledBaseServiceReply = manufacturingInstalledBaseServiceReply;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOuUEt7IEeWfkMH0esag_A" name="WarrantyIntegration" specification="_K6M1kN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOuUE97IEeWfkMH0esag_A" type="_K6HWAN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>super();&#xD;
		&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOu7IN7IEeWfkMH0esag_A" name="isRegionInFailoverMode" specification="_K6P44N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOu7Id7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return _region.inFailoverMode();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOu7It7IEeWfkMH0esag_A" name="getRegionName" specification="_K6Qf8N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOu7I97IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return _region.getConfiguration().getRegionName();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOu7JN7IEeWfkMH0esag_A" name="getRegionConfiguration" specification="_K6SVIN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOu7Jd7IEeWfkMH0esag_A" type="_LGjPgd7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>return _region.getConfiguration();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOviMN7IEeWfkMH0esag_A" name="getName" specification="_K6S8MN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOviMd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return this.getClass().toString() + &quot;-&quot; + _region.getConfiguration().getRegionName();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOviMt7IEeWfkMH0esag_A" name="getRegionDisplayName" specification="_K6TjQd7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOviM97IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return EsConstants.SWOP_SYSTEM_NAME +&quot; &quot;+ getRegionName();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOwJQN7IEeWfkMH0esag_A" name="callRegion" specification="_LKbp8N7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOwJQd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOwJQt7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOwJQ97IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Mapping ES request to SWOP request&quot;);&#xD;
		// map ES request to SWOP request&#xD;
		Object swopRequest = mapEsRequest2SwopRequest(request, _manufacturingInstalledBaseServiceReply);&#xD;
		&#xD;
		// pass request to the region and get the result&#xD;
		Transaction transaction = null;&#xD;
		try {&#xD;
			ESLog.debug(&quot;Send request to SWOP using Region: &quot; + _region.getConfiguration().getRegionName());&#xD;
			transaction = _region.execute(EsConstants.SAP_FUNCTION_NAME_SWOP, &#xD;
									swopRequest, getRegionDisplayName(), isLocal(), metricsHandler);&#xD;
		} catch (Exception e) {&#xD;
&#xD;
			if( e instanceof SifException) {&#xD;
				throw (SifException) e;&#xD;
			}else {&#xD;
				// No need to print something that was printed twice already&#xD;
				ESLog.error(&quot;Exception while connecting to SWOP&quot;+ e.getMessage());&#xD;
				ESLog.debug(&quot;Exception while connecting to SWOP, stack trace&quot;, e);				&#xD;
			}&#xD;
         throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &#xD;
         		&quot;Exception while connecting to SWOP&quot;, e.toString());&#xD;
		}&#xD;
				&#xD;
		// Check which reply we have error, unit list, or normal reply&#xD;
		if(transaction.isSourceSystemError()) {&#xD;
			ESLog.debug(&quot;We have SWOP errors ...&quot;);&#xD;
			// SWOP ERRORS&#xD;
			mapSwopError2EsErrors((WarrantyTransaction)transaction, request);&#xD;
		} else if (transaction instanceof ErrorTransaction) {&#xD;
			ESLog.debug(&quot;We have an throwable ...&quot;);&#xD;
			// THROWABLE&#xD;
			// There is no need to do anything here, it will be done in the composition layer&#xD;
			// so we simply return the transaction&#xD;
			mapThrowable2EsErrors((ErrorTransaction)transaction);&#xD;
		} else if(transaction.isSourceSystemUnitList()) {&#xD;
			ESLog.debug(&quot;We have a unit list ...&quot;);&#xD;
			// UNIT LIST&#xD;
			mapSwopReply2UnitList((WarrantyTransaction)transaction, request );&#xD;
		} else {&#xD;
			ESLog.debug(&quot;We have a reply ...&quot;);&#xD;
			// NORMAL REPLY&#xD;
			mapSwopReply2EsReply((WarrantyTransaction)transaction, request);&#xD;
		}&#xD;
		return transaction;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOwJRN7IEeWfkMH0esag_A" name="mapThrowable2EsErrors" specification="_LKc4EN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOwJRd7IEeWfkMH0esag_A" name="transaction" type="_LGgzQN7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Mapping a throwable to a ES error (SifException)&quot;);&#xD;
		// getting the throwable&#xD;
		Throwable throwable = transaction.getSourceSystemThrowable();&#xD;
		ArrayList errorList = new ArrayList();&#xD;
		// checking which type it is&#xD;
		if(throwable instanceof SifException) {&#xD;
			// convert the throwable into a SifException&#xD;
			ESLog.debug(&quot;We have a SifException&quot;);&#xD;
			errorList.add((SifException) throwable);&#xD;
		} else {&#xD;
			// create a new SifException because an unknown error occured&#xD;
			ESLog.debug(&quot;We have another Exception, create an internal SifException&quot;);&#xD;
			errorList.add(ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, throwable.toString()));&#xD;
		}&#xD;
		// adding it to the mappedErrors collection&#xD;
		ESLog.debug(&quot;Add the SifException to the mapped errors list&quot;);&#xD;
		transaction.setMappedErrors(errorList);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOwJRt7IEeWfkMH0esag_A" name="mapSwopError2EsErrors" specification="_LKdfIN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOwJR97IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOwJSN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Creating ES Error List ...&quot;);&#xD;
		ArrayList esErrors = null;&#xD;
		try {&#xD;
			ErrorMapper em = ErrorMapper.getInstance(transaction.getSourceSystemErrors(), request);&#xD;
			esErrors = em.map();&#xD;
			&#xD;
			if(esErrors.isEmpty()  &amp;&amp; transaction.isSwopEmptyReply()) {&#xD;
				esErrors = new ArrayList();&#xD;
				esErrors.add(ErrorFactory.getSifException(ErrorFactory.id300_NO_DATA_FOUND, &quot;SWOP Empty reply&quot; ));&#xD;
			}&#xD;
		} catch (MappingException e) {&#xD;
			ESLog.error(&quot;Mapping Exception&quot;, e);&#xD;
         throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &#xD;
         		&quot;Unknown Mapping Exception&quot;, e.toString());&#xD;
		}&#xD;
		&#xD;
		ESLog.debug(&quot;Setting the ES errors in the transaction ...&quot;);&#xD;
		transaction.setMappedErrors(esErrors);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOwwUN7IEeWfkMH0esag_A" name="mapSwopReply2UnitList" specification="_LKetQN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOwwUd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOwwUt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Creating EsReply for a Unit List ...&quot;);&#xD;
		EsReply esReply = new EsReply();&#xD;
		try {&#xD;
			// setting header&#xD;
			ESLog.debug(&quot;Setting the header in the EsReply ...&quot;);&#xD;
			//TODO: add the _manufacturingInstalledBaseServiceReply so that we can add the SNR warnings&#xD;
			WarrantyHeaderMapper headerMapper = new WarrantyHeaderMapper(request, transaction,_manufacturingInstalledBaseServiceReply,_manufacturingInstalledBaseServiceSE);&#xD;
			esReply.setEsHeader(headerMapper.map());&#xD;
			&#xD;
			// get the swop reply&#xD;
			ESLog.debug(&quot;Mapping the SWOP reply into the Unit List ...&quot;);&#xD;
			UnitListMapper unitListMapper =  UnitListMapper.getInstance(transaction);&#xD;
			esReply.setEsReplyChoice(new EsReplyChoice());&#xD;
			esReply.getEsReplyChoice().setUnitList(unitListMapper.map());&#xD;
		} catch (com.hp.es.service.util.exception.MappingException e) {&#xD;
			ESLog.error(&quot;Mapping Exception&quot;, e);&#xD;
         throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &#xD;
         		&quot;Unknown Mapping Exception&quot;, e.toString());&#xD;
		}&#xD;
		// add EsReply to reply&#xD;
		ESLog.debug(&quot;Setting the EsReply (which is containing the UnitList) in the transaction ...&quot;);&#xD;
		transaction.setMappedReply(esReply);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOwwU97IEeWfkMH0esag_A" name="mapEsRequest2SwopRequest" specification="_LKhJgN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOwwVN7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOwwVd7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOwwVt7IEeWfkMH0esag_A" type="_LKf7YN7IEeWfkMH0esag_A" direction="return"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Mapping ES request to SWOP request&quot;);&#xD;
		RequestMapper requestMapper = null;&#xD;
		// Check if we need to perform a spare part calulcatio in the region&#xD;
		if(_isLocal || doWeHaveASparePartNumberAndSerialNumber(request)) {&#xD;
			ESLog.debug(&quot;Setting flag to perform product/spare part calculation in the request&quot;);&#xD;
			requestMapper = RequestMapper.getInstance(request, &quot;X&quot;,manufacturingInstalledBaseServiceReply);&#xD;
		} else {&#xD;
			ESLog.debug(&quot;NO product/spare part calculation is required in the request&quot;);&#xD;
			requestMapper = RequestMapper.getInstance(request, null,manufacturingInstalledBaseServiceReply);&#xD;
		}&#xD;
		return requestMapper.map();&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOxXYN7IEeWfkMH0esag_A" name="doWeHaveASparePartNumberAndSerialNumber" specification="_LKiXoN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOxXYd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOxXYt7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>WarrantyRequest warrantyRequest = request.getEsRequestComplexTypeChoice().getWarrantyRequest();&#xD;
		// Do we have a Serial Number (SN)?&#xD;
		if(warrantyRequest.getSerialNumber() != null &amp;&amp; warrantyRequest.getSerialNumber().trim().length() > 0 ) {&#xD;
			// Do we have a Spare Part Number (SPN) ?&#xD;
			if(warrantyRequest.getSparePartNumber() != null &amp;&amp; warrantyRequest.getSparePartNumber().trim().length() > 0 ) {&#xD;
				// SN and SPN available &#xD;
				return true; &#xD;
			} else {&#xD;
				// SPN is not available&#xD;
				return false;&#xD;
			}&#xD;
		} else {&#xD;
			// SN is not available&#xD;
			return false;&#xD;
		}&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOxXY97IEeWfkMH0esag_A" name="mapSwopReply2EsReply" specification="_LKi-sN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOxXZN7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LOxXZd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <language>java</language>
                    <body>ESLog.debug(&quot;Creating EsReply ...&quot;);&#xD;
		EsReply esReply = new EsReply();&#xD;
		try {&#xD;
			// setting header&#xD;
			ESLog.debug(&quot;Setting the header in the EsReply ...&quot;);&#xD;
			WarrantyHeaderMapper headerMapper = new WarrantyHeaderMapper(request, transaction,_manufacturingInstalledBaseServiceReply,_manufacturingInstalledBaseServiceSE);&#xD;
			//TODO: add the _manufacturingInstalledBaseServiceReply so that we can add the SNR warnings&#xD;
			esReply.setEsHeader(headerMapper.map());&#xD;
			&#xD;
			// get the swop reply&#xD;
			ESLog.debug(&quot;Mapping the SWOP reply into the EsReply ...&quot;);&#xD;
			WarrantyEntitlementMapper warrantyEntitlementMapper = WarrantyEntitlementMapper.getInstance(transaction, request, _manufacturingInstalledBaseServiceReply,_manufacturingInstalledBaseServiceSE);&#xD;
			esReply.setEsReplyChoice(new EsReplyChoice());&#xD;
			esReply.getEsReplyChoice().setWarrantyEntitlement(warrantyEntitlementMapper.map());&#xD;
		} catch (com.hp.es.service.util.exception.MappingException e) {&#xD;
			ESLog.error(&quot;Mapping Exception&quot;, e);&#xD;
         throw ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, &#xD;
         		&quot;Unknown Mapping Exception&quot;, e.toString());&#xD;
		}&#xD;
		// add EsReply to reply&#xD;
		ESLog.debug(&quot;Setting the EsReply in the transaction ...&quot;);&#xD;
		transaction.setMappedReply(esReply);&#xD;
	</body>
                  </ownedBehavior>
                  <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOx-cN7IEeWfkMH0esag_A" name="isLocal" specification="_K6dUQN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LOx-cd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                    <language>java</language>
                    <body>return _isLocal;&#xD;
	</body>
                  </ownedBehavior>
                  <ownedOperation xmi:id="_K6LAYN7IEeWfkMH0esag_A" name="getManufacturingInstalledBaseServiceReply" method="_LOttAN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQbkQN7IEeWfkMH0esag_A">
                      <body>@return the manufacturingInstalledBaseServiceReply</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKYmoN7IEeWfkMH0esag_A" type="_LGYQYN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_K6M1kN7IEeWfkMH0esag_A" name="WarrantyIntegration" method="_LOuUEt7IEeWfkMH0esag_A">
                    <eAnnotations xmi:id="_K6NcoN7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                      <details xmi:id="_K6Ncod7IEeWfkMH0esag_A" key="create"/>
                    </eAnnotations>
                    <ownedComment xmi:id="_LQcLUN7IEeWfkMH0esag_A">
                      <body>constructor WarrantyIntegration</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_K6Ncot7IEeWfkMH0esag_A" type="_K6HWAN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_K6P44N7IEeWfkMH0esag_A" name="isRegionInFailoverMode" method="_LOu7IN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_K6P44d7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_K6Qf8N7IEeWfkMH0esag_A" name="getRegionName" method="_LOu7It7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_K6RHAN7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_K6SVIN7IEeWfkMH0esag_A" name="getRegionConfiguration" method="_LOu7JN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LKbC4N7IEeWfkMH0esag_A" type="_LGjPgd7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_K6S8MN7IEeWfkMH0esag_A" name="getName" method="_LOviMN7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_K6TjQN7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_K6TjQd7IEeWfkMH0esag_A" name="getRegionDisplayName" method="_LOviMt7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_K6UKUN7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_K6dUQN7IEeWfkMH0esag_A" name="isLocal" method="_LOx-cN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQdZct7IEeWfkMH0esag_A">
                      <body>Returns the flag whether this is a local instance or not</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_K6dUQd7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKZNsN7IEeWfkMH0esag_A" name="setManufacturingInstalledBaseServiceReply" method="_LOuUEN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQbkQd7IEeWfkMH0esag_A">
                      <body>@param manufacturingInstalledBaseServiceReply the manufacturingInstalledBaseServiceReply to set</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKZNsd7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKZ0wN7IEeWfkMH0esag_A" name="execute" isAbstract="true" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedParameter xmi:id="_LKab0N7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKab0d7IEeWfkMH0esag_A" name="handler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKab0t7IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKbp8N7IEeWfkMH0esag_A" name="callRegion" method="_LOwJQN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQcLUd7IEeWfkMH0esag_A">
                      <body>callRegion &#xD;
	 * @param request&#xD;
	 * @param metricsHandler&#xD;
	 * @return&#xD;
	 * @throws SifException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKbp8d7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKbp8t7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKcRAN7IEeWfkMH0esag_A" type="_LGVNEN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKc4EN7IEeWfkMH0esag_A" name="mapThrowable2EsErrors" visibility="private" method="_LOwJRN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQcyYN7IEeWfkMH0esag_A">
                      <body>mapThrowable2EsErrors maps the received throwable into a SIF exception&#xD;
	 * @param transaction&#xD;
&#xD;
	private void mapThrowable2EsErrors(WarrantyTransaction transaction) {&#xD;
		ESLog.debug(&quot;Mapping a throwable to a ES error (SifException)&quot;);&#xD;
		// getting the throwable&#xD;
		Throwable throwable = transaction.getSourceSystemThrowable();&#xD;
		ArrayList errorList = new ArrayList();&#xD;
		// checking which type it is&#xD;
		if(throwable instanceof SifException) {&#xD;
			// convert the throwable into a SifException&#xD;
			ESLog.debug(&quot;We have a SifException&quot;);&#xD;
			errorList.add((SifException) throwable);&#xD;
		} else {&#xD;
			// create a new SifException because an unknown error occured&#xD;
			ESLog.debug(&quot;We have another Exception, create an internal SifException&quot;);&#xD;
			errorList.add(ErrorFactory.getSifException(ErrorFactory.id9999_INTERNAL_ERROR, throwable.toString()));&#xD;
		}&#xD;
		// adding it to the mappedErrors collection&#xD;
		ESLog.debug(&quot;Add the SifException to the mapped errors list&quot;);&#xD;
		transaction.setMappedErrors(errorList);&#xD;
	}</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKc4Ed7IEeWfkMH0esag_A" name="transaction" type="_LGgzQN7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKdfIN7IEeWfkMH0esag_A" name="mapSwopError2EsErrors" visibility="private" method="_LOwJRt7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQcyYd7IEeWfkMH0esag_A">
                      <body>mapSwopError2EsErrors maps all the received errors from SWOP into a list of SIF exceptions&#xD;
	 * @param request &#xD;
	 * @param transaction &#xD;
	 * @throws SifException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKdfId7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKdfIt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKetQN7IEeWfkMH0esag_A" name="mapSwopReply2UnitList" visibility="private" method="_LOwwUN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQcyYt7IEeWfkMH0esag_A">
                      <body>mapSwopReply2UnitList maps the SWOP reply (product list) into a ES Unit List&#xD;
	 * @param reply&#xD;
	 * @param request&#xD;
	 * @throws SifException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKetQd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKetQt7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKhJgN7IEeWfkMH0esag_A" name="mapEsRequest2SwopRequest" visibility="private" method="_LOwwU97IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQcyY97IEeWfkMH0esag_A">
                      <body>mapEsRequest2SwopRequest maps the ES request to the SWOP request and&#xD;
	 * setting the flag if we need a product/spare part calculation&#xD;
	 * @param request&#xD;
	 * @param manufacturingInstalledBaseServiceReply &#xD;
	 * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKhJgd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKhwkN7IEeWfkMH0esag_A" name="manufacturingInstalledBaseServiceReply" type="_LGYQYN7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKhwkd7IEeWfkMH0esag_A" type="_LKf7YN7IEeWfkMH0esag_A" direction="return"/>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKiXoN7IEeWfkMH0esag_A" name="doWeHaveASparePartNumberAndSerialNumber" visibility="private" method="_LOxXYN7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQdZcN7IEeWfkMH0esag_A">
                      <body>Due to a SWOP issue we have to do a product/spare part calculation&#xD;
	 * in each region when we have a SN + Spare Part Number in the request.&#xD;
	 * This is checked in this method  &#xD;
	 * See also WITS 1501.&#xD;
	 * @param request&#xD;
	 * @return</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKiXod7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKiXot7IEeWfkMH0esag_A" direction="return">
                      <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                    </ownedParameter>
                  </ownedOperation>
                  <ownedOperation xmi:id="_LKi-sN7IEeWfkMH0esag_A" name="mapSwopReply2EsReply" visibility="private" method="_LOxXY97IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                    <ownedComment xmi:id="_LQdZcd7IEeWfkMH0esag_A">
                      <body>mapSwopReply2EsReply maps the SWOP reply into an ES reply&#xD;
	 * @param transaction&#xD;
	 * @throws SifException</body>
                    </ownedComment>
                    <ownedParameter xmi:id="_LKi-sd7IEeWfkMH0esag_A" name="transaction" type="_LCWE8N7IEeWfkMH0esag_A"/>
                    <ownedParameter xmi:id="_LKi-st7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  </ownedOperation>
                </packagedElement>
                <packagedElement xmi:type="uml:Class" xmi:id="_LKf7YN7IEeWfkMH0esag_A" name="Object"/>
                <packagedElement xmi:type="uml:Association" xmi:id="_LR3Hod7IEeWfkMH0esag_A" name="" memberEnd="_LR3Hot7IEeWfkMH0esag_A _LM2r0d7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LR3Hot7IEeWfkMH0esag_A" name="" type="_K6HWAN7IEeWfkMH0esag_A" association="_LR3Hod7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_LR3usd7IEeWfkMH0esag_A" name="" memberEnd="_LR3ust7IEeWfkMH0esag_A _LM358d7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LR3ust7IEeWfkMH0esag_A" name="" type="_K6HWAN7IEeWfkMH0esag_A" association="_LR3usd7IEeWfkMH0esag_A"/>
                </packagedElement>
                <packagedElement xmi:type="uml:Association" xmi:id="_LR480N7IEeWfkMH0esag_A" name="" memberEnd="_LR480d7IEeWfkMH0esag_A _LM4hAd7IEeWfkMH0esag_A">
                  <ownedEnd xmi:id="_LR480d7IEeWfkMH0esag_A" name="" type="_K6HWAN7IEeWfkMH0esag_A" association="_LR480N7IEeWfkMH0esag_A"/>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Package" xmi:id="_Kq9fsN7IEeWfkMH0esag_A" name="adapters">
                <packagedElement xmi:type="uml:Package" xmi:id="_Kq9fsd7IEeWfkMH0esag_A" name="metrogenerated">
                  <packagedElement xmi:type="uml:Package" xmi:id="_Kq9fst7IEeWfkMH0esag_A" name="Z_WARRANTY_LOOKUP_PARALLEL_BSU">
                    <packagedElement xmi:type="uml:Class" xmi:id="_LG_7cd7IEeWfkMH0esag_A" name="ZWTYDELIVERABLE"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHC-wN7IEeWfkMH0esag_A" name="ZWTYERROR"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHHQMN7IEeWfkMH0esag_A" name="ZWTYLOCATIONMASTER"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHH3Qd7IEeWfkMH0esag_A" name="ZWTYOOSINFO"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHJFYd7IEeWfkMH0esag_A" name="ZWTYWTYENT"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHN94N7IEeWfkMH0esag_A" name="ZWTYMODIFIERLINE"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHXH0d7IEeWfkMH0esag_A" name="ZOFFERINFO"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHYV8d7IEeWfkMH0esag_A" name="ZWTYOFFERINFO"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHiuAN7IEeWfkMH0esag_A" name="ZPARTLIST"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHj8Id7IEeWfkMH0esag_A" name="ZWTYPARTINFO"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHqCwN7IEeWfkMH0esag_A" name="ZWTYPRODINFO"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHu7Qd7IEeWfkMH0esag_A" name="ZWARRANTYLOOKUPPARALLELBSU"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LHx-kN7IEeWfkMH0esag_A" name="ZWTYSPAREPART"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LH1o8d7IEeWfkMH0esag_A" name="ZPRODLIST"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LH2QAd7IEeWfkMH0esag_A" name="ZWTYPRODLIST"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LH6hcN7IEeWfkMH0esag_A" name="ZWTYWTYINFO"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LJkHQN7IEeWfkMH0esag_A" name="ZWARRANTYLOOKUPPARALLELBSUResponse"/>
                    <packagedElement xmi:type="uml:Class" xmi:id="_LJlVYN7IEeWfkMH0esag_A" name="ZWTYLOOKUP"/>
                  </packagedElement>
                </packagedElement>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_K4qkgN7IEeWfkMH0esag_A" name="GetWarrantyEntitlementOperation">
                <ownedComment xmi:id="_LQX54d7IEeWfkMH0esag_A">
                  <body>*</body>
                </ownedComment>
                <generalization xmi:id="_LKQq0d7IEeWfkMH0esag_A" general="_LFuwId7IEeWfkMH0esag_A"/>
                <ownedAttribute xmi:id="_LMhUoN7IEeWfkMH0esag_A" name="snrEnable" visibility="private">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOnmYN7IEeWfkMH0esag_A" name="execute" specification="_LKPcsN7IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_LOnmYd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LOnmYt7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LOnmY97IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LOnmZN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                  <language>java</language>
                  <body>String methodId = &quot;GetWarrantyEntitlementOperation.execute()&quot;;&#xD;
		MetricsEntry overallTime = null;&#xD;
		if (metricsHandler != null)&#xD;
			overallTime = metricsHandler.startEntry(methodId);&#xD;
&#xD;
		EsReply esReply = null;&#xD;
		EsReply esReplyFromMIBService = null;&#xD;
		SifException seFromMIBService = null;&#xD;
&#xD;
		try {&#xD;
			/*&#xD;
			 * todo replace this field&#xD;
			 */&#xD;
			snrEnable=Configuration.getInstance().getProperties().getBoolean(EsConstants.SNR_ENABLE);&#xD;
			if(snrEnable) {&#xD;
				/*&#xD;
				 * Only work if the operation was bysn or warranty&#xD;
				 * does not work for getentbypn&#xD;
				 */&#xD;
				if (EsConstants.GET_WAR_ENT.equalsIgnoreCase(context.getOriginalOperationName())&#xD;
						|| EsConstants.GET_ENT_BY_SN.equalsIgnoreCase(context.getOriginalOperationName())) {&#xD;
					/* call SNR only when the SN provided in the request*/&#xD;
					if(request != null &amp;&amp; request.getEsRequestComplexTypeChoice() != null &#xD;
							&amp;&amp; request.getEsRequestComplexTypeChoice().getWarrantyRequest() != null &#xD;
							&amp;&amp; request.getEsRequestComplexTypeChoice().getWarrantyRequest().getSerialNumber() != null &#xD;
			    			&amp;&amp; request.getEsRequestComplexTypeChoice().getWarrantyRequest().getSerialNumber().trim().length()>0){&#xD;
						&#xD;
						try {&#xD;
							esReplyFromMIBService = ManufacturingInstalledBaseServiceOrchestraction.getInstance().execute(request, context, metricsHandler);&#xD;
							/*&#xD;
							 * we'll need to store the unit list &#xD;
							 */&#xD;
							if(esReplyFromMIBService != null &amp;&amp; esReplyFromMIBService.getEsReplyChoice() !=null &amp;&amp; esReplyFromMIBService.getEsReplyChoice().getUnitList() != null) {&#xD;
								ESLog.debug(&quot;SNR have returned a unit list, we keep it for now&quot;);&#xD;
								//return esReplyFromMIBService;&#xD;
							}&#xD;
						}catch (SifException se) {&#xD;
							ESLog.debug(&quot;SNR have returned an exception , we store it for further usage&quot;);&#xD;
							seFromMIBService = se;&#xD;
						}&#xD;
						context.setManufacturingInstalledBaseServicEsReply(esReplyFromMIBService);&#xD;
						context.setManufacturingInstalledBaseServiceSifException(seFromMIBService);&#xD;
	&#xD;
					}&#xD;
				}&#xD;
			}&#xD;
&#xD;
			&#xD;
			esReply = WarrantyOrchestration.getInstance().execute(request,context, metricsHandler);&#xD;
&#xD;
			// Get Cats agreement information (New feature since ES Sirocco&#xD;
			// 10.1.1).&#xD;
			if (EsConstants.GET_WAR_ENT.equalsIgnoreCase(context.getOriginalOperationName())&#xD;
					|| EsConstants.GET_ENT_BY_SN.equalsIgnoreCase(context.getOriginalOperationName())) {&#xD;
				GetCatsAgreementOperation catsOperation = new GetCatsAgreementOperation();&#xD;
				context.setEsReplyOfSwop(esReply);&#xD;
				catsOperation.execute(request, context, metricsHandler);&#xD;
				// Calculate Overall warranty entitlement summary&#xD;
				WarrantyEntitlementComplexType catsWE = context&#xD;
						.getCatsWarrantyEntitlement();&#xD;
				if (catsWE != null&#xD;
						&amp;&amp; EsConstants.GET_WAR_ENT.equalsIgnoreCase(context&#xD;
								.getOriginalOperationName())) {&#xD;
					context.calculateOverallWarrantyEntitlementForCATS(esReply&#xD;
							.getEsReplyChoice().getWarrantyEntitlement());&#xD;
				}&#xD;
			}&#xD;
		} finally {&#xD;
			if (overallTime != null)&#xD;
				overallTime.actionDone();&#xD;
		}&#xD;
		return esReply;&#xD;
	</body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOoNcN7IEeWfkMH0esag_A" name="verifyRequest" specification="_LKQDwN7IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_LOoNcd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LOoNct7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                  <language>java</language>
                  <body>// This cannot be working well as the request need to be cleanup&#xD;
		WarrantyRequest wr = request.getEsRequestComplexTypeChoice()&#xD;
				.getWarrantyRequest();&#xD;
		if (wr == null) {&#xD;
			throw ErrorFactory&#xD;
					.getSifException(ErrorFactory.id120_INVALID_REQUEST,&#xD;
							&quot;The GetWarrantyEntitlement operation requires a Warranty request.&quot;);&#xD;
		}&#xD;
		// We first check ISO country code&#xD;
		checkMandatoryParameter(wr.getIsoCountryCd(), &quot;IsoCountryCd()&quot;,&#xD;
				&quot;The parameter IsoCountryCd is missing in GetWarrantyEntitlementOperation&quot;);&#xD;
&#xD;
		// If there is a proof of purchase date. It needs to be NOT in future.&#xD;
		if (wr.getProofPurchaseDate() != null) {&#xD;
			Date d = wr.getProofPurchaseDate().toDate();&#xD;
			if (d.after(new Date())) {&#xD;
				throw ErrorFactory&#xD;
						.getSifException(&#xD;
								ErrorFactory.id201_PARAMETER_HAS_INVALID_DATA,&#xD;
								&quot;The parameter ProofOfPurchaseDate must NOT be a date in future.&quot;);&#xD;
			}&#xD;
&#xD;
		}&#xD;
&#xD;
		// If we have a spare part number we must have ProofPurchaseDate, unit&#xD;
		// Serial Number or DateCode is required&#xD;
		if (wr.getSparePartNumber() != null&#xD;
				&amp;&amp; wr.getSparePartNumber().trim().length() > 0) {&#xD;
			if (wr.getProofPurchaseDate() == null&#xD;
					&amp;&amp; (wr.getSerialNumber() == null || wr.getSerialNumber()&#xD;
							.trim().length() == 0)&#xD;
					&amp;&amp; (wr.getDateCode() == null || wr.getDateCode().trim()&#xD;
							.length() == 0)) {&#xD;
				throw ErrorFactory&#xD;
						.getSifException(ErrorFactory.id200_MISSING_PARAMETER,&#xD;
								&quot;SparePartNumber requires proof of Purchase Date or serial number or date code&quot;);&#xD;
			}&#xD;
		}&#xD;
&#xD;
		// If we have a spare part number we must have ProofPurchaseDate, unit&#xD;
		// Serial Number or DateCode is required&#xD;
		if ((wr.getSparePartNumber() == null || wr.getSparePartNumber().trim()&#xD;
				.length() == 0)&#xD;
				&amp;&amp; (wr.getSerialNumber() == null || wr.getSerialNumber().trim()&#xD;
						.length() == 0)&#xD;
				&amp;&amp; (wr.getProductID() == null || wr.getProductID().trim()&#xD;
						.length() == 0)) {&#xD;
			throw ErrorFactory&#xD;
					.getSifException(&#xD;
							ErrorFactory.id200_MISSING_PARAMETER,&#xD;
							&quot;Warranty entitlement requires SparePartNumber, proof Of Purchase Date or serial number or date code&quot;);&#xD;
		}&#xD;
		int minLength = Configuration.getInstance().getProperties()&#xD;
				.getIntegerProperty(EsConstants.ES_SN_MINLENGTH);&#xD;
&#xD;
		SerialNumberValidator.verifySerialNumberLessThan(wr.getSerialNumber(),&#xD;
				minLength);&#xD;
		SerialNumberValidator.verifyInvalidSerialNumber(wr&#xD;
				.getSerialNumber());&#xD;
		SerialNumberValidator.verifyInvalidSerialNumberPrefix(wr&#xD;
				.getSerialNumber());&#xD;
		SerialNumberValidator.verifyInvalidSerialNumberSuffix(wr.getSerialNumber());&#xD;
		if( (wr.getProductID()!=null) &amp;&amp; (wr.getProductID().trim().length()!=0)){&#xD;
			int maximum=Configuration.getInstance().getProperties().getIntegerProperty(EsConstants.ES_PN_MAXLENGTH,20);&#xD;
			ProductNumberValidator.verifyProductNumberGreaterThan(wr.getProductID(), maximum);&#xD;
		}&#xD;
	</body>
                </ownedBehavior>
                <ownedOperation xmi:id="_K4tAwN7IEeWfkMH0esag_A" name="GetWarrantyEntitlementOperation">
                  <eAnnotations xmi:id="_K4tAwd7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_K4tAwt7IEeWfkMH0esag_A" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_K4uO4N7IEeWfkMH0esag_A" type="_K4qkgN7IEeWfkMH0esag_A" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_K4wrIN7IEeWfkMH0esag_A" name="init" visibility="protected"/>
                <ownedOperation xmi:id="_LKPcsN7IEeWfkMH0esag_A" name="execute" visibility="protected" method="_LOnmYN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                  <ownedComment xmi:id="_LQYg8N7IEeWfkMH0esag_A">
                    <body>This method has to be imeplemented by the sub classes. It processes the&#xD;
	 * the requests and return an EsReply, which is sent back to the client.&#xD;
	 * &#xD;
	 * @param request&#xD;
	 *            the request that was sent from the client&#xD;
	 * @param metricsHandler&#xD;
	 * @throws SifException&#xD;
	 *             Thrown when the request couldn't be processed successfully.&#xD;
	 * @return EsReply the reply that can be sent back to the client</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_LKPcsd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LKPcst7IEeWfkMH0esag_A" name="context" type="_LFzBkd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LKPcs97IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LKPctN7IEeWfkMH0esag_A" type="_LF36Ed7IEeWfkMH0esag_A" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_LKQDwN7IEeWfkMH0esag_A" name="verifyRequest" visibility="protected" method="_LOoNcN7IEeWfkMH0esag_A" raisedException="_LGC5Md7IEeWfkMH0esag_A">
                  <ownedComment xmi:id="_LQYg8d7IEeWfkMH0esag_A">
                    <body>This method is automatically called before the execute() is called. It&#xD;
	 * should validate if all input parameter are meaningful and complete. When&#xD;
	 * this method doesn't throw an exception, the execute() method should be&#xD;
	 * able to process the request.&#xD;
	 * &#xD;
	 * @param request&#xD;
	 *            the request that was sent from the client&#xD;
	 * @param metricsHandler&#xD;
	 * @throws SifException&#xD;
	 *             when the parameter of the request are not complete or not&#xD;
	 *             meaningful, i.e. when the request cannot be handled by the&#xD;
	 *             operation</body>
                  </ownedComment>
                  <ownedParameter xmi:id="_LKQDwd7IEeWfkMH0esag_A" name="request" type="_LF5IMd7IEeWfkMH0esag_A"/>
                  <ownedParameter xmi:id="_LKQq0N7IEeWfkMH0esag_A" name="metricsHandler" type="_LGBrEd7IEeWfkMH0esag_A"/>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_K49fcN7IEeWfkMH0esag_A" name="WorkingType">
                <ownedAttribute xmi:id="_LMjw4N7IEeWfkMH0esag_A" name="workingName" visibility="package">
                  <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMkX8N7IEeWfkMH0esag_A" value="null"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMk_AN7IEeWfkMH0esag_A" name="pmHP_BASE_WARRANTY_SOURCE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRTuAN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMk_Ad7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Base Warranty Source&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMlmEN7IEeWfkMH0esag_A" name="pmHP_BASE_WARRANTY_CODE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRUVEd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMlmEd7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Base Warranty Code&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMlmEt7IEeWfkMH0esag_A" name="KNIGHT_BASE_WARRANTY_TIER" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRVjMN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMlmE97IEeWfkMH0esag_A" value="new WorkingType(&quot;KNIGHT Base Warranty Tier&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMmNIN7IEeWfkMH0esag_A" name="KNIGHT_WARRANTY_START_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRWKQd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMmNId7IEeWfkMH0esag_A" value="new WorkingType(&quot;KNIGHT Warranty Start Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMmNIt7IEeWfkMH0esag_A" name="KNIGHT_WARRANTY_END_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRWxUd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMm0MN7IEeWfkMH0esag_A" value="new WorkingType(&quot;KNIGHT Warranty End Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMm0Md7IEeWfkMH0esag_A" name="pmHP_WARRANTY_START_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRXYYd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMm0Mt7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Warranty Start Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMm0M97IEeWfkMH0esag_A" name="pmHP_WARRANTY_END_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRX_cd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMnbQN7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Warranty End Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMnbQd7IEeWfkMH0esag_A" name="KNIGHT_START_DATE_TYPE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRZNkd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMnbQt7IEeWfkMH0esag_A" value="new WorkingType(&quot;KNIGHT Start Date Type&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMnbQ97IEeWfkMH0esag_A" name="pmHP_START_DATE_TYPE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRZ0od7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMoCUN7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Start Date Type&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMoCUd7IEeWfkMH0esag_A" name="KNIGHT_POP_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRbCwd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMoCUt7IEeWfkMH0esag_A" value="new WorkingType(&quot;KNIGHT pop_date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMopYN7IEeWfkMH0esag_A" name="SWAT_FACTORY_RESTART_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRcQ4N7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMopYd7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT Factory Restart Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMopYt7IEeWfkMH0esag_A" name="SWAT_INSTALL_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRc38d7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMopY97IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT Install Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMpQcN7IEeWfkMH0esag_A" name="SWAT_BORN_ON_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRdfAd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMpQcd7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT Born On Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMp3gN7IEeWfkMH0esag_A" name="SWAT_POP_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LReGEd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMp3gd7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT POP Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMp3gt7IEeWfkMH0esag_A" name="SWAT_DEALER_SOLD_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRetId7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMqekN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT Dealer Sold Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMqekd7IEeWfkMH0esag_A" name="SWAT_REGISTRATION_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRf7QN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMrFoN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT Registration Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMrFod7IEeWfkMH0esag_A" name="SWAT_ORIGINAL_SHIP_DATE" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRgiUd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMrssN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT Original Ship Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMrssd7IEeWfkMH0esag_A" name="pmHP_GRACE_PERIOD" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRhJYd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMrsst7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Grace Period&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMrss97IEeWfkMH0esag_A" name="KNIGHT_GRACE_PERIOD" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRhwcd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMsTwN7IEeWfkMH0esag_A" value="new WorkingType(&quot;KNIGHT Grace Period&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMsTwd7IEeWfkMH0esag_A" name="SWAT_STATUS" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRi-kN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMs60N7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT Status&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMs60d7IEeWfkMH0esag_A" name="KNIGHT_STATUS" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRjloN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMth4N7IEeWfkMH0esag_A" value="new WorkingType(&quot;KNIGHT Status&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMth4d7IEeWfkMH0esag_A" name="pmHP_STATUS" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRkMsd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMth4t7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Status&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMth497IEeWfkMH0esag_A" name="SWAT_UNIT_LIST_RETURNED" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRkzwd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMuI8N7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWAT Unit List Returned&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMuI8d7IEeWfkMH0esag_A" name="KNIGHT_UNIT_LIST_RETURNED" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRla0d7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMuI8t7IEeWfkMH0esag_A" value="new WorkingType(&quot;KNIGHT Unit List Returned&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMuwAN7IEeWfkMH0esag_A" name="pmHP_UNIT_LIST_RETURNED" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRmB4d7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMuwAd7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Unit List Returned&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMuwAt7IEeWfkMH0esag_A" name="pmHP_ORIGINAL_PRODUCT" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRnQAN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMuwA97IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Original Product&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMvXEN7IEeWfkMH0esag_A" name="pmHP_PRODUCT_ALIAS" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRn3Ed7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMvXEd7IEeWfkMH0esag_A" value="new WorkingType(&quot;pmHP Product Alias&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMvXEt7IEeWfkMH0esag_A" name="SWOP_Warranty_ID" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRpFMN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMvXE97IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Warranty ID&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMv-IN7IEeWfkMH0esag_A" name="SWOP_Warranty_Start_Date" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRpsQd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMv-Id7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Warranty Start Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMv-It7IEeWfkMH0esag_A" name="SWOP_Grace_Period" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRqTUd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMwlMN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Grace Period&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMwlMd7IEeWfkMH0esag_A" name="SWOP_Proof_Of_Purchase_Date" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRrhcd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMwlMt7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Proof Of Purchase Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMwlM97IEeWfkMH0esag_A" name="SWOP_Shipment_Date" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRsvkN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMxMQN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Shipment Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMxMQd7IEeWfkMH0esag_A" name="SWOP_Dealer_Sold_Date" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRtWod7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMxMQt7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Dealer Sold Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMxMQ97IEeWfkMH0esag_A" name="SWOP_Installation_Date" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRukwN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMxzUN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Installation Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMxzUd7IEeWfkMH0esag_A" name="SWOP_Registration_Date" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRvL0d7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMxzUt7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Registration Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMxzU97IEeWfkMH0esag_A" name="SWOP_Born_On_Date" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRvy4d7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMyaYN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Born On Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMyaYd7IEeWfkMH0esag_A" name="SWOP_Factory_Restart_Date" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRxBAN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMyaYt7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Factory Restart Date&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMzBcN7IEeWfkMH0esag_A" name="SWOP_Start_Date_Type" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRxoEd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMzBcd7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Start Date Type&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMzBct7IEeWfkMH0esag_A" name="SWOP_Status" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRy2MN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMzogN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Status&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMzogd7IEeWfkMH0esag_A" name="SWOP_Original_Product" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LRzdQd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LMzogt7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Original Product&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LMzog97IEeWfkMH0esag_A" name="SWOP_Product_Alias" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LR0rYN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LM0PkN7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Product Alias&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LM0Pkd7IEeWfkMH0esag_A" name="SWOP_Unit_List_Returned" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LR1Scd7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LM0Pkt7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Unit List Returned&quot;)"/>
                </ownedAttribute>
                <ownedAttribute xmi:id="_LM02oN7IEeWfkMH0esag_A" name="SWOP_Product_Base_Warranty" isLeaf="true" isStatic="true" type="_K49fcN7IEeWfkMH0esag_A" isReadOnly="true" association="_LR2gkN7IEeWfkMH0esag_A">
                  <defaultValue xmi:type="uml:LiteralString" xmi:id="_LM02od7IEeWfkMH0esag_A" value="new WorkingType(&quot;SWOP Product Base Warranty&quot;)"/>
                </ownedAttribute>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOpbkN7IEeWfkMH0esag_A" name="WorkingType" specification="_K5JssN7IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_LOpbkd7IEeWfkMH0esag_A" name="workingName">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_LOpbkt7IEeWfkMH0esag_A" type="_K49fcN7IEeWfkMH0esag_A" direction="return"/>
                  <language>java</language>
                  <body>this.workingName = workingName;&#xD;
 </body>
                </ownedBehavior>
                <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_LOpbk97IEeWfkMH0esag_A" name="toString" specification="_K5KTwt7IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_LOpblN7IEeWfkMH0esag_A" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <language>java</language>
                  <body>return workingName;&#xD;
 </body>
                </ownedBehavior>
                <ownedOperation xmi:id="_K5JssN7IEeWfkMH0esag_A" name="WorkingType" method="_LOpbkN7IEeWfkMH0esag_A">
                  <eAnnotations xmi:id="_K5Jsst7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
                    <details xmi:id="_K5KTwN7IEeWfkMH0esag_A" key="create"/>
                  </eAnnotations>
                  <ownedParameter xmi:id="_K5Jssd7IEeWfkMH0esag_A" name="workingName">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                  <ownedParameter xmi:id="_K5KTwd7IEeWfkMH0esag_A" type="_K49fcN7IEeWfkMH0esag_A" direction="return"/>
                </ownedOperation>
                <ownedOperation xmi:id="_K5KTwt7IEeWfkMH0esag_A" name="toString" method="_LOpbk97IEeWfkMH0esag_A">
                  <ownedParameter xmi:id="_K5K60N7IEeWfkMH0esag_A" direction="return">
                    <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
                  </ownedParameter>
                </ownedOperation>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRTuAN7IEeWfkMH0esag_A" name="" memberEnd="_LRTuAd7IEeWfkMH0esag_A _LMk_AN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRTuAd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRTuAN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRUVEd7IEeWfkMH0esag_A" name="" memberEnd="_LRUVEt7IEeWfkMH0esag_A _LMlmEN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRUVEt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRUVEd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRVjMN7IEeWfkMH0esag_A" name="" memberEnd="_LRVjMd7IEeWfkMH0esag_A _LMlmEt7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRVjMd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRVjMN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRWKQd7IEeWfkMH0esag_A" name="" memberEnd="_LRWKQt7IEeWfkMH0esag_A _LMmNIN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRWKQt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRWKQd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRWxUd7IEeWfkMH0esag_A" name="" memberEnd="_LRWxUt7IEeWfkMH0esag_A _LMmNIt7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRWxUt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRWxUd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRXYYd7IEeWfkMH0esag_A" name="" memberEnd="_LRXYYt7IEeWfkMH0esag_A _LMm0Md7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRXYYt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRXYYd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRX_cd7IEeWfkMH0esag_A" name="" memberEnd="_LRX_ct7IEeWfkMH0esag_A _LMm0M97IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRX_ct7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRX_cd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRZNkd7IEeWfkMH0esag_A" name="" memberEnd="_LRZNkt7IEeWfkMH0esag_A _LMnbQd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRZNkt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRZNkd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRZ0od7IEeWfkMH0esag_A" name="" memberEnd="_LRZ0ot7IEeWfkMH0esag_A _LMnbQ97IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRZ0ot7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRZ0od7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRbCwd7IEeWfkMH0esag_A" name="" memberEnd="_LRbCwt7IEeWfkMH0esag_A _LMoCUd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRbCwt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRbCwd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRcQ4N7IEeWfkMH0esag_A" name="" memberEnd="_LRcQ4d7IEeWfkMH0esag_A _LMopYN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRcQ4d7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRcQ4N7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRc38d7IEeWfkMH0esag_A" name="" memberEnd="_LRc38t7IEeWfkMH0esag_A _LMopYt7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRc38t7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRc38d7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRdfAd7IEeWfkMH0esag_A" name="" memberEnd="_LRdfAt7IEeWfkMH0esag_A _LMpQcN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRdfAt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRdfAd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LReGEd7IEeWfkMH0esag_A" name="" memberEnd="_LReGEt7IEeWfkMH0esag_A _LMp3gN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LReGEt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LReGEd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRetId7IEeWfkMH0esag_A" name="" memberEnd="_LRetIt7IEeWfkMH0esag_A _LMp3gt7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRetIt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRetId7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRf7QN7IEeWfkMH0esag_A" name="" memberEnd="_LRf7Qd7IEeWfkMH0esag_A _LMqekd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRf7Qd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRf7QN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRgiUd7IEeWfkMH0esag_A" name="" memberEnd="_LRgiUt7IEeWfkMH0esag_A _LMrFod7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRgiUt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRgiUd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRhJYd7IEeWfkMH0esag_A" name="" memberEnd="_LRhJYt7IEeWfkMH0esag_A _LMrssd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRhJYt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRhJYd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRhwcd7IEeWfkMH0esag_A" name="" memberEnd="_LRhwct7IEeWfkMH0esag_A _LMrss97IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRhwct7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRhwcd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRi-kN7IEeWfkMH0esag_A" name="" memberEnd="_LRi-kd7IEeWfkMH0esag_A _LMsTwd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRi-kd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRi-kN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRjloN7IEeWfkMH0esag_A" name="" memberEnd="_LRjlod7IEeWfkMH0esag_A _LMs60d7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRjlod7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRjloN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRkMsd7IEeWfkMH0esag_A" name="" memberEnd="_LRkMst7IEeWfkMH0esag_A _LMth4d7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRkMst7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRkMsd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRkzwd7IEeWfkMH0esag_A" name="" memberEnd="_LRkzwt7IEeWfkMH0esag_A _LMth497IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRkzwt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRkzwd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRla0d7IEeWfkMH0esag_A" name="" memberEnd="_LRla0t7IEeWfkMH0esag_A _LMuI8d7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRla0t7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRla0d7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRmB4d7IEeWfkMH0esag_A" name="" memberEnd="_LRmB4t7IEeWfkMH0esag_A _LMuwAN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRmB4t7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRmB4d7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRnQAN7IEeWfkMH0esag_A" name="" memberEnd="_LRnQAd7IEeWfkMH0esag_A _LMuwAt7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRnQAd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRnQAN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRn3Ed7IEeWfkMH0esag_A" name="" memberEnd="_LRn3Et7IEeWfkMH0esag_A _LMvXEN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRn3Et7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRn3Ed7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRpFMN7IEeWfkMH0esag_A" name="" memberEnd="_LRpFMd7IEeWfkMH0esag_A _LMvXEt7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRpFMd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRpFMN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRpsQd7IEeWfkMH0esag_A" name="" memberEnd="_LRpsQt7IEeWfkMH0esag_A _LMv-IN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRpsQt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRpsQd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRqTUd7IEeWfkMH0esag_A" name="" memberEnd="_LRqTUt7IEeWfkMH0esag_A _LMv-It7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRqTUt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRqTUd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRrhcd7IEeWfkMH0esag_A" name="" memberEnd="_LRrhct7IEeWfkMH0esag_A _LMwlMd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRrhct7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRrhcd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRsvkN7IEeWfkMH0esag_A" name="" memberEnd="_LRsvkd7IEeWfkMH0esag_A _LMwlM97IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRsvkd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRsvkN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRtWod7IEeWfkMH0esag_A" name="" memberEnd="_LRtWot7IEeWfkMH0esag_A _LMxMQd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRtWot7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRtWod7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRukwN7IEeWfkMH0esag_A" name="" memberEnd="_LRukwd7IEeWfkMH0esag_A _LMxMQ97IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRukwd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRukwN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRvL0d7IEeWfkMH0esag_A" name="" memberEnd="_LRvL0t7IEeWfkMH0esag_A _LMxzUd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRvL0t7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRvL0d7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRvy4d7IEeWfkMH0esag_A" name="" memberEnd="_LRvy4t7IEeWfkMH0esag_A _LMxzU97IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRvy4t7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRvy4d7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRxBAN7IEeWfkMH0esag_A" name="" memberEnd="_LRxBAd7IEeWfkMH0esag_A _LMyaYd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRxBAd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRxBAN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRxoEd7IEeWfkMH0esag_A" name="" memberEnd="_LRxoEt7IEeWfkMH0esag_A _LMzBcN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRxoEt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRxoEd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRy2MN7IEeWfkMH0esag_A" name="" memberEnd="_LRy2Md7IEeWfkMH0esag_A _LMzBct7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRy2Md7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRy2MN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LRzdQd7IEeWfkMH0esag_A" name="" memberEnd="_LRzdQt7IEeWfkMH0esag_A _LMzogd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LRzdQt7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LRzdQd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LR0rYN7IEeWfkMH0esag_A" name="" memberEnd="_LR0rYd7IEeWfkMH0esag_A _LMzog97IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LR0rYd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LR0rYN7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LR1Scd7IEeWfkMH0esag_A" name="" memberEnd="_LR1Sct7IEeWfkMH0esag_A _LM0Pkd7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LR1Sct7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LR1Scd7IEeWfkMH0esag_A"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Association" xmi:id="_LR2gkN7IEeWfkMH0esag_A" name="" memberEnd="_LR2gkd7IEeWfkMH0esag_A _LM02oN7IEeWfkMH0esag_A">
                <ownedEnd xmi:id="_LR2gkd7IEeWfkMH0esag_A" name="" type="_K49fcN7IEeWfkMH0esag_A" association="_LR2gkN7IEeWfkMH0esag_A"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_KoGY8N7IEeWfkMH0esag_A" name="catsAgreement">
              <packagedElement xmi:type="uml:Class" xmi:id="_LGHKoN7IEeWfkMH0esag_A" name="GetCatsAgreementOperation"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_KoHAAN7IEeWfkMH0esag_A" name="manufacturingHeaderInformation">
              <packagedElement xmi:type="uml:Package" xmi:id="_KoHAAd7IEeWfkMH0esag_A" name="orchestration">
                <packagedElement xmi:type="uml:Class" xmi:id="_LGIYwd7IEeWfkMH0esag_A" name="ManufacturingInstalledBaseServiceOrchestraction"/>
              </packagedElement>
            </packagedElement>
            <packagedElement xmi:type="uml:Package" xmi:id="_Ko8tgN7IEeWfkMH0esag_A" name="orchestration">
              <packagedElement xmi:type="uml:Class" xmi:id="_LGVNEN7IEeWfkMH0esag_A" name="Transaction"/>
              <packagedElement xmi:type="uml:Package" xmi:id="_Ko9UkN7IEeWfkMH0esag_A" name="sap">
                <packagedElement xmi:type="uml:Class" xmi:id="_LGWbMd7IEeWfkMH0esag_A" name="RegionFactory"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_LGiBYd7IEeWfkMH0esag_A" name="Region"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_LGjPgd7IEeWfkMH0esag_A" name="RegionConfiguration"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_LJi5IN7IEeWfkMH0esag_A" name="SapSOAPReply"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_LGgzQN7IEeWfkMH0esag_A" name="ErrorTransaction"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LJPXIN7IEeWfkMH0esag_A" name="OrchestrationWorker"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LJP-Md7IEeWfkMH0esag_A" name="SourceSystemsOrchestration"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LJa9UN7IEeWfkMH0esag_A" name="ErrorsProcessing"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LJo_wN7IEeWfkMH0esag_A" name="TransactionComposition"/>
            </packagedElement>
            <packagedElement xmi:type="uml:Class" xmi:id="_LFtiAd7IEeWfkMH0esag_A" name="SerialNumberValidator"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_LGflIN7IEeWfkMH0esag_A" name="IntegrationInterface"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_KnriMt7IEeWfkMH0esag_A" name="constants">
            <packagedElement xmi:type="uml:Class" xmi:id="_LFqesd7IEeWfkMH0esag_A" name="EsConstants"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_KnswUN7IEeWfkMH0esag_A" name="xml">
            <packagedElement xmi:type="uml:Package" xmi:id="_KnswUd7IEeWfkMH0esag_A" name="service">
              <packagedElement xmi:type="uml:Class" xmi:id="_LF36Ed7IEeWfkMH0esag_A" name="EsReply"/>
              <packagedElement xmi:type="uml:Package" xmi:id="_KnswUt7IEeWfkMH0esag_A" name="types">
                <packagedElement xmi:type="uml:Class" xmi:id="_LGAc8d7IEeWfkMH0esag_A" name="StatusType"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_LHcAUN7IEeWfkMH0esag_A" name="WarrantyTypeType"/>
                <packagedElement xmi:type="uml:Class" xmi:id="_LIGHoN7IEeWfkMH0esag_A" name="PortfolioFlagType"/>
              </packagedElement>
              <packagedElement xmi:type="uml:Class" xmi:id="_LF5IMd7IEeWfkMH0esag_A" name="EsRequestComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LF69YN7IEeWfkMH0esag_A" name="OfferComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LF8LgN7IEeWfkMH0esag_A" name="UnitListComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LF9ZoN7IEeWfkMH0esag_A" name="WarrantyComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LF-Asd7IEeWfkMH0esag_A" name="WarrantyEntitlementComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LF_O0d7IEeWfkMH0esag_A" name="WarrantyRequest"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LGYQYN7IEeWfkMH0esag_A" name="ManufacturingInstalledBaseHeaderType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LGlEsN7IEeWfkMH0esag_A" name="EsReplyChoice"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LGx5AN7IEeWfkMH0esag_A" name="Deliverable"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LG7qAN7IEeWfkMH0esag_A" name="LocationComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LHPzEN7IEeWfkMH0esag_A" name="ModifierComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LHZkEd7IEeWfkMH0esag_A" name="AppliesTo"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LHayMd7IEeWfkMH0esag_A" name="OOSComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LHlKQN7IEeWfkMH0esag_A" name="PartListComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LHrQ4N7IEeWfkMH0esag_A" name="ProductComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LHylod7IEeWfkMH0esag_A" name="Part"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LH7Igd7IEeWfkMH0esag_A" name="EIAError"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LIMOQN7IEeWfkMH0esag_A" name="WorkingComplexType"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LIo6MN7IEeWfkMH0esag_A" name="Warnings"/>
              <packagedElement xmi:type="uml:Class" xmi:id="_LI1ugN7IEeWfkMH0esag_A" name="EsHeader"/>
            </packagedElement>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_KntXYN7IEeWfkMH0esag_A" name="ruc">
          <packagedElement xmi:type="uml:Package" xmi:id="_KntXYd7IEeWfkMH0esag_A" name="metrics">
            <packagedElement xmi:type="uml:Class" xmi:id="_LGBrEd7IEeWfkMH0esag_A" name="MetricsHandler"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_LGJm4d7IEeWfkMH0esag_A" name="MetricsEntry"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Package" xmi:id="_KyN-QN7IEeWfkMH0esag_A" name="config">
            <packagedElement xmi:type="uml:Class" xmi:id="_LJDw8N7IEeWfkMH0esag_A" name="ConfigChangeEvent"/>
            <packagedElement xmi:type="uml:Interface" xmi:id="_LJEYAd7IEeWfkMH0esag_A" name="ConfigChangeListener"/>
            <packagedElement xmi:type="uml:Class" xmi:id="_LJE_EN7IEeWfkMH0esag_A" name="ReadOnlyProperties"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_KntXYt7IEeWfkMH0esag_A" name="sif">
          <packagedElement xmi:type="uml:Class" xmi:id="_LGC5Md7IEeWfkMH0esag_A" name="SifException"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_KnriMN7IEeWfkMH0esag_A" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_KnriMd7IEeWfkMH0esag_A" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_LFpQkN7IEeWfkMH0esag_A" name="Date"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LGdv8N7IEeWfkMH0esag_A" name="ArrayList"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LGwq4N7IEeWfkMH0esag_A" name="Collection"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LG0VQN7IEeWfkMH0esag_A" name="Iterator"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LHUEgN7IEeWfkMH0esag_A" name="List"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LH1B4N7IEeWfkMH0esag_A" name="TreeMap"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LIAoEN7IEeWfkMH0esag_A" name="HashMap"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LI6nAN7IEeWfkMH0esag_A" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LJnxoN7IEeWfkMH0esag_A" name="HashSet"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_Krx_EN7IEeWfkMH0esag_A" name="org">
      <packagedElement xmi:type="uml:Package" xmi:id="_Krx_Ed7IEeWfkMH0esag_A" name="exolab">
        <packagedElement xmi:type="uml:Package" xmi:id="_Krx_Et7IEeWfkMH0esag_A" name="castor">
          <packagedElement xmi:type="uml:Package" xmi:id="_Krx_E97IEeWfkMH0esag_A" name="types">
            <packagedElement xmi:type="uml:Class" xmi:id="_LHVSod7IEeWfkMH0esag_A" name="Date"/>
          </packagedElement>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_KyqqMN7IEeWfkMH0esag_A" name="junit">
        <packagedElement xmi:type="uml:Class" xmi:id="_LJICYN7IEeWfkMH0esag_A" name="Assert"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_KyqqMd7IEeWfkMH0esag_A" name="junit">
      <packagedElement xmi:type="uml:Package" xmi:id="_KyrRQN7IEeWfkMH0esag_A" name="framework">
        <packagedElement xmi:type="uml:Class" xmi:id="_LJIpcd7IEeWfkMH0esag_A" name="Test"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LJJQgd7IEeWfkMH0esag_A" name="TestCase"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_LJJ3kd7IEeWfkMH0esag_A" name="TestSuite"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_K4e-Ud7IEeWfkMH0esag_A">
      <eAnnotations xmi:id="_K4e-Ut7IEeWfkMH0esag_A" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:LegacyStyledElement xmi:id="_K4jPwN7IEeWfkMH0esag_A" base_Element="_K4iosN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_K4tn0N7IEeWfkMH0esag_A" base_Element="_K4tAwN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_K4xSMN7IEeWfkMH0esag_A" base_Element="_K4wrIN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K7DKId7IEeWfkMH0esag_A" base_Element="_K7CjEN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K7hEMt7IEeWfkMH0esag_A" base_Element="_K7gdIN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K7vtst7IEeWfkMH0esag_A" base_Element="_K7vGoN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K8DPst7IEeWfkMH0esag_A" base_Element="_K8CooN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K8QrEd7IEeWfkMH0esag_A" base_Element="_K8Pc8N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K8f7oN7IEeWfkMH0esag_A" base_Element="_K8etgN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K9y8IN7IEeWfkMH0esag_A" base_Element="_K9yVEN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K94bsd7IEeWfkMH0esag_A" base_Element="_K930oN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K9_JYd7IEeWfkMH0esag_A" base_Element="_K9-iUN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_K-I6YN7IEeWfkMH0esag_A" base_Element="_K-HsQN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_LATdkN7IEeWfkMH0esag_A" base_Element="_LASPcN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_LAfq0t7IEeWfkMH0esag_A" base_Element="_LAfDwN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LCen0N7IEeWfkMH0esag_A" base_Element="_LCeAwd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Annotations xmi:id="_LCfO4N7IEeWfkMH0esag_A" base_Element="_LCeAwd7IEeWfkMH0esag_A">
    <annotations xmi:id="_LCfO4d7IEeWfkMH0esag_A" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_LFqesN7IEeWfkMH0esag_A" base_Element="_LFpQkN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LFrs0N7IEeWfkMH0esag_A" base_Element="_LFqesd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LFtiAN7IEeWfkMH0esag_A" base_Element="_LFsT4N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LFuwIN7IEeWfkMH0esag_A" base_Element="_LFtiAd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LFxMYN7IEeWfkMH0esag_A" base_Element="_LFuwId7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LFzBkN7IEeWfkMH0esag_A" base_Element="_LFxMYd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF0PsN7IEeWfkMH0esag_A" base_Element="_LFzBkd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF02wN7IEeWfkMH0esag_A" base_Element="_LF0Psd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF2E4N7IEeWfkMH0esag_A" base_Element="_LF1d0N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF36EN7IEeWfkMH0esag_A" base_Element="_LF2r8N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF5IMN7IEeWfkMH0esag_A" base_Element="_LF36Ed7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF6WUN7IEeWfkMH0esag_A" base_Element="_LF5IMd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF7kcN7IEeWfkMH0esag_A" base_Element="_LF69YN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF8ykN7IEeWfkMH0esag_A" base_Element="_LF8LgN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF-AsN7IEeWfkMH0esag_A" base_Element="_LF9ZoN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LF_O0N7IEeWfkMH0esag_A" base_Element="_LF-Asd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGAc8N7IEeWfkMH0esag_A" base_Element="_LF_O0d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGBrEN7IEeWfkMH0esag_A" base_Element="_LGAc8d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGC5MN7IEeWfkMH0esag_A" base_Element="_LGBrEd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGDgQN7IEeWfkMH0esag_A" base_Element="_LGC5Md7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGIYwN7IEeWfkMH0esag_A" base_Element="_LGHKoN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGJm4N7IEeWfkMH0esag_A" base_Element="_LGIYwd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGKN8N7IEeWfkMH0esag_A" base_Element="_LGJm4d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGWbMN7IEeWfkMH0esag_A" base_Element="_LGVNEN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGXpUN7IEeWfkMH0esag_A" base_Element="_LGWbMd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGY3cN7IEeWfkMH0esag_A" base_Element="_LGYQYN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGe-EN7IEeWfkMH0esag_A" base_Element="_LGdv8N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGgMMN7IEeWfkMH0esag_A" base_Element="_LGflIN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGiBYN7IEeWfkMH0esag_A" base_Element="_LGgzQN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGjPgN7IEeWfkMH0esag_A" base_Element="_LGiBYd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGj2kN7IEeWfkMH0esag_A" base_Element="_LGjPgd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGkdoN7IEeWfkMH0esag_A" base_Element="_LGj2kd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGlrwN7IEeWfkMH0esag_A" base_Element="_LGlEsN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGxR8N7IEeWfkMH0esag_A" base_Element="_LGwq4N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LGygEN7IEeWfkMH0esag_A" base_Element="_LGx5AN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LG08UN7IEeWfkMH0esag_A" base_Element="_LG0VQN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LG7C8N7IEeWfkMH0esag_A" base_Element="_LG500N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LG8REN7IEeWfkMH0esag_A" base_Element="_LG7qAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LG_7cN7IEeWfkMH0esag_A" base_Element="_LG_UYN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHAigN7IEeWfkMH0esag_A" base_Element="_LG_7cd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHDl0N7IEeWfkMH0esag_A" base_Element="_LHC-wN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHH3QN7IEeWfkMH0esag_A" base_Element="_LHHQMN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHJFYN7IEeWfkMH0esag_A" base_Element="_LHH3Qd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHKTgN7IEeWfkMH0esag_A" base_Element="_LHJFYd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHPMAN7IEeWfkMH0esag_A" base_Element="_LHN94N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHQaIN7IEeWfkMH0esag_A" base_Element="_LHPzEN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHVSoN7IEeWfkMH0esag_A" base_Element="_LHUEgN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHXH0N7IEeWfkMH0esag_A" base_Element="_LHVSod7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHYV8N7IEeWfkMH0esag_A" base_Element="_LHXH0d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHZkEN7IEeWfkMH0esag_A" base_Element="_LHYV8d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHayMN7IEeWfkMH0esag_A" base_Element="_LHZkEd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHbZQN7IEeWfkMH0esag_A" base_Element="_LHayMd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHcnYN7IEeWfkMH0esag_A" base_Element="_LHcAUN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHj8IN7IEeWfkMH0esag_A" base_Element="_LHiuAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHkjMN7IEeWfkMH0esag_A" base_Element="_LHj8Id7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHlxUN7IEeWfkMH0esag_A" base_Element="_LHlKQN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHqp0N7IEeWfkMH0esag_A" base_Element="_LHqCwN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHr38N7IEeWfkMH0esag_A" base_Element="_LHrQ4N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHu7QN7IEeWfkMH0esag_A" base_Element="_LHuUMN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHviUN7IEeWfkMH0esag_A" base_Element="_LHu7Qd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHyloN7IEeWfkMH0esag_A" base_Element="_LHx-kN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LHzMsN7IEeWfkMH0esag_A" base_Element="_LHylod7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LH1o8N7IEeWfkMH0esag_A" base_Element="_LH1B4N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LH2QAN7IEeWfkMH0esag_A" base_Element="_LH1o8d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LH23EN7IEeWfkMH0esag_A" base_Element="_LH2QAd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LH7IgN7IEeWfkMH0esag_A" base_Element="_LH6hcN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LH8WoN7IEeWfkMH0esag_A" base_Element="_LH7Igd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LIB2MN7IEeWfkMH0esag_A" base_Element="_LIAoEN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LIGusN7IEeWfkMH0esag_A" base_Element="_LIGHoN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LIM1UN7IEeWfkMH0esag_A" base_Element="_LIMOQN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LIphQN7IEeWfkMH0esag_A" base_Element="_LIo6MN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LI2VkN7IEeWfkMH0esag_A" base_Element="_LI1ugN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LI7OEN7IEeWfkMH0esag_A" base_Element="_LI6nAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJEYAN7IEeWfkMH0esag_A" base_Element="_LJDw8N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJEYAt7IEeWfkMH0esag_A" base_Element="_LJEYAd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJE_Ed7IEeWfkMH0esag_A" base_Element="_LJE_EN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJIpcN7IEeWfkMH0esag_A" base_Element="_LJICYN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJJQgN7IEeWfkMH0esag_A" base_Element="_LJIpcd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJJ3kN7IEeWfkMH0esag_A" base_Element="_LJJQgd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJKeoN7IEeWfkMH0esag_A" base_Element="_LJJ3kd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJP-MN7IEeWfkMH0esag_A" base_Element="_LJPXIN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJQlQN7IEeWfkMH0esag_A" base_Element="_LJP-Md7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJcLcN7IEeWfkMH0esag_A" base_Element="_LJa9UN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJjgMN7IEeWfkMH0esag_A" base_Element="_LJi5IN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJkuUN7IEeWfkMH0esag_A" base_Element="_LJkHQN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJl8cN7IEeWfkMH0esag_A" base_Element="_LJlVYN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJoYsN7IEeWfkMH0esag_A" base_Element="_LJnxoN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LJo_wd7IEeWfkMH0esag_A" base_Element="_LJo_wN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LKgicN7IEeWfkMH0esag_A" base_Element="_LKf7YN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LKpsYN7IEeWfkMH0esag_A" base_Element="_LKoeQd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Array xmi:id="_LK6yI97IEeWfkMH0esag_A" base_Element="_LK6LEN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LLI0kN7IEeWfkMH0esag_A" base_Element="_LLINgN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Annotations xmi:id="_LLJboN7IEeWfkMH0esag_A" base_Element="_LLINgN7IEeWfkMH0esag_A">
    <annotations xmi:id="_LLJbod7IEeWfkMH0esag_A" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Generics xmi:id="_LLNtEN7IEeWfkMH0esag_A" genericsValue="String, Date" base_Element="_LLMe8N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LMPAwN7IEeWfkMH0esag_A" base_Element="_LMOZsN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LMiiwN7IEeWfkMH0esag_A" base_Element="_LMhUoN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LMkX8d7IEeWfkMH0esag_A" base_Element="_LMjw4N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM2r0N7IEeWfkMH0esag_A" base_Element="_LM2EwN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM358N7IEeWfkMH0esag_A" base_Element="_LM2r0d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM4hAN7IEeWfkMH0esag_A" base_Element="_LM358d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM5IEN7IEeWfkMH0esag_A" base_Element="_LM4hAd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM6WMd7IEeWfkMH0esag_A" base_Element="_LM6WMN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM69Qd7IEeWfkMH0esag_A" base_Element="_LM69QN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM7kUd7IEeWfkMH0esag_A" base_Element="_LM7kUN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM8LYd7IEeWfkMH0esag_A" base_Element="_LM8LYN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM8ycd7IEeWfkMH0esag_A" base_Element="_LM8ycN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM-Akd7IEeWfkMH0esag_A" base_Element="_LM-AkN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM_OsN7IEeWfkMH0esag_A" base_Element="_LM-noN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM_Ost7IEeWfkMH0esag_A" base_Element="_LM_Osd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LM_1wd7IEeWfkMH0esag_A" base_Element="_LM_1wN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNAc0d7IEeWfkMH0esag_A" base_Element="_LNAc0N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNBD4N7IEeWfkMH0esag_A" base_Element="_LNAc0t7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNBq8d7IEeWfkMH0esag_A" base_Element="_LNBq8N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNCSAd7IEeWfkMH0esag_A" base_Element="_LNCSAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNC5EN7IEeWfkMH0esag_A" base_Element="_LNCSAt7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNEHMN7IEeWfkMH0esag_A" base_Element="_LNDgIN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNEuQd7IEeWfkMH0esag_A" base_Element="_LNEuQN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNF8YN7IEeWfkMH0esag_A" base_Element="_LNFVUN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNHKgN7IEeWfkMH0esag_A" base_Element="_LNF8Yd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNHxkN7IEeWfkMH0esag_A" base_Element="_LNHKgd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNI_sN7IEeWfkMH0esag_A" base_Element="_LNIYoN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNJmwN7IEeWfkMH0esag_A" base_Element="_LNI_sd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNKN0N7IEeWfkMH0esag_A" base_Element="_LNJmwd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNLb8N7IEeWfkMH0esag_A" base_Element="_LNK04N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNMDAN7IEeWfkMH0esag_A" base_Element="_LNLb8d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNMqEd7IEeWfkMH0esag_A" base_Element="_LNMqEN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNNRId7IEeWfkMH0esag_A" base_Element="_LNNRIN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNN4MN7IEeWfkMH0esag_A" base_Element="_LNNRIt7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNOfQN7IEeWfkMH0esag_A" base_Element="_LNN4Md7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNPGUN7IEeWfkMH0esag_A" base_Element="_LNOfQd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNPtYN7IEeWfkMH0esag_A" base_Element="_LNPGUd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNQ7gN7IEeWfkMH0esag_A" base_Element="_LNQUcN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNRikN7IEeWfkMH0esag_A" base_Element="_LNQ7gd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNSJoN7IEeWfkMH0esag_A" base_Element="_LNRikd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNTXwN7IEeWfkMH0esag_A" base_Element="_LNSwsN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNV0AN7IEeWfkMH0esag_A" base_Element="_LNVM8N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNWbEN7IEeWfkMH0esag_A" base_Element="_LNV0Ad7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNXpMN7IEeWfkMH0esag_A" base_Element="_LNXCIN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNYQQN7IEeWfkMH0esag_A" base_Element="_LNXpMd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNY3UN7IEeWfkMH0esag_A" base_Element="_LNYQQd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNbTkN7IEeWfkMH0esag_A" base_Element="_LNasgN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNb6oN7IEeWfkMH0esag_A" base_Element="_LNbTkd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNdIwN7IEeWfkMH0esag_A" base_Element="_LNchsN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNdv0N7IEeWfkMH0esag_A" base_Element="_LNdIwd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNgMEN7IEeWfkMH0esag_A" base_Element="_LNe98N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNhaMN7IEeWfkMH0esag_A" base_Element="_LNgMEd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNioUN7IEeWfkMH0esag_A" base_Element="_LNhaMd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNj2cN7IEeWfkMH0esag_A" base_Element="_LNioUd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNp9EN7IEeWfkMH0esag_A" base_Element="_LNpWAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNtAYN7IEeWfkMH0esag_A" base_Element="_LNsZUN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNuOgN7IEeWfkMH0esag_A" base_Element="_LNtAYd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNwDsN7IEeWfkMH0esag_A" base_Element="_LNu1kN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNxR0N7IEeWfkMH0esag_A" base_Element="_LNwDsd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNyf8N7IEeWfkMH0esag_A" base_Element="_LNx44N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LNzuEd7IEeWfkMH0esag_A" base_Element="_LNzHAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LN1jQN7IEeWfkMH0esag_A" base_Element="_LN0VIN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LN2xYN7IEeWfkMH0esag_A" base_Element="_LN2KUN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LN3_gd7IEeWfkMH0esag_A" base_Element="_LN3YcN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LN50sN7IEeWfkMH0esag_A" base_Element="_LN4mkN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LN7C0d7IEeWfkMH0esag_A" base_Element="_LN6bwN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LN84AN7IEeWfkMH0esag_A" base_Element="_LN7p4N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LN-GIN7IEeWfkMH0esag_A" base_Element="_LN84Ad7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LN_UQN7IEeWfkMH0esag_A" base_Element="_LN-tMN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOAiYN7IEeWfkMH0esag_A" base_Element="_LN_7UN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOBJcd7IEeWfkMH0esag_A" base_Element="_LOAiYd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOCXkN7IEeWfkMH0esag_A" base_Element="_LOBwgN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOC-od7IEeWfkMH0esag_A" base_Element="_LOCXkd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOEMwN7IEeWfkMH0esag_A" base_Element="_LODlsN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOFa4N7IEeWfkMH0esag_A" base_Element="_LOEMwd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOGpAN7IEeWfkMH0esag_A" base_Element="_LOFa4d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOH3IN7IEeWfkMH0esag_A" base_Element="_LOGpAd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOJFQN7IEeWfkMH0esag_A" base_Element="_LOH3Id7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOJsUd7IEeWfkMH0esag_A" base_Element="_LOJFQd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOK6cN7IEeWfkMH0esag_A" base_Element="_LOKTYN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOLhgd7IEeWfkMH0esag_A" base_Element="_LOK6cd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LONWsN7IEeWfkMH0esag_A" base_Element="_LOMIkN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOOk0N7IEeWfkMH0esag_A" base_Element="_LONWsd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOUEYd7IEeWfkMH0esag_A" base_Element="_LOTdUN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_LOXuwN7IEeWfkMH0esag_A" base_Element="_LOXHsN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRUVEN7IEeWfkMH0esag_A" base_Element="_LRTuAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRU8IN7IEeWfkMH0esag_A" base_Element="_LRUVEd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRWKQN7IEeWfkMH0esag_A" base_Element="_LRVjMN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRWxUN7IEeWfkMH0esag_A" base_Element="_LRWKQd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRXYYN7IEeWfkMH0esag_A" base_Element="_LRWxUd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRX_cN7IEeWfkMH0esag_A" base_Element="_LRXYYd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRZNkN7IEeWfkMH0esag_A" base_Element="_LRX_cd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRZ0oN7IEeWfkMH0esag_A" base_Element="_LRZNkd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRbCwN7IEeWfkMH0esag_A" base_Element="_LRZ0od7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRbp0N7IEeWfkMH0esag_A" base_Element="_LRbCwd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRc38N7IEeWfkMH0esag_A" base_Element="_LRcQ4N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRdfAN7IEeWfkMH0esag_A" base_Element="_LRc38d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LReGEN7IEeWfkMH0esag_A" base_Element="_LRdfAd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRetIN7IEeWfkMH0esag_A" base_Element="_LReGEd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRfUMN7IEeWfkMH0esag_A" base_Element="_LRetId7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRgiUN7IEeWfkMH0esag_A" base_Element="_LRf7QN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRhJYN7IEeWfkMH0esag_A" base_Element="_LRgiUd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRhwcN7IEeWfkMH0esag_A" base_Element="_LRhJYd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRiXgN7IEeWfkMH0esag_A" base_Element="_LRhwcd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRi-kt7IEeWfkMH0esag_A" base_Element="_LRi-kN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRkMsN7IEeWfkMH0esag_A" base_Element="_LRjloN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRkzwN7IEeWfkMH0esag_A" base_Element="_LRkMsd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRla0N7IEeWfkMH0esag_A" base_Element="_LRkzwd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRmB4N7IEeWfkMH0esag_A" base_Element="_LRla0d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRmo8N7IEeWfkMH0esag_A" base_Element="_LRmB4d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRn3EN7IEeWfkMH0esag_A" base_Element="_LRnQAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRoeIN7IEeWfkMH0esag_A" base_Element="_LRn3Ed7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRpsQN7IEeWfkMH0esag_A" base_Element="_LRpFMN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRqTUN7IEeWfkMH0esag_A" base_Element="_LRpsQd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRrhcN7IEeWfkMH0esag_A" base_Element="_LRqTUd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRsIgN7IEeWfkMH0esag_A" base_Element="_LRrhcd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRtWoN7IEeWfkMH0esag_A" base_Element="_LRsvkN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRt9sN7IEeWfkMH0esag_A" base_Element="_LRtWod7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRvL0N7IEeWfkMH0esag_A" base_Element="_LRukwN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRvy4N7IEeWfkMH0esag_A" base_Element="_LRvL0d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRwZ8N7IEeWfkMH0esag_A" base_Element="_LRvy4d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRxoEN7IEeWfkMH0esag_A" base_Element="_LRxBAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRyPIN7IEeWfkMH0esag_A" base_Element="_LRxoEd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LRzdQN7IEeWfkMH0esag_A" base_Element="_LRy2MN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR0EUN7IEeWfkMH0esag_A" base_Element="_LRzdQd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR1ScN7IEeWfkMH0esag_A" base_Element="_LR0rYN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR15gN7IEeWfkMH0esag_A" base_Element="_LR1Scd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR3HoN7IEeWfkMH0esag_A" base_Element="_LR2gkN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR3usN7IEeWfkMH0esag_A" base_Element="_LR3Hod7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR4VwN7IEeWfkMH0esag_A" base_Element="_LR3usd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR5j4N7IEeWfkMH0esag_A" base_Element="_LR480N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR6K8N7IEeWfkMH0esag_A" base_Element="_LR5j4d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR6yAN7IEeWfkMH0esag_A" base_Element="_LR6K8d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR7ZEN7IEeWfkMH0esag_A" base_Element="_LR6yAd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR8AIN7IEeWfkMH0esag_A" base_Element="_LR7ZEd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR8nMt7IEeWfkMH0esag_A" base_Element="_LR8nMN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR9OQt7IEeWfkMH0esag_A" base_Element="_LR9OQN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR91Ud7IEeWfkMH0esag_A" base_Element="_LR9OQ97IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR-cYN7IEeWfkMH0esag_A" base_Element="_LR91Ut7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR_DcN7IEeWfkMH0esag_A" base_Element="_LR-cYd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LR_qgN7IEeWfkMH0esag_A" base_Element="_LR_Dcd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSARkt7IEeWfkMH0esag_A" base_Element="_LSARkN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSA4od7IEeWfkMH0esag_A" base_Element="_LSARk97IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSBfsN7IEeWfkMH0esag_A" base_Element="_LSA4ot7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSCGwN7IEeWfkMH0esag_A" base_Element="_LSBfsd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSCt0N7IEeWfkMH0esag_A" base_Element="_LSCGwd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSDU4N7IEeWfkMH0esag_A" base_Element="_LSCt0d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSD78N7IEeWfkMH0esag_A" base_Element="_LSDU4d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSEjAN7IEeWfkMH0esag_A" base_Element="_LSD78d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSFKEN7IEeWfkMH0esag_A" base_Element="_LSEjAd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSFxIN7IEeWfkMH0esag_A" base_Element="_LSFKEd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSGYMN7IEeWfkMH0esag_A" base_Element="_LSFxId7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSG_Qt7IEeWfkMH0esag_A" base_Element="_LSG_QN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSHmUt7IEeWfkMH0esag_A" base_Element="_LSHmUN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSI0cN7IEeWfkMH0esag_A" base_Element="_LSINYN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSJbgN7IEeWfkMH0esag_A" base_Element="_LSI0cd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSKCkN7IEeWfkMH0esag_A" base_Element="_LSJbgd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSKpoN7IEeWfkMH0esag_A" base_Element="_LSKCkd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSLQsN7IEeWfkMH0esag_A" base_Element="_LSKpod7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSL3wN7IEeWfkMH0esag_A" base_Element="_LSLQsd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSNF4N7IEeWfkMH0esag_A" base_Element="_LSMe0N7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSNs8N7IEeWfkMH0esag_A" base_Element="_LSNF4d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSO7EN7IEeWfkMH0esag_A" base_Element="_LSOUAN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSPiIN7IEeWfkMH0esag_A" base_Element="_LSO7Ed7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSQwQN7IEeWfkMH0esag_A" base_Element="_LSQJMN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSRXUN7IEeWfkMH0esag_A" base_Element="_LSQwQd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSSlcN7IEeWfkMH0esag_A" base_Element="_LSRXUd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSTMgN7IEeWfkMH0esag_A" base_Element="_LSSlcd7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSUaoN7IEeWfkMH0esag_A" base_Element="_LSTzkN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSVBsN7IEeWfkMH0esag_A" base_Element="_LSUaod7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSWP0N7IEeWfkMH0esag_A" base_Element="_LSVowN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSW24N7IEeWfkMH0esag_A" base_Element="_LSWP0d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSXd8N7IEeWfkMH0esag_A" base_Element="_LSW24d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSYFAN7IEeWfkMH0esag_A" base_Element="_LSXd8d7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSYsEt7IEeWfkMH0esag_A" base_Element="_LSYsEN7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSZTIN7IEeWfkMH0esag_A" base_Element="_LSYsE97IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSZ6MN7IEeWfkMH0esag_A" base_Element="_LSZTId7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSahQN7IEeWfkMH0esag_A" base_Element="_LSZ6Md7IEeWfkMH0esag_A"/>
  <UMLLabProfile:Reference xmi:id="_LSbIUN7IEeWfkMH0esag_A" base_Element="_LSahQd7IEeWfkMH0esag_A"/>
</xmi:XMI>
